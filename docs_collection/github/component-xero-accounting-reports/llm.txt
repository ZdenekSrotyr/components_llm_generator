Directory structure:
└── keboola-component-xero-accounting-reports/
    ├── README.md
    ├── deploy.sh
    ├── docker-compose.yml
    ├── Dockerfile
    ├── flake8.cfg
    ├── LICENSE.md
    ├── pyproject.toml
    ├── uv.lock
    ├── .pre-commit-config.yaml
    ├── component_config/
    │   ├── component_long_description.md
    │   ├── component_short_description.md
    │   ├── configRowSchema.json
    │   ├── configSchema.json
    │   ├── configuration_description.md
    │   ├── documentationUrl.md
    │   ├── licenseUrl.md
    │   ├── logger
    │   ├── loggerConfiguration.json
    │   ├── sourceCodeUrl.md
    │   └── sample-config/
    │       ├── config.json
    │       └── in/
    │           ├── state.json
    │           ├── files/
    │           │   └── order1.xml
    │           └── tables/
    │               ├── test.csv
    │               └── test.csv.manifest
    ├── scripts/
    │   ├── build_n_test.sh
    │   └── developer_portal/
    │       ├── fn_actions_md_update.sh
    │       └── update_properties.sh
    ├── src/
    │   ├── component.py
    │   ├── configuration.py
    │   └── xero_client.py
    ├── tests/
    │   ├── __init__.py
    │   ├── test_component.py
    │   ├── test_configuration.py
    │   ├── test_functional.py
    │   ├── test_xero_client.py
    │   └── functional/
    │       ├── 01_ProfitAndLoss/
    │       │   └── source/
    │       │       └── ProfitAndLoss_response.json
    │       ├── 02_BalanceSheet/
    │       │   └── source/
    │       │       └── BalanceSheet_response.json
    │       ├── 03_TrialBalance/
    │       │   └── source/
    │       │       └── TrialBalance_response.json
    │       ├── 04_ExecutiveSummary/
    │       │   └── source/
    │       │       └── ExecutiveSummary_response.json
    │       ├── 05_BankSummary/
    │       │   └── source/
    │       │       └── BankSummary_response.json
    │       ├── 06_BudgetSummary/
    │       │   └── source/
    │       │       └── BudgetSummary_response.json
    │       ├── 07_AgedReceivablesByContact/
    │       │   └── source/
    │       │       └── AgedReceivablesByContact_response.json
    │       └── 08_AgedPayablesByContact/
    │           └── source/
    │               └── AgedPayablesByContact_response.json
    └── .github/
        └── workflows/
            └── push.yml

================================================
FILE: README.md
================================================
# Xero Accounting Reports Extractor

Keboola component for extracting reports from Xero's Accounting API.

## Features

- **Multiple Reports**: Configure multiple reports with individual destination settings
- **11+ Standard Reports**: Supports all Xero standard reports (Profit & Loss, Balance Sheet, etc.)
- **Dynamic Date Parsing**: Use relative dates like "yesterday", "30 days ago", "start of month"
- **OAuth 2.0 Authentication**: Secure authentication via Keboola's OAuth integration

## Supported Reports

- 1099 Report (US organizations)
- Aged Payables By Contact
- Aged Receivables By Contact
- Balance Sheet
- Bank Summary
- BAS Report (Australia organizations)
- Budget Summary
- Executive Summary
- GST Report (New Zealand organizations)
- Profit and Loss
- Trial Balance
- Custom Reports

## Configuration

### Report Type
Select the type of report you want to extract from the dropdown.

### Parameters
Common parameters supported:
- `fromDate` / `toDate` - Date range for the report (supports dynamic dates)
- `date` - As-at date for snapshot reports
- `periods` - Number of comparison periods (1-12)
- `timeframe` - Period size (MONTH, QUARTER, YEAR)
- `contactID` - Required for Aged Payables/Receivables reports
- Additional report-specific parameters

### Dynamic Dates
Use natural language for dates:
- `yesterday`, `today`
- `3 days ago`, `1 week ago`, `30 days ago`
- `start of month`, `end of month`
- Or absolute dates: `2024-01-31`


## Development

Build and run locally:
```bash
docker-compose build
docker-compose run --rm dev
```

Run tests:
```bash
docker-compose run --rm test
```

## Output

Each report generates a CSV file with the report data. The Xero report structure (nested Rows/Cells) is flattened into columns for easy analysis in Keboola Storage.

## Integration

For details about deployment and integration with Keboola, refer to the [deployment section of the developer documentation](https://developers.keboola.com/extend/component/deployment/).



================================================
FILE: deploy.sh
================================================
#!/bin/sh
set -e

env

# compatibility with travis and bitbucket
if [ ! -z ${BITBUCKET_TAG} ]
then
	echo "assigning bitbucket tag"
	export TAG="$BITBUCKET_TAG"
elif [ ! -z ${TRAVIS_TAG} ]
then
	echo "assigning travis tag"
	export TAG="$TRAVIS_TAG"
elif [ ! -z ${GITHUB_TAG} ]
then
	echo "assigning github tag"
	export TAG="$GITHUB_TAG"
else
	echo No Tag is set!
	exit 1
fi

echo "Tag is '${TAG}'"

#check if deployment is triggered only in master
if [ ${BITBUCKET_BRANCH} != "master" ]; then
               echo Deploy on tagged commit can be only executed in master!
               exit 1
fi

# Obtain the component repository and log in
echo "Obtain the component repository and log in"
docker pull quay.io/keboola/developer-portal-cli-v2:latest
export REPOSITORY=`docker run --rm  \
    -e KBC_DEVELOPERPORTAL_USERNAME \
    -e KBC_DEVELOPERPORTAL_PASSWORD \
    quay.io/keboola/developer-portal-cli-v2:latest \
    ecr:get-repository ${KBC_DEVELOPERPORTAL_VENDOR} ${KBC_DEVELOPERPORTAL_APP}`

echo "Set credentials"
eval $(docker run --rm \
    -e KBC_DEVELOPERPORTAL_USERNAME \
    -e KBC_DEVELOPERPORTAL_PASSWORD \
    quay.io/keboola/developer-portal-cli-v2:latest \
    ecr:get-login ${KBC_DEVELOPERPORTAL_VENDOR} ${KBC_DEVELOPERPORTAL_APP})

# Push to the repository
echo "Push to the repository"
docker tag ${APP_IMAGE}:latest ${REPOSITORY}:${TAG}
docker tag ${APP_IMAGE}:latest ${REPOSITORY}:latest
docker push ${REPOSITORY}:${TAG}
docker push ${REPOSITORY}:latest

# Update the tag in Keboola Developer Portal -> Deploy to KBC
if echo ${TAG} | grep -c '^v\?[0-9]\+\.[0-9]\+\.[0-9]\+$'
then
    docker run --rm \
        -e KBC_DEVELOPERPORTAL_USERNAME \
        -e KBC_DEVELOPERPORTAL_PASSWORD \
        quay.io/keboola/developer-portal-cli-v2:latest \
        update-app-repository ${KBC_DEVELOPERPORTAL_VENDOR} ${KBC_DEVELOPERPORTAL_APP} ${TAG} ecr ${REPOSITORY}
else
    echo "Skipping deployment to KBC, tag ${TAG} is not allowed."
fi



================================================
FILE: docker-compose.yml
================================================
services:
  # for development purposes
  dev:
    build: .
    volumes:
        - ./:/code
        - ./data:/data
    environment:
      - KBC_DATADIR=./data
  test:
    # Use to run flake8 and unittests checks
    build: .
    volumes:
      - ./:/code
      - ./data:/data
    environment:
      - KBC_DATADIR=./data
    command:
      - /bin/sh
      - /code/scripts/build_n_test.sh



================================================
FILE: Dockerfile
================================================
FROM python:3.13-slim
COPY --from=ghcr.io/astral-sh/uv:latest /uv /uvx /bin/

# uncomment the following line should you have any troubles installing certain packages which require C/C++ extensions
# to be compiled during installation, eg. numpy, psycopg2, …
# RUN apt-get update && apt-get install -y build-essential

WORKDIR /code/

COPY pyproject.toml .
COPY uv.lock .

ENV UV_PROJECT_ENVIRONMENT="/usr/local/"
RUN uv sync --all-groups --frozen

COPY src/ src
COPY tests/ tests
COPY scripts/ scripts
COPY flake8.cfg .
COPY deploy.sh .

CMD ["python", "-u", "src/component.py"]



================================================
FILE: flake8.cfg
================================================
[flake8]
exclude =
    __pycache__,
    .git,
    .venv,
    venv
ignore = E203,W503
max-line-length = 120



================================================
FILE: LICENSE.md
================================================
The MIT License (MIT)

Copyright (c) 2018 Keboola DS, http://keboola.com

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files, to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is furnished
to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.


================================================
FILE: pyproject.toml
================================================
[project]
name = "xero-accounting-reports"
dynamic = ["version"]
readme = "README.md"
requires-python = "~=3.13.0"
dependencies = [
    "freezegun>=1.5.1",
    "keboola-component>=1.6.10",
    "keboola-http-client>=1.0.1",
    "keboola-utils>=1.1.0",
    "mock>=5.2.0",
    "pydantic>=2.11.3",
    "responses>=0.25.0",
    "pytest"
]

[dependency-groups]
dev = [
    "flake8>=7.3.0",
    "ruff>=0.13.3",
]



================================================
FILE: uv.lock
================================================
version = 1
revision = 3
requires-python = "==3.13.*"

[[package]]
name = "annotated-types"
version = "0.7.0"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/ee/67/531ea369ba64dcff5ec9c3402f9f51bf748cec26dde048a2f973a4eea7f5/annotated_types-0.7.0.tar.gz", hash = "sha256:aff07c09a53a08bc8cfccb9c85b05f1aa9a2a6f23728d790723543408344ce89", size = 16081, upload-time = "2024-05-20T21:33:25.928Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/78/b6/6307fbef88d9b5ee7421e68d78a9f162e0da4900bc5f5793f6d3d0e34fb8/annotated_types-0.7.0-py3-none-any.whl", hash = "sha256:1f02e8b43a8fbbc3f3e0d4f0f4bfc8131bcb4eebe8849b8e5c773f3a1c582a53", size = 13643, upload-time = "2024-05-20T21:33:24.1Z" },
]

[[package]]
name = "certifi"
version = "2025.1.31"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/1c/ab/c9f1e32b7b1bf505bf26f0ef697775960db7932abeb7b516de930ba2705f/certifi-2025.1.31.tar.gz", hash = "sha256:3d5da6925056f6f18f119200434a4780a94263f10d1c21d032a6f6b2baa20651", size = 167577, upload-time = "2025-01-31T02:16:47.166Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/38/fc/bce832fd4fd99766c04d1ee0eead6b0ec6486fb100ae5e74c1d91292b982/certifi-2025.1.31-py3-none-any.whl", hash = "sha256:ca78db4565a652026a4db2bcdf68f2fb589ea80d0be70e03929ed730746b84fe", size = 166393, upload-time = "2025-01-31T02:16:45.015Z" },
]

[[package]]
name = "charset-normalizer"
version = "3.4.1"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/16/b0/572805e227f01586461c80e0fd25d65a2115599cc9dad142fee4b747c357/charset_normalizer-3.4.1.tar.gz", hash = "sha256:44251f18cd68a75b56585dd00dae26183e102cd5e0f9f1466e6df5da2ed64ea3", size = 123188, upload-time = "2024-12-24T18:12:35.43Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/38/94/ce8e6f63d18049672c76d07d119304e1e2d7c6098f0841b51c666e9f44a0/charset_normalizer-3.4.1-cp313-cp313-macosx_10_13_universal2.whl", hash = "sha256:aabfa34badd18f1da5ec1bc2715cadc8dca465868a4e73a0173466b688f29dda", size = 195698, upload-time = "2024-12-24T18:11:05.834Z" },
    { url = "https://files.pythonhosted.org/packages/24/2e/dfdd9770664aae179a96561cc6952ff08f9a8cd09a908f259a9dfa063568/charset_normalizer-3.4.1-cp313-cp313-manylinux_2_17_aarch64.manylinux2014_aarch64.whl", hash = "sha256:22e14b5d70560b8dd51ec22863f370d1e595ac3d024cb8ad7d308b4cd95f8313", size = 140162, upload-time = "2024-12-24T18:11:07.064Z" },
    { url = "https://files.pythonhosted.org/packages/24/4e/f646b9093cff8fc86f2d60af2de4dc17c759de9d554f130b140ea4738ca6/charset_normalizer-3.4.1-cp313-cp313-manylinux_2_17_ppc64le.manylinux2014_ppc64le.whl", hash = "sha256:8436c508b408b82d87dc5f62496973a1805cd46727c34440b0d29d8a2f50a6c9", size = 150263, upload-time = "2024-12-24T18:11:08.374Z" },
    { url = "https://files.pythonhosted.org/packages/5e/67/2937f8d548c3ef6e2f9aab0f6e21001056f692d43282b165e7c56023e6dd/charset_normalizer-3.4.1-cp313-cp313-manylinux_2_17_s390x.manylinux2014_s390x.whl", hash = "sha256:2d074908e1aecee37a7635990b2c6d504cd4766c7bc9fc86d63f9c09af3fa11b", size = 142966, upload-time = "2024-12-24T18:11:09.831Z" },
    { url = "https://files.pythonhosted.org/packages/52/ed/b7f4f07de100bdb95c1756d3a4d17b90c1a3c53715c1a476f8738058e0fa/charset_normalizer-3.4.1-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl", hash = "sha256:955f8851919303c92343d2f66165294848d57e9bba6cf6e3625485a70a038d11", size = 144992, upload-time = "2024-12-24T18:11:12.03Z" },
    { url = "https://files.pythonhosted.org/packages/96/2c/d49710a6dbcd3776265f4c923bb73ebe83933dfbaa841c5da850fe0fd20b/charset_normalizer-3.4.1-cp313-cp313-manylinux_2_5_i686.manylinux1_i686.manylinux_2_17_i686.manylinux2014_i686.whl", hash = "sha256:44ecbf16649486d4aebafeaa7ec4c9fed8b88101f4dd612dcaf65d5e815f837f", size = 147162, upload-time = "2024-12-24T18:11:13.372Z" },
    { url = "https://files.pythonhosted.org/packages/b4/41/35ff1f9a6bd380303dea55e44c4933b4cc3c4850988927d4082ada230273/charset_normalizer-3.4.1-cp313-cp313-musllinux_1_2_aarch64.whl", hash = "sha256:0924e81d3d5e70f8126529951dac65c1010cdf117bb75eb02dd12339b57749dd", size = 140972, upload-time = "2024-12-24T18:11:14.628Z" },
    { url = "https://files.pythonhosted.org/packages/fb/43/c6a0b685fe6910d08ba971f62cd9c3e862a85770395ba5d9cad4fede33ab/charset_normalizer-3.4.1-cp313-cp313-musllinux_1_2_i686.whl", hash = "sha256:2967f74ad52c3b98de4c3b32e1a44e32975e008a9cd2a8cc8966d6a5218c5cb2", size = 149095, upload-time = "2024-12-24T18:11:17.672Z" },
    { url = "https://files.pythonhosted.org/packages/4c/ff/a9a504662452e2d2878512115638966e75633519ec11f25fca3d2049a94a/charset_normalizer-3.4.1-cp313-cp313-musllinux_1_2_ppc64le.whl", hash = "sha256:c75cb2a3e389853835e84a2d8fb2b81a10645b503eca9bcb98df6b5a43eb8886", size = 152668, upload-time = "2024-12-24T18:11:18.989Z" },
    { url = "https://files.pythonhosted.org/packages/6c/71/189996b6d9a4b932564701628af5cee6716733e9165af1d5e1b285c530ed/charset_normalizer-3.4.1-cp313-cp313-musllinux_1_2_s390x.whl", hash = "sha256:09b26ae6b1abf0d27570633b2b078a2a20419c99d66fb2823173d73f188ce601", size = 150073, upload-time = "2024-12-24T18:11:21.507Z" },
    { url = "https://files.pythonhosted.org/packages/e4/93/946a86ce20790e11312c87c75ba68d5f6ad2208cfb52b2d6a2c32840d922/charset_normalizer-3.4.1-cp313-cp313-musllinux_1_2_x86_64.whl", hash = "sha256:fa88b843d6e211393a37219e6a1c1df99d35e8fd90446f1118f4216e307e48cd", size = 145732, upload-time = "2024-12-24T18:11:22.774Z" },
    { url = "https://files.pythonhosted.org/packages/cd/e5/131d2fb1b0dddafc37be4f3a2fa79aa4c037368be9423061dccadfd90091/charset_normalizer-3.4.1-cp313-cp313-win32.whl", hash = "sha256:eb8178fe3dba6450a3e024e95ac49ed3400e506fd4e9e5c32d30adda88cbd407", size = 95391, upload-time = "2024-12-24T18:11:24.139Z" },
    { url = "https://files.pythonhosted.org/packages/27/f2/4f9a69cc7712b9b5ad8fdb87039fd89abba997ad5cbe690d1835d40405b0/charset_normalizer-3.4.1-cp313-cp313-win_amd64.whl", hash = "sha256:b1ac5992a838106edb89654e0aebfc24f5848ae2547d22c2c3f66454daa11971", size = 102702, upload-time = "2024-12-24T18:11:26.535Z" },
    { url = "https://files.pythonhosted.org/packages/0e/f6/65ecc6878a89bb1c23a086ea335ad4bf21a588990c3f535a227b9eea9108/charset_normalizer-3.4.1-py3-none-any.whl", hash = "sha256:d98b1668f06378c6dbefec3b92299716b931cd4e6061f3c875a71ced1780ab85", size = 49767, upload-time = "2024-12-24T18:12:32.852Z" },
]

[[package]]
name = "colorama"
version = "0.4.6"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/d8/53/6f443c9a4a8358a93a6792e2acffb9d9d5cb0a5cfd8802644b7b1c9a02e4/colorama-0.4.6.tar.gz", hash = "sha256:08695f5cb7ed6e0531a20572697297273c47b8cae5a63ffc6d6ed5c201be6e44", size = 27697, upload-time = "2022-10-25T02:36:22.414Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/d1/d6/3965ed04c63042e047cb6a3e6ed1a63a35087b6a609aa3a15ed8ac56c221/colorama-0.4.6-py2.py3-none-any.whl", hash = "sha256:4f1d9991f5acc0ca119f9d443620b77f9d6b33703e51011c16baf57afb285fc6", size = 25335, upload-time = "2022-10-25T02:36:20.889Z" },
]

[[package]]
name = "dateparser"
version = "1.2.1"
source = { registry = "https://pypi.org/simple" }
dependencies = [
    { name = "python-dateutil" },
    { name = "pytz" },
    { name = "regex" },
    { name = "tzlocal" },
]
sdist = { url = "https://files.pythonhosted.org/packages/bd/3f/d3207a05f5b6a78c66d86631e60bfba5af163738a599a5b9aa2c2737a09e/dateparser-1.2.1.tar.gz", hash = "sha256:7e4919aeb48481dbfc01ac9683c8e20bfe95bb715a38c1e9f6af889f4f30ccc3", size = 309924, upload-time = "2025-02-05T12:34:55.593Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/cf/0a/981c438c4cd84147c781e4e96c1d72df03775deb1bc76c5a6ee8afa89c62/dateparser-1.2.1-py3-none-any.whl", hash = "sha256:bdcac262a467e6260030040748ad7c10d6bacd4f3b9cdb4cfd2251939174508c", size = 295658, upload-time = "2025-02-05T12:34:53.1Z" },
]

[[package]]
name = "deprecated"
version = "1.2.18"
source = { registry = "https://pypi.org/simple" }
dependencies = [
    { name = "wrapt" },
]
sdist = { url = "https://files.pythonhosted.org/packages/98/97/06afe62762c9a8a86af0cfb7bfdab22a43ad17138b07af5b1a58442690a2/deprecated-1.2.18.tar.gz", hash = "sha256:422b6f6d859da6f2ef57857761bfb392480502a64c3028ca9bbe86085d72115d", size = 2928744, upload-time = "2025-01-27T10:46:25.7Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/6e/c6/ac0b6c1e2d138f1002bcf799d330bd6d85084fece321e662a14223794041/Deprecated-1.2.18-py2.py3-none-any.whl", hash = "sha256:bd5011788200372a32418f888e326a09ff80d0214bd961147cfed01b5c018eec", size = 9998, upload-time = "2025-01-27T10:46:09.186Z" },
]

[[package]]
name = "flake8"
version = "7.3.0"
source = { registry = "https://pypi.org/simple" }
dependencies = [
    { name = "mccabe" },
    { name = "pycodestyle" },
    { name = "pyflakes" },
]
sdist = { url = "https://files.pythonhosted.org/packages/9b/af/fbfe3c4b5a657d79e5c47a2827a362f9e1b763336a52f926126aa6dc7123/flake8-7.3.0.tar.gz", hash = "sha256:fe044858146b9fc69b551a4b490d69cf960fcb78ad1edcb84e7fbb1b4a8e3872", size = 48326, upload-time = "2025-06-20T19:31:35.838Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/9f/56/13ab06b4f93ca7cac71078fbe37fcea175d3216f31f85c3168a6bbd0bb9a/flake8-7.3.0-py2.py3-none-any.whl", hash = "sha256:b9696257b9ce8beb888cdbe31cf885c90d31928fe202be0889a7cdafad32f01e", size = 57922, upload-time = "2025-06-20T19:31:34.425Z" },
]

[[package]]
name = "freezegun"
version = "1.5.1"
source = { registry = "https://pypi.org/simple" }
dependencies = [
    { name = "python-dateutil" },
]
sdist = { url = "https://files.pythonhosted.org/packages/2c/ef/722b8d71ddf4d48f25f6d78aa2533d505bf3eec000a7cacb8ccc8de61f2f/freezegun-1.5.1.tar.gz", hash = "sha256:b29dedfcda6d5e8e083ce71b2b542753ad48cfec44037b3fc79702e2980a89e9", size = 33697, upload-time = "2024-05-11T17:32:53.911Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/51/0b/0d7fee5919bccc1fdc1c2a7528b98f65c6f69b223a3fd8f809918c142c36/freezegun-1.5.1-py3-none-any.whl", hash = "sha256:bf111d7138a8abe55ab48a71755673dbaa4ab87f4cff5634a4442dfec34c15f1", size = 17569, upload-time = "2024-05-11T17:32:51.715Z" },
]

[[package]]
name = "idna"
version = "3.10"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/f1/70/7703c29685631f5a7590aa73f1f1d3fa9a380e654b86af429e0934a32f7d/idna-3.10.tar.gz", hash = "sha256:12f65c9b470abda6dc35cf8e63cc574b1c52b11df2c86030af0ac09b01b13ea9", size = 190490, upload-time = "2024-09-15T18:07:39.745Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/76/c6/c88e154df9c4e1a2a66ccf0005a88dfb2650c1dffb6f5ce603dfbd452ce3/idna-3.10-py3-none-any.whl", hash = "sha256:946d195a0d259cbba61165e88e65941f16e9b36ea6ddb97f00452bae8b1287d3", size = 70442, upload-time = "2024-09-15T18:07:37.964Z" },
]

[[package]]
name = "iniconfig"
version = "2.3.0"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/72/34/14ca021ce8e5dfedc35312d08ba8bf51fdd999c576889fc2c24cb97f4f10/iniconfig-2.3.0.tar.gz", hash = "sha256:c76315c77db068650d49c5b56314774a7804df16fee4402c1f19d6d15d8c4730", size = 20503, upload-time = "2025-10-18T21:55:43.219Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/cb/b1/3846dd7f199d53cb17f49cba7e651e9ce294d8497c8c150530ed11865bb8/iniconfig-2.3.0-py3-none-any.whl", hash = "sha256:f631c04d2c48c52b84d0d0549c99ff3859c98df65b3101406327ecc7d53fbf12", size = 7484, upload-time = "2025-10-18T21:55:41.639Z" },
]

[[package]]
name = "keboola-component"
version = "1.6.10"
source = { registry = "https://pypi.org/simple" }
dependencies = [
    { name = "deprecated" },
    { name = "pygelf" },
    { name = "pytz" },
]
sdist = { url = "https://files.pythonhosted.org/packages/ef/dd/391f1e6eaae5e925f56f30788c40e38c8bce3a80ee898512e79ced2eabab/keboola.component-1.6.10.tar.gz", hash = "sha256:5f4c347e8e96bb4dff1fe1254217e88754a4edea8a1b147815552335dcfba941", size = 47336, upload-time = "2025-01-17T11:56:05.419Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/4c/34/301082c106bff256e2871a5c5db54d691fdad77a9d8a89a52eef30cd18ed/keboola.component-1.6.10-py3-none-any.whl", hash = "sha256:9a13b73beb71373d9a2b456eb44f902cfcfc07747c084bfbfad761b5eaaa4d93", size = 42243, upload-time = "2025-01-17T11:56:04.215Z" },
]

[[package]]
name = "keboola-http-client"
version = "1.0.1"
source = { registry = "https://pypi.org/simple" }
dependencies = [
    { name = "requests" },
]
sdist = { url = "https://files.pythonhosted.org/packages/bd/46/81805cea9f7eff8af310a43e39b312794c9143b89fdcfdc5f502ed1818c6/keboola.http_client-1.0.1.tar.gz", hash = "sha256:58f828c61a709ac484e85e2acb5e78eae2db402e7846769b739a6c336384fa81", size = 10513, upload-time = "2024-12-05T13:53:56.975Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/27/18/293557d9245a1ec0e0826202ca341bb769033121d1bd1991226db908a5df/keboola.http_client-1.0.1-py3-none-any.whl", hash = "sha256:5d570789433c65325937f6d466cc6b8edc0558f984f03846f0200ae5c5b4b140", size = 8958, upload-time = "2024-12-05T13:53:55.413Z" },
]

[[package]]
name = "keboola-utils"
version = "1.1.0"
source = { registry = "https://pypi.org/simple" }
dependencies = [
    { name = "dateparser" },
    { name = "pytz" },
]
sdist = { url = "https://files.pythonhosted.org/packages/a7/b8/ccfddc2eb510f7a6ab878ab8a6249a23494194780a436676da6c2f5d23c7/keboola.utils-1.1.0.tar.gz", hash = "sha256:e943dbda932d945bcd5edd51283eea8f7035249c9dac769d3e96d2f507b52f60", size = 9830, upload-time = "2021-04-09T11:11:49.828Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/f9/f4/6697a0c2ff512baa7b84413972e51d5449a0a145f68dc750f05a8b1da39d/keboola.utils-1.1.0-py3-none-any.whl", hash = "sha256:8c73faa4a81f371a2eecd8465b08a51b3f7608969dd91d38d5b3bcfad7ef0da5", size = 10131, upload-time = "2021-04-09T11:11:48.826Z" },
]

[[package]]
name = "mccabe"
version = "0.7.0"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/e7/ff/0ffefdcac38932a54d2b5eed4e0ba8a408f215002cd178ad1df0f2806ff8/mccabe-0.7.0.tar.gz", hash = "sha256:348e0240c33b60bbdf4e523192ef919f28cb2c3d7d5c7794f74009290f236325", size = 9658, upload-time = "2022-01-24T01:14:51.113Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/27/1a/1f68f9ba0c207934b35b86a8ca3aad8395a3d6dd7921c0686e23853ff5a9/mccabe-0.7.0-py2.py3-none-any.whl", hash = "sha256:6c2d30ab6be0e4a46919781807b4f0d834ebdd6c6e3dca0bda5a15f863427b6e", size = 7350, upload-time = "2022-01-24T01:14:49.62Z" },
]

[[package]]
name = "mock"
version = "5.2.0"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/07/8c/14c2ae915e5f9dca5a22edd68b35be94400719ccfa068a03e0fb63d0f6f6/mock-5.2.0.tar.gz", hash = "sha256:4e460e818629b4b173f32d08bf30d3af8123afbb8e04bb5707a1fd4799e503f0", size = 92796, upload-time = "2025-03-03T12:31:42.911Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/bd/d9/617e6af809bf3a1d468e0d58c3997b1dc219a9a9202e650d30c2fc85d481/mock-5.2.0-py3-none-any.whl", hash = "sha256:7ba87f72ca0e915175596069dbbcc7c75af7b5e9b9bc107ad6349ede0819982f", size = 31617, upload-time = "2025-03-03T12:31:41.518Z" },
]

[[package]]
name = "packaging"
version = "25.0"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/a1/d4/1fc4078c65507b51b96ca8f8c3ba19e6a61c8253c72794544580a7b6c24d/packaging-25.0.tar.gz", hash = "sha256:d443872c98d677bf60f6a1f2f8c1cb748e8fe762d2bf9d3148b5599295b0fc4f", size = 165727, upload-time = "2025-04-19T11:48:59.673Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/20/12/38679034af332785aac8774540895e234f4d07f7545804097de4b666afd8/packaging-25.0-py3-none-any.whl", hash = "sha256:29572ef2b1f17581046b3a2227d5c611fb25ec70ca1ba8554b24b0e69331a484", size = 66469, upload-time = "2025-04-19T11:48:57.875Z" },
]

[[package]]
name = "pluggy"
version = "1.6.0"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/f9/e2/3e91f31a7d2b083fe6ef3fa267035b518369d9511ffab804f839851d2779/pluggy-1.6.0.tar.gz", hash = "sha256:7dcc130b76258d33b90f61b658791dede3486c3e6bfb003ee5c9bfb396dd22f3", size = 69412, upload-time = "2025-05-15T12:30:07.975Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/54/20/4d324d65cc6d9205fabedc306948156824eb9f0ee1633355a8f7ec5c66bf/pluggy-1.6.0-py3-none-any.whl", hash = "sha256:e920276dd6813095e9377c0bc5566d94c932c33b27a3e3945d8389c374dd4746", size = 20538, upload-time = "2025-05-15T12:30:06.134Z" },
]

[[package]]
name = "pycodestyle"
version = "2.14.0"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/11/e0/abfd2a0d2efe47670df87f3e3a0e2edda42f055053c85361f19c0e2c1ca8/pycodestyle-2.14.0.tar.gz", hash = "sha256:c4b5b517d278089ff9d0abdec919cd97262a3367449ea1c8b49b91529167b783", size = 39472, upload-time = "2025-06-20T18:49:48.75Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/d7/27/a58ddaf8c588a3ef080db9d0b7e0b97215cee3a45df74f3a94dbbf5c893a/pycodestyle-2.14.0-py2.py3-none-any.whl", hash = "sha256:dd6bf7cb4ee77f8e016f9c8e74a35ddd9f67e1d5fd4184d86c3b98e07099f42d", size = 31594, upload-time = "2025-06-20T18:49:47.491Z" },
]

[[package]]
name = "pydantic"
version = "2.11.3"
source = { registry = "https://pypi.org/simple" }
dependencies = [
    { name = "annotated-types" },
    { name = "pydantic-core" },
    { name = "typing-extensions" },
    { name = "typing-inspection" },
]
sdist = { url = "https://files.pythonhosted.org/packages/10/2e/ca897f093ee6c5f3b0bee123ee4465c50e75431c3d5b6a3b44a47134e891/pydantic-2.11.3.tar.gz", hash = "sha256:7471657138c16adad9322fe3070c0116dd6c3ad8d649300e3cbdfe91f4db4ec3", size = 785513, upload-time = "2025-04-08T13:27:06.399Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/b0/1d/407b29780a289868ed696d1616f4aad49d6388e5a77f567dcd2629dcd7b8/pydantic-2.11.3-py3-none-any.whl", hash = "sha256:a082753436a07f9ba1289c6ffa01cd93db3548776088aa917cc43b63f68fa60f", size = 443591, upload-time = "2025-04-08T13:27:03.789Z" },
]

[[package]]
name = "pydantic-core"
version = "2.33.1"
source = { registry = "https://pypi.org/simple" }
dependencies = [
    { name = "typing-extensions" },
]
sdist = { url = "https://files.pythonhosted.org/packages/17/19/ed6a078a5287aea7922de6841ef4c06157931622c89c2a47940837b5eecd/pydantic_core-2.33.1.tar.gz", hash = "sha256:bcc9c6fdb0ced789245b02b7d6603e17d1563064ddcfc36f046b61c0c05dd9df", size = 434395, upload-time = "2025-04-02T09:49:41.8Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/7a/24/eed3466a4308d79155f1cdd5c7432c80ddcc4530ba8623b79d5ced021641/pydantic_core-2.33.1-cp313-cp313-macosx_10_12_x86_64.whl", hash = "sha256:70af6a21237b53d1fe7b9325b20e65cbf2f0a848cf77bed492b029139701e66a", size = 2033551, upload-time = "2025-04-02T09:47:51.648Z" },
    { url = "https://files.pythonhosted.org/packages/ab/14/df54b1a0bc9b6ded9b758b73139d2c11b4e8eb43e8ab9c5847c0a2913ada/pydantic_core-2.33.1-cp313-cp313-macosx_11_0_arm64.whl", hash = "sha256:282b3fe1bbbe5ae35224a0dbd05aed9ccabccd241e8e6b60370484234b456266", size = 1852785, upload-time = "2025-04-02T09:47:53.149Z" },
    { url = "https://files.pythonhosted.org/packages/fa/96/e275f15ff3d34bb04b0125d9bc8848bf69f25d784d92a63676112451bfb9/pydantic_core-2.33.1-cp313-cp313-manylinux_2_17_aarch64.manylinux2014_aarch64.whl", hash = "sha256:4b315e596282bbb5822d0c7ee9d255595bd7506d1cb20c2911a4da0b970187d3", size = 1897758, upload-time = "2025-04-02T09:47:55.006Z" },
    { url = "https://files.pythonhosted.org/packages/b7/d8/96bc536e975b69e3a924b507d2a19aedbf50b24e08c80fb00e35f9baaed8/pydantic_core-2.33.1-cp313-cp313-manylinux_2_17_armv7l.manylinux2014_armv7l.whl", hash = "sha256:1dfae24cf9921875ca0ca6a8ecb4bb2f13c855794ed0d468d6abbec6e6dcd44a", size = 1986109, upload-time = "2025-04-02T09:47:56.532Z" },
    { url = "https://files.pythonhosted.org/packages/90/72/ab58e43ce7e900b88cb571ed057b2fcd0e95b708a2e0bed475b10130393e/pydantic_core-2.33.1-cp313-cp313-manylinux_2_17_ppc64le.manylinux2014_ppc64le.whl", hash = "sha256:6dd8ecfde08d8bfadaea669e83c63939af76f4cf5538a72597016edfa3fad516", size = 2129159, upload-time = "2025-04-02T09:47:58.088Z" },
    { url = "https://files.pythonhosted.org/packages/dc/3f/52d85781406886c6870ac995ec0ba7ccc028b530b0798c9080531b409fdb/pydantic_core-2.33.1-cp313-cp313-manylinux_2_17_s390x.manylinux2014_s390x.whl", hash = "sha256:2f593494876eae852dc98c43c6f260f45abdbfeec9e4324e31a481d948214764", size = 2680222, upload-time = "2025-04-02T09:47:59.591Z" },
    { url = "https://files.pythonhosted.org/packages/f4/56/6e2ef42f363a0eec0fd92f74a91e0ac48cd2e49b695aac1509ad81eee86a/pydantic_core-2.33.1-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl", hash = "sha256:948b73114f47fd7016088e5186d13faf5e1b2fe83f5e320e371f035557fd264d", size = 2006980, upload-time = "2025-04-02T09:48:01.397Z" },
    { url = "https://files.pythonhosted.org/packages/4c/c0/604536c4379cc78359f9ee0aa319f4aedf6b652ec2854953f5a14fc38c5a/pydantic_core-2.33.1-cp313-cp313-manylinux_2_5_i686.manylinux1_i686.whl", hash = "sha256:e11f3864eb516af21b01e25fac915a82e9ddad3bb0fb9e95a246067398b435a4", size = 2120840, upload-time = "2025-04-02T09:48:03.056Z" },
    { url = "https://files.pythonhosted.org/packages/1f/46/9eb764814f508f0edfb291a0f75d10854d78113fa13900ce13729aaec3ae/pydantic_core-2.33.1-cp313-cp313-musllinux_1_1_aarch64.whl", hash = "sha256:549150be302428b56fdad0c23c2741dcdb5572413776826c965619a25d9c6bde", size = 2072518, upload-time = "2025-04-02T09:48:04.662Z" },
    { url = "https://files.pythonhosted.org/packages/42/e3/fb6b2a732b82d1666fa6bf53e3627867ea3131c5f39f98ce92141e3e3dc1/pydantic_core-2.33.1-cp313-cp313-musllinux_1_1_armv7l.whl", hash = "sha256:495bc156026efafd9ef2d82372bd38afce78ddd82bf28ef5276c469e57c0c83e", size = 2248025, upload-time = "2025-04-02T09:48:06.226Z" },
    { url = "https://files.pythonhosted.org/packages/5c/9d/fbe8fe9d1aa4dac88723f10a921bc7418bd3378a567cb5e21193a3c48b43/pydantic_core-2.33.1-cp313-cp313-musllinux_1_1_x86_64.whl", hash = "sha256:ec79de2a8680b1a67a07490bddf9636d5c2fab609ba8c57597e855fa5fa4dacd", size = 2254991, upload-time = "2025-04-02T09:48:08.114Z" },
    { url = "https://files.pythonhosted.org/packages/aa/99/07e2237b8a66438d9b26482332cda99a9acccb58d284af7bc7c946a42fd3/pydantic_core-2.33.1-cp313-cp313-win32.whl", hash = "sha256:ee12a7be1742f81b8a65b36c6921022301d466b82d80315d215c4c691724986f", size = 1915262, upload-time = "2025-04-02T09:48:09.708Z" },
    { url = "https://files.pythonhosted.org/packages/8a/f4/e457a7849beeed1e5defbcf5051c6f7b3c91a0624dd31543a64fc9adcf52/pydantic_core-2.33.1-cp313-cp313-win_amd64.whl", hash = "sha256:ede9b407e39949d2afc46385ce6bd6e11588660c26f80576c11c958e6647bc40", size = 1956626, upload-time = "2025-04-02T09:48:11.288Z" },
    { url = "https://files.pythonhosted.org/packages/20/d0/e8d567a7cff7b04e017ae164d98011f1e1894269fe8e90ea187a3cbfb562/pydantic_core-2.33.1-cp313-cp313-win_arm64.whl", hash = "sha256:aa687a23d4b7871a00e03ca96a09cad0f28f443690d300500603bd0adba4b523", size = 1909590, upload-time = "2025-04-02T09:48:12.861Z" },
    { url = "https://files.pythonhosted.org/packages/ef/fd/24ea4302d7a527d672c5be06e17df16aabfb4e9fdc6e0b345c21580f3d2a/pydantic_core-2.33.1-cp313-cp313t-macosx_11_0_arm64.whl", hash = "sha256:401d7b76e1000d0dd5538e6381d28febdcacb097c8d340dde7d7fc6e13e9f95d", size = 1812963, upload-time = "2025-04-02T09:48:14.553Z" },
    { url = "https://files.pythonhosted.org/packages/5f/95/4fbc2ecdeb5c1c53f1175a32d870250194eb2fdf6291b795ab08c8646d5d/pydantic_core-2.33.1-cp313-cp313t-manylinux_2_17_x86_64.manylinux2014_x86_64.whl", hash = "sha256:7aeb055a42d734c0255c9e489ac67e75397d59c6fbe60d155851e9782f276a9c", size = 1986896, upload-time = "2025-04-02T09:48:16.222Z" },
    { url = "https://files.pythonhosted.org/packages/71/ae/fe31e7f4a62431222d8f65a3bd02e3fa7e6026d154a00818e6d30520ea77/pydantic_core-2.33.1-cp313-cp313t-win_amd64.whl", hash = "sha256:338ea9b73e6e109f15ab439e62cb3b78aa752c7fd9536794112e14bee02c8d18", size = 1931810, upload-time = "2025-04-02T09:48:17.97Z" },
]

[[package]]
name = "pyflakes"
version = "3.4.0"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/45/dc/fd034dc20b4b264b3d015808458391acbf9df40b1e54750ef175d39180b1/pyflakes-3.4.0.tar.gz", hash = "sha256:b24f96fafb7d2ab0ec5075b7350b3d2d2218eab42003821c06344973d3ea2f58", size = 64669, upload-time = "2025-06-20T18:45:27.834Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/c2/2f/81d580a0fb83baeb066698975cb14a618bdbed7720678566f1b046a95fe8/pyflakes-3.4.0-py2.py3-none-any.whl", hash = "sha256:f742a7dbd0d9cb9ea41e9a24a918996e8170c799fa528688d40dd582c8265f4f", size = 63551, upload-time = "2025-06-20T18:45:26.937Z" },
]

[[package]]
name = "pygelf"
version = "0.4.2"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/fe/d3/73d1fe74a156f9a0e519bedc87815ed309e64af19c73b94352e4c0959ddb/pygelf-0.4.2.tar.gz", hash = "sha256:d0bb8f45ff648a9a187713f4a05c09f685fcb8add7b04bb7471f20071bd11aad", size = 11991, upload-time = "2021-10-06T23:32:05.764Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/03/cd/4afdddbc73f54ddf31d16137ef81c3d47192d75754b3115d925926081fd6/pygelf-0.4.2-py3-none-any.whl", hash = "sha256:ab57d1b26bffa014e29ae645ee51d2aa2f0c0cb419c522f2d24a237090b894a1", size = 8714, upload-time = "2021-10-06T23:32:03.156Z" },
]

[[package]]
name = "pygments"
version = "2.19.2"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/b0/77/a5b8c569bf593b0140bde72ea885a803b82086995367bf2037de0159d924/pygments-2.19.2.tar.gz", hash = "sha256:636cb2477cec7f8952536970bc533bc43743542f70392ae026374600add5b887", size = 4968631, upload-time = "2025-06-21T13:39:12.283Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/c7/21/705964c7812476f378728bdf590ca4b771ec72385c533964653c68e86bdc/pygments-2.19.2-py3-none-any.whl", hash = "sha256:86540386c03d588bb81d44bc3928634ff26449851e99741617ecb9037ee5ec0b", size = 1225217, upload-time = "2025-06-21T13:39:07.939Z" },
]

[[package]]
name = "pytest"
version = "9.0.1"
source = { registry = "https://pypi.org/simple" }
dependencies = [
    { name = "colorama", marker = "sys_platform == 'win32'" },
    { name = "iniconfig" },
    { name = "packaging" },
    { name = "pluggy" },
    { name = "pygments" },
]
sdist = { url = "https://files.pythonhosted.org/packages/07/56/f013048ac4bc4c1d9be45afd4ab209ea62822fb1598f40687e6bf45dcea4/pytest-9.0.1.tar.gz", hash = "sha256:3e9c069ea73583e255c3b21cf46b8d3c56f6e3a1a8f6da94ccb0fcf57b9d73c8", size = 1564125, upload-time = "2025-11-12T13:05:09.333Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/0b/8b/6300fb80f858cda1c51ffa17075df5d846757081d11ab4aa35cef9e6258b/pytest-9.0.1-py3-none-any.whl", hash = "sha256:67be0030d194df2dfa7b556f2e56fb3c3315bd5c8822c6951162b92b32ce7dad", size = 373668, upload-time = "2025-11-12T13:05:07.379Z" },
]

[[package]]
name = "python-dateutil"
version = "2.9.0.post0"
source = { registry = "https://pypi.org/simple" }
dependencies = [
    { name = "six" },
]
sdist = { url = "https://files.pythonhosted.org/packages/66/c0/0c8b6ad9f17a802ee498c46e004a0eb49bc148f2fd230864601a86dcf6db/python-dateutil-2.9.0.post0.tar.gz", hash = "sha256:37dd54208da7e1cd875388217d5e00ebd4179249f90fb72437e91a35459a0ad3", size = 342432, upload-time = "2024-03-01T18:36:20.211Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/ec/57/56b9bcc3c9c6a792fcbaf139543cee77261f3651ca9da0c93f5c1221264b/python_dateutil-2.9.0.post0-py2.py3-none-any.whl", hash = "sha256:a8b2bc7bffae282281c8140a97d3aa9c14da0b136dfe83f850eea9a5f7470427", size = 229892, upload-time = "2024-03-01T18:36:18.57Z" },
]

[[package]]
name = "pytz"
version = "2025.2"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/f8/bf/abbd3cdfb8fbc7fb3d4d38d320f2441b1e7cbe29be4f23797b4a2b5d8aac/pytz-2025.2.tar.gz", hash = "sha256:360b9e3dbb49a209c21ad61809c7fb453643e048b38924c765813546746e81c3", size = 320884, upload-time = "2025-03-25T02:25:00.538Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/81/c4/34e93fe5f5429d7570ec1fa436f1986fb1f00c3e0f43a589fe2bbcd22c3f/pytz-2025.2-py2.py3-none-any.whl", hash = "sha256:5ddf76296dd8c44c26eb8f4b6f35488f3ccbf6fbbd7adee0b7262d43f0ec2f00", size = 509225, upload-time = "2025-03-25T02:24:58.468Z" },
]

[[package]]
name = "pyyaml"
version = "6.0.3"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/05/8e/961c0007c59b8dd7729d542c61a4d537767a59645b82a0b521206e1e25c2/pyyaml-6.0.3.tar.gz", hash = "sha256:d76623373421df22fb4cf8817020cbb7ef15c725b9d5e45f17e189bfc384190f", size = 130960, upload-time = "2025-09-25T21:33:16.546Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/d1/11/0fd08f8192109f7169db964b5707a2f1e8b745d4e239b784a5a1dd80d1db/pyyaml-6.0.3-cp313-cp313-macosx_10_13_x86_64.whl", hash = "sha256:8da9669d359f02c0b91ccc01cac4a67f16afec0dac22c2ad09f46bee0697eba8", size = 181669, upload-time = "2025-09-25T21:32:23.673Z" },
    { url = "https://files.pythonhosted.org/packages/b1/16/95309993f1d3748cd644e02e38b75d50cbc0d9561d21f390a76242ce073f/pyyaml-6.0.3-cp313-cp313-macosx_11_0_arm64.whl", hash = "sha256:2283a07e2c21a2aa78d9c4442724ec1eb15f5e42a723b99cb3d822d48f5f7ad1", size = 173252, upload-time = "2025-09-25T21:32:25.149Z" },
    { url = "https://files.pythonhosted.org/packages/50/31/b20f376d3f810b9b2371e72ef5adb33879b25edb7a6d072cb7ca0c486398/pyyaml-6.0.3-cp313-cp313-manylinux2014_aarch64.manylinux_2_17_aarch64.manylinux_2_28_aarch64.whl", hash = "sha256:ee2922902c45ae8ccada2c5b501ab86c36525b883eff4255313a253a3160861c", size = 767081, upload-time = "2025-09-25T21:32:26.575Z" },
    { url = "https://files.pythonhosted.org/packages/49/1e/a55ca81e949270d5d4432fbbd19dfea5321eda7c41a849d443dc92fd1ff7/pyyaml-6.0.3-cp313-cp313-manylinux2014_s390x.manylinux_2_17_s390x.manylinux_2_28_s390x.whl", hash = "sha256:a33284e20b78bd4a18c8c2282d549d10bc8408a2a7ff57653c0cf0b9be0afce5", size = 841159, upload-time = "2025-09-25T21:32:27.727Z" },
    { url = "https://files.pythonhosted.org/packages/74/27/e5b8f34d02d9995b80abcef563ea1f8b56d20134d8f4e5e81733b1feceb2/pyyaml-6.0.3-cp313-cp313-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl", hash = "sha256:0f29edc409a6392443abf94b9cf89ce99889a1dd5376d94316ae5145dfedd5d6", size = 801626, upload-time = "2025-09-25T21:32:28.878Z" },
    { url = "https://files.pythonhosted.org/packages/f9/11/ba845c23988798f40e52ba45f34849aa8a1f2d4af4b798588010792ebad6/pyyaml-6.0.3-cp313-cp313-musllinux_1_2_aarch64.whl", hash = "sha256:f7057c9a337546edc7973c0d3ba84ddcdf0daa14533c2065749c9075001090e6", size = 753613, upload-time = "2025-09-25T21:32:30.178Z" },
    { url = "https://files.pythonhosted.org/packages/3d/e0/7966e1a7bfc0a45bf0a7fb6b98ea03fc9b8d84fa7f2229e9659680b69ee3/pyyaml-6.0.3-cp313-cp313-musllinux_1_2_x86_64.whl", hash = "sha256:eda16858a3cab07b80edaf74336ece1f986ba330fdb8ee0d6c0d68fe82bc96be", size = 794115, upload-time = "2025-09-25T21:32:31.353Z" },
    { url = "https://files.pythonhosted.org/packages/de/94/980b50a6531b3019e45ddeada0626d45fa85cbe22300844a7983285bed3b/pyyaml-6.0.3-cp313-cp313-win32.whl", hash = "sha256:d0eae10f8159e8fdad514efdc92d74fd8d682c933a6dd088030f3834bc8e6b26", size = 137427, upload-time = "2025-09-25T21:32:32.58Z" },
    { url = "https://files.pythonhosted.org/packages/97/c9/39d5b874e8b28845e4ec2202b5da735d0199dbe5b8fb85f91398814a9a46/pyyaml-6.0.3-cp313-cp313-win_amd64.whl", hash = "sha256:79005a0d97d5ddabfeeea4cf676af11e647e41d81c9a7722a193022accdb6b7c", size = 154090, upload-time = "2025-09-25T21:32:33.659Z" },
    { url = "https://files.pythonhosted.org/packages/73/e8/2bdf3ca2090f68bb3d75b44da7bbc71843b19c9f2b9cb9b0f4ab7a5a4329/pyyaml-6.0.3-cp313-cp313-win_arm64.whl", hash = "sha256:5498cd1645aa724a7c71c8f378eb29ebe23da2fc0d7a08071d89469bf1d2defb", size = 140246, upload-time = "2025-09-25T21:32:34.663Z" },
]

[[package]]
name = "regex"
version = "2024.11.6"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/8e/5f/bd69653fbfb76cf8604468d3b4ec4c403197144c7bfe0e6a5fc9e02a07cb/regex-2024.11.6.tar.gz", hash = "sha256:7ab159b063c52a0333c884e4679f8d7a85112ee3078fe3d9004b2dd875585519", size = 399494, upload-time = "2024-11-06T20:12:31.635Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/90/73/bcb0e36614601016552fa9344544a3a2ae1809dc1401b100eab02e772e1f/regex-2024.11.6-cp313-cp313-macosx_10_13_universal2.whl", hash = "sha256:a6ba92c0bcdf96cbf43a12c717eae4bc98325ca3730f6b130ffa2e3c3c723d84", size = 483525, upload-time = "2024-11-06T20:10:45.19Z" },
    { url = "https://files.pythonhosted.org/packages/0f/3f/f1a082a46b31e25291d830b369b6b0c5576a6f7fb89d3053a354c24b8a83/regex-2024.11.6-cp313-cp313-macosx_10_13_x86_64.whl", hash = "sha256:525eab0b789891ac3be914d36893bdf972d483fe66551f79d3e27146191a37d4", size = 288324, upload-time = "2024-11-06T20:10:47.177Z" },
    { url = "https://files.pythonhosted.org/packages/09/c9/4e68181a4a652fb3ef5099e077faf4fd2a694ea6e0f806a7737aff9e758a/regex-2024.11.6-cp313-cp313-macosx_11_0_arm64.whl", hash = "sha256:086a27a0b4ca227941700e0b31425e7a28ef1ae8e5e05a33826e17e47fbfdba0", size = 284617, upload-time = "2024-11-06T20:10:49.312Z" },
    { url = "https://files.pythonhosted.org/packages/fc/fd/37868b75eaf63843165f1d2122ca6cb94bfc0271e4428cf58c0616786dce/regex-2024.11.6-cp313-cp313-manylinux_2_17_aarch64.manylinux2014_aarch64.whl", hash = "sha256:bde01f35767c4a7899b7eb6e823b125a64de314a8ee9791367c9a34d56af18d0", size = 795023, upload-time = "2024-11-06T20:10:51.102Z" },
    { url = "https://files.pythonhosted.org/packages/c4/7c/d4cd9c528502a3dedb5c13c146e7a7a539a3853dc20209c8e75d9ba9d1b2/regex-2024.11.6-cp313-cp313-manylinux_2_17_ppc64le.manylinux2014_ppc64le.whl", hash = "sha256:b583904576650166b3d920d2bcce13971f6f9e9a396c673187f49811b2769dc7", size = 833072, upload-time = "2024-11-06T20:10:52.926Z" },
    { url = "https://files.pythonhosted.org/packages/4f/db/46f563a08f969159c5a0f0e722260568425363bea43bb7ae370becb66a67/regex-2024.11.6-cp313-cp313-manylinux_2_17_s390x.manylinux2014_s390x.whl", hash = "sha256:1c4de13f06a0d54fa0d5ab1b7138bfa0d883220965a29616e3ea61b35d5f5fc7", size = 823130, upload-time = "2024-11-06T20:10:54.828Z" },
    { url = "https://files.pythonhosted.org/packages/db/60/1eeca2074f5b87df394fccaa432ae3fc06c9c9bfa97c5051aed70e6e00c2/regex-2024.11.6-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl", hash = "sha256:3cde6e9f2580eb1665965ce9bf17ff4952f34f5b126beb509fee8f4e994f143c", size = 796857, upload-time = "2024-11-06T20:10:56.634Z" },
    { url = "https://files.pythonhosted.org/packages/10/db/ac718a08fcee981554d2f7bb8402f1faa7e868c1345c16ab1ebec54b0d7b/regex-2024.11.6-cp313-cp313-manylinux_2_5_i686.manylinux1_i686.manylinux_2_17_i686.manylinux2014_i686.whl", hash = "sha256:0d7f453dca13f40a02b79636a339c5b62b670141e63efd511d3f8f73fba162b3", size = 784006, upload-time = "2024-11-06T20:10:59.369Z" },
    { url = "https://files.pythonhosted.org/packages/c2/41/7da3fe70216cea93144bf12da2b87367590bcf07db97604edeea55dac9ad/regex-2024.11.6-cp313-cp313-musllinux_1_2_aarch64.whl", hash = "sha256:59dfe1ed21aea057a65c6b586afd2a945de04fc7db3de0a6e3ed5397ad491b07", size = 781650, upload-time = "2024-11-06T20:11:02.042Z" },
    { url = "https://files.pythonhosted.org/packages/a7/d5/880921ee4eec393a4752e6ab9f0fe28009435417c3102fc413f3fe81c4e5/regex-2024.11.6-cp313-cp313-musllinux_1_2_i686.whl", hash = "sha256:b97c1e0bd37c5cd7902e65f410779d39eeda155800b65fc4d04cc432efa9bc6e", size = 789545, upload-time = "2024-11-06T20:11:03.933Z" },
    { url = "https://files.pythonhosted.org/packages/dc/96/53770115e507081122beca8899ab7f5ae28ae790bfcc82b5e38976df6a77/regex-2024.11.6-cp313-cp313-musllinux_1_2_ppc64le.whl", hash = "sha256:f9d1e379028e0fc2ae3654bac3cbbef81bf3fd571272a42d56c24007979bafb6", size = 853045, upload-time = "2024-11-06T20:11:06.497Z" },
    { url = "https://files.pythonhosted.org/packages/31/d3/1372add5251cc2d44b451bd94f43b2ec78e15a6e82bff6a290ef9fd8f00a/regex-2024.11.6-cp313-cp313-musllinux_1_2_s390x.whl", hash = "sha256:13291b39131e2d002a7940fb176e120bec5145f3aeb7621be6534e46251912c4", size = 860182, upload-time = "2024-11-06T20:11:09.06Z" },
    { url = "https://files.pythonhosted.org/packages/ed/e3/c446a64984ea9f69982ba1a69d4658d5014bc7a0ea468a07e1a1265db6e2/regex-2024.11.6-cp313-cp313-musllinux_1_2_x86_64.whl", hash = "sha256:4f51f88c126370dcec4908576c5a627220da6c09d0bff31cfa89f2523843316d", size = 787733, upload-time = "2024-11-06T20:11:11.256Z" },
    { url = "https://files.pythonhosted.org/packages/2b/f1/e40c8373e3480e4f29f2692bd21b3e05f296d3afebc7e5dcf21b9756ca1c/regex-2024.11.6-cp313-cp313-win32.whl", hash = "sha256:63b13cfd72e9601125027202cad74995ab26921d8cd935c25f09c630436348ff", size = 262122, upload-time = "2024-11-06T20:11:13.161Z" },
    { url = "https://files.pythonhosted.org/packages/45/94/bc295babb3062a731f52621cdc992d123111282e291abaf23faa413443ea/regex-2024.11.6-cp313-cp313-win_amd64.whl", hash = "sha256:2b3361af3198667e99927da8b84c1b010752fa4b1115ee30beaa332cabc3ef1a", size = 273545, upload-time = "2024-11-06T20:11:15Z" },
]

[[package]]
name = "requests"
version = "2.32.3"
source = { registry = "https://pypi.org/simple" }
dependencies = [
    { name = "certifi" },
    { name = "charset-normalizer" },
    { name = "idna" },
    { name = "urllib3" },
]
sdist = { url = "https://files.pythonhosted.org/packages/63/70/2bf7780ad2d390a8d301ad0b550f1581eadbd9a20f896afe06353c2a2913/requests-2.32.3.tar.gz", hash = "sha256:55365417734eb18255590a9ff9eb97e9e1da868d4ccd6402399eaf68af20a760", size = 131218, upload-time = "2024-05-29T15:37:49.536Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/f9/9b/335f9764261e915ed497fcdeb11df5dfd6f7bf257d4a6a2a686d80da4d54/requests-2.32.3-py3-none-any.whl", hash = "sha256:70761cfe03c773ceb22aa2f671b4757976145175cdfca038c02654d061d6dcc6", size = 64928, upload-time = "2024-05-29T15:37:47.027Z" },
]

[[package]]
name = "responses"
version = "0.25.8"
source = { registry = "https://pypi.org/simple" }
dependencies = [
    { name = "pyyaml" },
    { name = "requests" },
    { name = "urllib3" },
]
sdist = { url = "https://files.pythonhosted.org/packages/0e/95/89c054ad70bfef6da605338b009b2e283485835351a9935c7bfbfaca7ffc/responses-0.25.8.tar.gz", hash = "sha256:9374d047a575c8f781b94454db5cab590b6029505f488d12899ddb10a4af1cf4", size = 79320, upload-time = "2025-08-08T19:01:46.709Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/1c/4c/cc276ce57e572c102d9542d383b2cfd551276581dc60004cb94fe8774c11/responses-0.25.8-py3-none-any.whl", hash = "sha256:0c710af92def29c8352ceadff0c3fe340ace27cf5af1bbe46fb71275bcd2831c", size = 34769, upload-time = "2025-08-08T19:01:45.018Z" },
]

[[package]]
name = "ruff"
version = "0.14.7"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/b7/5b/dd7406afa6c95e3d8fa9d652b6d6dd17dd4a6bf63cb477014e8ccd3dcd46/ruff-0.14.7.tar.gz", hash = "sha256:3417deb75d23bd14a722b57b0a1435561db65f0ad97435b4cf9f85ffcef34ae5", size = 5727324, upload-time = "2025-11-28T20:55:10.525Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/8c/b1/7ea5647aaf90106f6d102230e5df874613da43d1089864da1553b899ba5e/ruff-0.14.7-py3-none-linux_armv6l.whl", hash = "sha256:b9d5cb5a176c7236892ad7224bc1e63902e4842c460a0b5210701b13e3de4fca", size = 13414475, upload-time = "2025-11-28T20:54:54.569Z" },
    { url = "https://files.pythonhosted.org/packages/af/19/fddb4cd532299db9cdaf0efdc20f5c573ce9952a11cb532d3b859d6d9871/ruff-0.14.7-py3-none-macosx_10_12_x86_64.whl", hash = "sha256:3f64fe375aefaf36ca7d7250292141e39b4cea8250427482ae779a2aa5d90015", size = 13634613, upload-time = "2025-11-28T20:55:17.54Z" },
    { url = "https://files.pythonhosted.org/packages/40/2b/469a66e821d4f3de0440676ed3e04b8e2a1dc7575cf6fa3ba6d55e3c8557/ruff-0.14.7-py3-none-macosx_11_0_arm64.whl", hash = "sha256:93e83bd3a9e1a3bda64cb771c0d47cda0e0d148165013ae2d3554d718632d554", size = 12765458, upload-time = "2025-11-28T20:55:26.128Z" },
    { url = "https://files.pythonhosted.org/packages/f1/05/0b001f734fe550bcfde4ce845948ac620ff908ab7241a39a1b39bb3c5f49/ruff-0.14.7-py3-none-manylinux_2_17_aarch64.manylinux2014_aarch64.whl", hash = "sha256:3838948e3facc59a6070795de2ae16e5786861850f78d5914a03f12659e88f94", size = 13236412, upload-time = "2025-11-28T20:55:28.602Z" },
    { url = "https://files.pythonhosted.org/packages/11/36/8ed15d243f011b4e5da75cd56d6131c6766f55334d14ba31cce5461f28aa/ruff-0.14.7-py3-none-manylinux_2_17_armv7l.manylinux2014_armv7l.whl", hash = "sha256:24c8487194d38b6d71cd0fd17a5b6715cda29f59baca1defe1e3a03240f851d1", size = 13182949, upload-time = "2025-11-28T20:55:33.265Z" },
    { url = "https://files.pythonhosted.org/packages/3b/cf/fcb0b5a195455729834f2a6eadfe2e4519d8ca08c74f6d2b564a4f18f553/ruff-0.14.7-py3-none-manylinux_2_17_i686.manylinux2014_i686.whl", hash = "sha256:79c73db6833f058a4be8ffe4a0913b6d4ad41f6324745179bd2aa09275b01d0b", size = 13816470, upload-time = "2025-11-28T20:55:08.203Z" },
    { url = "https://files.pythonhosted.org/packages/7f/5d/34a4748577ff7a5ed2f2471456740f02e86d1568a18c9faccfc73bd9ca3f/ruff-0.14.7-py3-none-manylinux_2_17_ppc64.manylinux2014_ppc64.whl", hash = "sha256:12eb7014fccff10fc62d15c79d8a6be4d0c2d60fe3f8e4d169a0d2def75f5dad", size = 15289621, upload-time = "2025-11-28T20:55:30.837Z" },
    { url = "https://files.pythonhosted.org/packages/53/53/0a9385f047a858ba133d96f3f8e3c9c66a31cc7c4b445368ef88ebeac209/ruff-0.14.7-py3-none-manylinux_2_17_ppc64le.manylinux2014_ppc64le.whl", hash = "sha256:6c623bbdc902de7ff715a93fa3bb377a4e42dd696937bf95669118773dbf0c50", size = 14975817, upload-time = "2025-11-28T20:55:24.107Z" },
    { url = "https://files.pythonhosted.org/packages/a8/d7/2f1c32af54c3b46e7fadbf8006d8b9bcfbea535c316b0bd8813d6fb25e5d/ruff-0.14.7-py3-none-manylinux_2_17_s390x.manylinux2014_s390x.whl", hash = "sha256:f53accc02ed2d200fa621593cdb3c1ae06aa9b2c3cae70bc96f72f0000ae97a9", size = 14284549, upload-time = "2025-11-28T20:55:06.08Z" },
    { url = "https://files.pythonhosted.org/packages/92/05/434ddd86becd64629c25fb6b4ce7637dd52a45cc4a4415a3008fe61c27b9/ruff-0.14.7-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl", hash = "sha256:281f0e61a23fcdcffca210591f0f53aafaa15f9025b5b3f9706879aaa8683bc4", size = 14071389, upload-time = "2025-11-28T20:55:35.617Z" },
    { url = "https://files.pythonhosted.org/packages/ff/50/fdf89d4d80f7f9d4f420d26089a79b3bb1538fe44586b148451bc2ba8d9c/ruff-0.14.7-py3-none-manylinux_2_31_riscv64.whl", hash = "sha256:dbbaa5e14148965b91cb090236931182ee522a5fac9bc5575bafc5c07b9f9682", size = 14202679, upload-time = "2025-11-28T20:55:01.472Z" },
    { url = "https://files.pythonhosted.org/packages/77/54/87b34988984555425ce967f08a36df0ebd339bb5d9d0e92a47e41151eafc/ruff-0.14.7-py3-none-musllinux_1_2_aarch64.whl", hash = "sha256:1464b6e54880c0fe2f2d6eaefb6db15373331414eddf89d6b903767ae2458143", size = 13147677, upload-time = "2025-11-28T20:55:19.933Z" },
    { url = "https://files.pythonhosted.org/packages/67/29/f55e4d44edfe053918a16a3299e758e1c18eef216b7a7092550d7a9ec51c/ruff-0.14.7-py3-none-musllinux_1_2_armv7l.whl", hash = "sha256:f217ed871e4621ea6128460df57b19ce0580606c23aeab50f5de425d05226784", size = 13151392, upload-time = "2025-11-28T20:55:21.967Z" },
    { url = "https://files.pythonhosted.org/packages/36/69/47aae6dbd4f1d9b4f7085f4d9dcc84e04561ee7ad067bf52e0f9b02e3209/ruff-0.14.7-py3-none-musllinux_1_2_i686.whl", hash = "sha256:6be02e849440ed3602d2eb478ff7ff07d53e3758f7948a2a598829660988619e", size = 13412230, upload-time = "2025-11-28T20:55:12.749Z" },
    { url = "https://files.pythonhosted.org/packages/b7/4b/6e96cb6ba297f2ba502a231cd732ed7c3de98b1a896671b932a5eefa3804/ruff-0.14.7-py3-none-musllinux_1_2_x86_64.whl", hash = "sha256:19a0f116ee5e2b468dfe80c41c84e2bbd6b74f7b719bee86c2ecde0a34563bcc", size = 14195397, upload-time = "2025-11-28T20:54:56.896Z" },
    { url = "https://files.pythonhosted.org/packages/69/82/251d5f1aa4dcad30aed491b4657cecd9fb4274214da6960ffec144c260f7/ruff-0.14.7-py3-none-win32.whl", hash = "sha256:e33052c9199b347c8937937163b9b149ef6ab2e4bb37b042e593da2e6f6cccfa", size = 13126751, upload-time = "2025-11-28T20:55:03.47Z" },
    { url = "https://files.pythonhosted.org/packages/a8/b5/d0b7d145963136b564806f6584647af45ab98946660d399ec4da79cae036/ruff-0.14.7-py3-none-win_amd64.whl", hash = "sha256:e17a20ad0d3fad47a326d773a042b924d3ac31c6ca6deb6c72e9e6b5f661a7c6", size = 14531726, upload-time = "2025-11-28T20:54:59.121Z" },
    { url = "https://files.pythonhosted.org/packages/1d/d2/1637f4360ada6a368d3265bf39f2cf737a0aaab15ab520fc005903e883f8/ruff-0.14.7-py3-none-win_arm64.whl", hash = "sha256:be4d653d3bea1b19742fcc6502354e32f65cd61ff2fbdb365803ef2c2aec6228", size = 13609215, upload-time = "2025-11-28T20:55:15.375Z" },
]

[[package]]
name = "six"
version = "1.17.0"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/94/e7/b2c673351809dca68a0e064b6af791aa332cf192da575fd474ed7d6f16a2/six-1.17.0.tar.gz", hash = "sha256:ff70335d468e7eb6ec65b95b99d3a2836546063f63acc5171de367e834932a81", size = 34031, upload-time = "2024-12-04T17:35:28.174Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/b7/ce/149a00dd41f10bc29e5921b496af8b574d8413afcd5e30dfa0ed46c2cc5e/six-1.17.0-py2.py3-none-any.whl", hash = "sha256:4721f391ed90541fddacab5acf947aa0d3dc7d27b2e1e8eda2be8970586c3274", size = 11050, upload-time = "2024-12-04T17:35:26.475Z" },
]

[[package]]
name = "typing-extensions"
version = "4.13.2"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/f6/37/23083fcd6e35492953e8d2aaaa68b860eb422b34627b13f2ce3eb6106061/typing_extensions-4.13.2.tar.gz", hash = "sha256:e6c81219bd689f51865d9e372991c540bda33a0379d5573cddb9a3a23f7caaef", size = 106967, upload-time = "2025-04-10T14:19:05.416Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/8b/54/b1ae86c0973cc6f0210b53d508ca3641fb6d0c56823f288d108bc7ab3cc8/typing_extensions-4.13.2-py3-none-any.whl", hash = "sha256:a439e7c04b49fec3e5d3e2beaa21755cadbbdc391694e28ccdd36ca4a1408f8c", size = 45806, upload-time = "2025-04-10T14:19:03.967Z" },
]

[[package]]
name = "typing-inspection"
version = "0.4.0"
source = { registry = "https://pypi.org/simple" }
dependencies = [
    { name = "typing-extensions" },
]
sdist = { url = "https://files.pythonhosted.org/packages/82/5c/e6082df02e215b846b4b8c0b887a64d7d08ffaba30605502639d44c06b82/typing_inspection-0.4.0.tar.gz", hash = "sha256:9765c87de36671694a67904bf2c96e395be9c6439bb6c87b5142569dcdd65122", size = 76222, upload-time = "2025-02-25T17:27:59.638Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/31/08/aa4fdfb71f7de5176385bd9e90852eaf6b5d622735020ad600f2bab54385/typing_inspection-0.4.0-py3-none-any.whl", hash = "sha256:50e72559fcd2a6367a19f7a7e610e6afcb9fac940c650290eed893d61386832f", size = 14125, upload-time = "2025-02-25T17:27:57.754Z" },
]

[[package]]
name = "tzdata"
version = "2025.2"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/95/32/1a225d6164441be760d75c2c42e2780dc0873fe382da3e98a2e1e48361e5/tzdata-2025.2.tar.gz", hash = "sha256:b60a638fcc0daffadf82fe0f57e53d06bdec2f36c4df66280ae79bce6bd6f2b9", size = 196380, upload-time = "2025-03-23T13:54:43.652Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/5c/23/c7abc0ca0a1526a0774eca151daeb8de62ec457e77262b66b359c3c7679e/tzdata-2025.2-py2.py3-none-any.whl", hash = "sha256:1a403fada01ff9221ca8044d701868fa132215d84beb92242d9acd2147f667a8", size = 347839, upload-time = "2025-03-23T13:54:41.845Z" },
]

[[package]]
name = "tzlocal"
version = "5.3.1"
source = { registry = "https://pypi.org/simple" }
dependencies = [
    { name = "tzdata", marker = "sys_platform == 'win32'" },
]
sdist = { url = "https://files.pythonhosted.org/packages/8b/2e/c14812d3d4d9cd1773c6be938f89e5735a1f11a9f184ac3639b93cef35d5/tzlocal-5.3.1.tar.gz", hash = "sha256:cceffc7edecefea1f595541dbd6e990cb1ea3d19bf01b2809f362a03dd7921fd", size = 30761, upload-time = "2025-03-05T21:17:41.549Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/c2/14/e2a54fabd4f08cd7af1c07030603c3356b74da07f7cc056e600436edfa17/tzlocal-5.3.1-py3-none-any.whl", hash = "sha256:eb1a66c3ef5847adf7a834f1be0800581b683b5608e74f86ecbcef8ab91bb85d", size = 18026, upload-time = "2025-03-05T21:17:39.857Z" },
]

[[package]]
name = "urllib3"
version = "2.4.0"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/8a/78/16493d9c386d8e60e442a35feac5e00f0913c0f4b7c217c11e8ec2ff53e0/urllib3-2.4.0.tar.gz", hash = "sha256:414bc6535b787febd7567804cc015fee39daab8ad86268f1310a9250697de466", size = 390672, upload-time = "2025-04-10T15:23:39.232Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/6b/11/cc635220681e93a0183390e26485430ca2c7b5f9d33b15c74c2861cb8091/urllib3-2.4.0-py3-none-any.whl", hash = "sha256:4e16665048960a0900c702d4a66415956a584919c03361cac9f1df5c5dd7e813", size = 128680, upload-time = "2025-04-10T15:23:37.377Z" },
]

[[package]]
name = "wrapt"
version = "1.17.2"
source = { registry = "https://pypi.org/simple" }
sdist = { url = "https://files.pythonhosted.org/packages/c3/fc/e91cc220803d7bc4db93fb02facd8461c37364151b8494762cc88b0fbcef/wrapt-1.17.2.tar.gz", hash = "sha256:41388e9d4d1522446fe79d3213196bd9e3b301a336965b9e27ca2788ebd122f3", size = 55531, upload-time = "2025-01-14T10:35:45.465Z" }
wheels = [
    { url = "https://files.pythonhosted.org/packages/ce/b9/0ffd557a92f3b11d4c5d5e0c5e4ad057bd9eb8586615cdaf901409920b14/wrapt-1.17.2-cp313-cp313-macosx_10_13_universal2.whl", hash = "sha256:6ed6ffac43aecfe6d86ec5b74b06a5be33d5bb9243d055141e8cabb12aa08125", size = 53800, upload-time = "2025-01-14T10:34:21.571Z" },
    { url = "https://files.pythonhosted.org/packages/c0/ef/8be90a0b7e73c32e550c73cfb2fa09db62234227ece47b0e80a05073b375/wrapt-1.17.2-cp313-cp313-macosx_10_13_x86_64.whl", hash = "sha256:35621ae4c00e056adb0009f8e86e28eb4a41a4bfa8f9bfa9fca7d343fe94f998", size = 38824, upload-time = "2025-01-14T10:34:22.999Z" },
    { url = "https://files.pythonhosted.org/packages/36/89/0aae34c10fe524cce30fe5fc433210376bce94cf74d05b0d68344c8ba46e/wrapt-1.17.2-cp313-cp313-macosx_11_0_arm64.whl", hash = "sha256:a604bf7a053f8362d27eb9fefd2097f82600b856d5abe996d623babd067b1ab5", size = 38920, upload-time = "2025-01-14T10:34:25.386Z" },
    { url = "https://files.pythonhosted.org/packages/3b/24/11c4510de906d77e0cfb5197f1b1445d4fec42c9a39ea853d482698ac681/wrapt-1.17.2-cp313-cp313-manylinux_2_17_aarch64.manylinux2014_aarch64.whl", hash = "sha256:5cbabee4f083b6b4cd282f5b817a867cf0b1028c54d445b7ec7cfe6505057cf8", size = 88690, upload-time = "2025-01-14T10:34:28.058Z" },
    { url = "https://files.pythonhosted.org/packages/71/d7/cfcf842291267bf455b3e266c0c29dcb675b5540ee8b50ba1699abf3af45/wrapt-1.17.2-cp313-cp313-manylinux_2_5_i686.manylinux1_i686.manylinux_2_17_i686.manylinux2014_i686.whl", hash = "sha256:49703ce2ddc220df165bd2962f8e03b84c89fee2d65e1c24a7defff6f988f4d6", size = 80861, upload-time = "2025-01-14T10:34:29.167Z" },
    { url = "https://files.pythonhosted.org/packages/d5/66/5d973e9f3e7370fd686fb47a9af3319418ed925c27d72ce16b791231576d/wrapt-1.17.2-cp313-cp313-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl", hash = "sha256:8112e52c5822fc4253f3901b676c55ddf288614dc7011634e2719718eaa187dc", size = 89174, upload-time = "2025-01-14T10:34:31.702Z" },
    { url = "https://files.pythonhosted.org/packages/a7/d3/8e17bb70f6ae25dabc1aaf990f86824e4fd98ee9cadf197054e068500d27/wrapt-1.17.2-cp313-cp313-musllinux_1_2_aarch64.whl", hash = "sha256:9fee687dce376205d9a494e9c121e27183b2a3df18037f89d69bd7b35bcf59e2", size = 86721, upload-time = "2025-01-14T10:34:32.91Z" },
    { url = "https://files.pythonhosted.org/packages/6f/54/f170dfb278fe1c30d0ff864513cff526d624ab8de3254b20abb9cffedc24/wrapt-1.17.2-cp313-cp313-musllinux_1_2_i686.whl", hash = "sha256:18983c537e04d11cf027fbb60a1e8dfd5190e2b60cc27bc0808e653e7b218d1b", size = 79763, upload-time = "2025-01-14T10:34:34.903Z" },
    { url = "https://files.pythonhosted.org/packages/4a/98/de07243751f1c4a9b15c76019250210dd3486ce098c3d80d5f729cba029c/wrapt-1.17.2-cp313-cp313-musllinux_1_2_x86_64.whl", hash = "sha256:703919b1633412ab54bcf920ab388735832fdcb9f9a00ae49387f0fe67dad504", size = 87585, upload-time = "2025-01-14T10:34:36.13Z" },
    { url = "https://files.pythonhosted.org/packages/f9/f0/13925f4bd6548013038cdeb11ee2cbd4e37c30f8bfd5db9e5a2a370d6e20/wrapt-1.17.2-cp313-cp313-win32.whl", hash = "sha256:abbb9e76177c35d4e8568e58650aa6926040d6a9f6f03435b7a522bf1c487f9a", size = 36676, upload-time = "2025-01-14T10:34:37.962Z" },
    { url = "https://files.pythonhosted.org/packages/bf/ae/743f16ef8c2e3628df3ddfd652b7d4c555d12c84b53f3d8218498f4ade9b/wrapt-1.17.2-cp313-cp313-win_amd64.whl", hash = "sha256:69606d7bb691b50a4240ce6b22ebb319c1cfb164e5f6569835058196e0f3a845", size = 38871, upload-time = "2025-01-14T10:34:39.13Z" },
    { url = "https://files.pythonhosted.org/packages/3d/bc/30f903f891a82d402ffb5fda27ec1d621cc97cb74c16fea0b6141f1d4e87/wrapt-1.17.2-cp313-cp313t-macosx_10_13_universal2.whl", hash = "sha256:4a721d3c943dae44f8e243b380cb645a709ba5bd35d3ad27bc2ed947e9c68192", size = 56312, upload-time = "2025-01-14T10:34:40.604Z" },
    { url = "https://files.pythonhosted.org/packages/8a/04/c97273eb491b5f1c918857cd26f314b74fc9b29224521f5b83f872253725/wrapt-1.17.2-cp313-cp313t-macosx_10_13_x86_64.whl", hash = "sha256:766d8bbefcb9e00c3ac3b000d9acc51f1b399513f44d77dfe0eb026ad7c9a19b", size = 40062, upload-time = "2025-01-14T10:34:45.011Z" },
    { url = "https://files.pythonhosted.org/packages/4e/ca/3b7afa1eae3a9e7fefe499db9b96813f41828b9fdb016ee836c4c379dadb/wrapt-1.17.2-cp313-cp313t-macosx_11_0_arm64.whl", hash = "sha256:e496a8ce2c256da1eb98bd15803a79bee00fc351f5dfb9ea82594a3f058309e0", size = 40155, upload-time = "2025-01-14T10:34:47.25Z" },
    { url = "https://files.pythonhosted.org/packages/89/be/7c1baed43290775cb9030c774bc53c860db140397047cc49aedaf0a15477/wrapt-1.17.2-cp313-cp313t-manylinux_2_17_aarch64.manylinux2014_aarch64.whl", hash = "sha256:40d615e4fe22f4ad3528448c193b218e077656ca9ccb22ce2cb20db730f8d306", size = 113471, upload-time = "2025-01-14T10:34:50.934Z" },
    { url = "https://files.pythonhosted.org/packages/32/98/4ed894cf012b6d6aae5f5cc974006bdeb92f0241775addad3f8cd6ab71c8/wrapt-1.17.2-cp313-cp313t-manylinux_2_5_i686.manylinux1_i686.manylinux_2_17_i686.manylinux2014_i686.whl", hash = "sha256:a5aaeff38654462bc4b09023918b7f21790efb807f54c000a39d41d69cf552cb", size = 101208, upload-time = "2025-01-14T10:34:52.297Z" },
    { url = "https://files.pythonhosted.org/packages/ea/fd/0c30f2301ca94e655e5e057012e83284ce8c545df7661a78d8bfca2fac7a/wrapt-1.17.2-cp313-cp313t-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl", hash = "sha256:9a7d15bbd2bc99e92e39f49a04653062ee6085c0e18b3b7512a4f2fe91f2d681", size = 109339, upload-time = "2025-01-14T10:34:53.489Z" },
    { url = "https://files.pythonhosted.org/packages/75/56/05d000de894c4cfcb84bcd6b1df6214297b8089a7bd324c21a4765e49b14/wrapt-1.17.2-cp313-cp313t-musllinux_1_2_aarch64.whl", hash = "sha256:e3890b508a23299083e065f435a492b5435eba6e304a7114d2f919d400888cc6", size = 110232, upload-time = "2025-01-14T10:34:55.327Z" },
    { url = "https://files.pythonhosted.org/packages/53/f8/c3f6b2cf9b9277fb0813418e1503e68414cd036b3b099c823379c9575e6d/wrapt-1.17.2-cp313-cp313t-musllinux_1_2_i686.whl", hash = "sha256:8c8b293cd65ad716d13d8dd3624e42e5a19cc2a2f1acc74b30c2c13f15cb61a6", size = 100476, upload-time = "2025-01-14T10:34:58.055Z" },
    { url = "https://files.pythonhosted.org/packages/a7/b1/0bb11e29aa5139d90b770ebbfa167267b1fc548d2302c30c8f7572851738/wrapt-1.17.2-cp313-cp313t-musllinux_1_2_x86_64.whl", hash = "sha256:4c82b8785d98cdd9fed4cac84d765d234ed3251bd6afe34cb7ac523cb93e8b4f", size = 106377, upload-time = "2025-01-14T10:34:59.3Z" },
    { url = "https://files.pythonhosted.org/packages/6a/e1/0122853035b40b3f333bbb25f1939fc1045e21dd518f7f0922b60c156f7c/wrapt-1.17.2-cp313-cp313t-win32.whl", hash = "sha256:13e6afb7fe71fe7485a4550a8844cc9ffbe263c0f1a1eea569bc7091d4898555", size = 37986, upload-time = "2025-01-14T10:35:00.498Z" },
    { url = "https://files.pythonhosted.org/packages/09/5e/1655cf481e079c1f22d0cabdd4e51733679932718dc23bf2db175f329b76/wrapt-1.17.2-cp313-cp313t-win_amd64.whl", hash = "sha256:eaf675418ed6b3b31c7a989fd007fa7c3be66ce14e5c3b27336383604c9da85c", size = 40750, upload-time = "2025-01-14T10:35:03.378Z" },
    { url = "https://files.pythonhosted.org/packages/2d/82/f56956041adef78f849db6b289b282e72b55ab8045a75abad81898c28d19/wrapt-1.17.2-py3-none-any.whl", hash = "sha256:b18f2d1533a71f069c7f82d524a52599053d4c7166e9dd374ae2136b7f40f7c8", size = 23594, upload-time = "2025-01-14T10:35:44.018Z" },
]

[[package]]
name = "xero-accounting-reports"
source = { virtual = "." }
dependencies = [
    { name = "freezegun" },
    { name = "keboola-component" },
    { name = "keboola-http-client" },
    { name = "keboola-utils" },
    { name = "mock" },
    { name = "pydantic" },
    { name = "pytest" },
    { name = "responses" },
    { name = "ruff" },
]

[package.dev-dependencies]
dev = [
    { name = "flake8" },
    { name = "ruff" },
]

[package.metadata]
requires-dist = [
    { name = "freezegun", specifier = ">=1.5.1" },
    { name = "keboola-component", specifier = ">=1.6.10" },
    { name = "keboola-http-client", specifier = ">=1.0.1" },
    { name = "keboola-utils", specifier = ">=1.1.0" },
    { name = "mock", specifier = ">=5.2.0" },
    { name = "pydantic", specifier = ">=2.11.3" },
    { name = "pytest" },
    { name = "responses", specifier = ">=0.25.0" },
    { name = "ruff", specifier = ">=0.11.5" },
]

[package.metadata.requires-dev]
dev = [
    { name = "flake8", specifier = ">=7.3.0" },
    { name = "ruff", specifier = ">=0.13.3" },
]



================================================
FILE: .pre-commit-config.yaml
================================================
repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v5.0.0
    hooks:
      - id: trailing-whitespace
      - id: end-of-file-fixer
      - id: check-yaml
      - id: check-json
      - id: check-added-large-files
      - id: check-merge-conflict
      - id: mixed-line-ending

  - repo: https://github.com/psf/black
    rev: 24.10.0
    hooks:
      - id: black
        language_version: python3.13
        args: ['--line-length=120']

  - repo: https://github.com/pycqa/flake8
    rev: 7.1.1
    hooks:
      - id: flake8
        args: ['--config=flake8.cfg']



================================================
FILE: component_config/component_long_description.md
================================================
The component allows extracting financial reports from Xero, a cloud-based accounting software platform trusted by millions of businesses worldwide. Xero provides comprehensive financial management capabilities including invoicing, bank reconciliation, inventory tracking, and powerful reporting tools. By connecting Keboola with Xero, this component enables seamless extraction of accounting reports such as Profit & Loss, Balance Sheet, Trial Balance, Executive Summary, Bank Summary, Budget Summary, and Aged Receivables/Payables into KBC Storage. This makes it easier for finance teams and data analysts to integrate financial data with other business metrics, perform advanced analytics, create consolidated reporting dashboards, and gain deeper insights into their organization's financial performance.



================================================
FILE: component_config/component_short_description.md
================================================
Xero is a cloud-based accounting software platform that helps businesses manage their finances, invoicing, payroll, and reporting in real-time from anywhere.



================================================
FILE: component_config/configRowSchema.json
================================================
{}



================================================
FILE: component_config/configSchema.json
================================================
{
  "type": "object",
  "title": "Xero Reports Extractor Configuration",
  "required": ["reports"],
  "properties": {
    "xero_tenant_ids": {
      "type": "string",
      "title": "Xero Tenant IDs",
      "description": "Enter comma-separated Xero tenant IDs (e.g., 'abc-123-def, xyz-789-ghi'). Leave empty to fetch reports for ALL connected organizations. Tenant IDs must be valid UUIDs.",
      "propertyOrder": 1,
      "default": ""
    },
    "reports": {
      "type": "array",
      "title": "Reports Configuration",
      "description": "Configure which reports to extract. You can add the same report type multiple times with different parameters and table names.",
      "propertyOrder": 2,
      "items": {
        "type": "object",
        "title": "Report",
        "required": ["report_type"],
        "properties": {
          "report_type": {
            "type": "string",
            "title": "Report Type",
            "description": "Select the type of Xero report to extract",
            "enum": [
              "TenNinetyNine",
              "AgedPayablesByContact",
              "AgedReceivablesByContact",
              "BalanceSheet",
              "BankSummary",
              "BASReport",
              "BudgetSummary",
              "ExecutiveSummary",
              "GSTReport",
              "ProfitAndLoss",
              "TrialBalance"
            ],
            "enumNames": [
              "1099 Report (US)",
              "Aged Payables By Contact",
              "Aged Receivables By Contact",
              "Balance Sheet",
              "Bank Summary",
              "BAS Report (Australia)",
              "Budget Summary",
              "Executive Summary",
              "GST Report (New Zealand)",
              "Profit and Loss",
              "Trial Balance"
            ],
            "propertyOrder": 1
          },
          "report_year": {
            "type": "string",
            "title": "Report Year",
            "description": "Year for 1099 report (required)",
            "options": {
              "dependencies": {
                "report_type": "TenNinetyNine"
              }
            },
            "propertyOrder": 2
          },
          "date": {
            "type": "string",
            "title": "Date",
            "description": "Report date (use dynamic dates like 'yesterday', '3 months ago')",
            "options": {
              "dependencies": {
                "report_type": [
                  "AgedPayablesByContact",
                  "AgedReceivablesByContact",
                  "BalanceSheet",
                  "BudgetSummary",
                  "ExecutiveSummary",
                  "TrialBalance"
                ]
              }
            },
            "propertyOrder": 3
          },
          "from_date": {
            "type": "string",
            "title": "From Date",
            "description": "Start date for report period (use dynamic dates like 'yesterday', '3 months ago')",
            "options": {
              "dependencies": {
                "report_type": [
                  "AgedPayablesByContact",
                  "AgedReceivablesByContact",
                  "BankSummary",
                  "ProfitAndLoss"
                ]
              }
            },
            "propertyOrder": 4
          },
          "to_date": {
            "type": "string",
            "title": "To Date",
            "description": "End date for report period",
            "options": {
              "dependencies": {
                "report_type": [
                  "AgedPayablesByContact",
                  "AgedReceivablesByContact",
                  "BankSummary",
                  "ProfitAndLoss"
                ]
              }
            },
            "propertyOrder": 5
          },
          "contact_id": {
            "type": "string",
            "title": "Contact ID",
            "description": "Filter by specific contact",
            "options": {
              "dependencies": {
                "report_type": [
                  "AgedPayablesByContact",
                  "AgedReceivablesByContact"
                ]
              }
            },
            "propertyOrder": 6
          },
          "periods": {
            "type": "integer",
            "title": "Periods",
            "description": "Number of periods to compare",
            "options": {
              "dependencies": {
                "report_type": [
                  "BalanceSheet",
                  "BudgetSummary",
                  "ProfitAndLoss"
                ]
              }
            },
            "propertyOrder": 7
          },
          "timeframe": {
            "type": "string",
            "title": "Timeframe",
            "description": "Timeframe unit",
            "enum": ["MONTH", "QUARTER", "YEAR"],
            "options": {
              "dependencies": {
                "report_type": [
                  "BalanceSheet",
                  "BudgetSummary",
                  "ProfitAndLoss"
                ]
              }
            },
            "propertyOrder": 8
          },
          "tracking_option_id": {
            "type": "string",
            "title": "Tracking Option ID",
            "description": "Filter by tracking option",
            "options": {
              "dependencies": {
                "report_type": ["BalanceSheet", "ProfitAndLoss"]
              }
            },
            "propertyOrder": 9
          },
          "tracking_category_id": {
            "type": "string",
            "title": "Tracking Category ID",
            "description": "First tracking category",
            "options": {
              "dependencies": {
                "report_type": "ProfitAndLoss"
              }
            },
            "propertyOrder": 10
          },
          "tracking_category_id_2": {
            "type": "string",
            "title": "Tracking Category ID 2",
            "description": "Second tracking category",
            "options": {
              "dependencies": {
                "report_type": "ProfitAndLoss"
              }
            },
            "propertyOrder": 11
          },
          "tracking_option_id_2": {
            "type": "string",
            "title": "Tracking Option ID 2",
            "description": "Second tracking option",
            "options": {
              "dependencies": {
                "report_type": "ProfitAndLoss"
              }
            },
            "propertyOrder": 12
          },
          "standard_layout": {
            "type": "boolean",
            "title": "Standard Layout",
            "description": "Use standard report layout",
            "options": {
              "dependencies": {
                "report_type": [
                  "BalanceSheet",
                  "ProfitAndLoss"
                ]
              }
            },
            "propertyOrder": 13
          },
          "payments_only": {
            "type": "boolean",
            "title": "Payments Only",
            "description": "Show payments only",
            "options": {
              "dependencies": {
                "report_type": [
                  "BalanceSheet",
                  "ProfitAndLoss",
                  "TrialBalance"
                ]
              }
            },
            "propertyOrder": 14
          },
          "report_id": {
            "type": "string",
            "title": "Report ID",
            "description": "Report ID (required)",
            "options": {
              "dependencies": {
                "report_type": [
                  "BASReport",
                  "GSTReport"
                ]
              }
            },
            "propertyOrder": 15
          },
          "destination": {
            "type": "object",
            "title": "Destination",
            "required": [
              "load_type"
            ],
            "properties": {
              "output_table_name": {
                "type": "string",
                "title": "Storage Table Name",
                "description": "Name of the table stored in Storage. Leave empty to use the report type name (e.g., 'ProfitAndLoss', 'BalanceSheet').",
                "default": "",
                "propertyOrder": 10
              },
              "load_type": {
                "enum": [
                  "full_load",
                  "incremental_load"
                ],
                "type": "string",
                "title": "Load Type",
                "format": "checkbox",
                "default": "full_load",
                "options": {
                  "enum_titles": [
                    "Full Load",
                    "Incremental Load"
                  ]
                },
                "description": "If Full load is used, the destination table will be overwritten every run. If incremental load is used, data will be upserted into the destination table. Tables with a primary key will have rows updated, tables without a primary key will have rows appended.",
                "propertyOrder": 20
              },
              "primary_keys": {
                "type": "array",
                "title": "Primary Keys",
                "format":"select",
                "uniqueItems": true,
                "items": {
                  "type": "string",
                  "enum":[]
                },
                "options": {
                  "async": {
                    "label": "GET COLUMNS",
                    "action": "get_output_columns"
                  },
                  "creatable":true,
                  "dependencies": {
                    "load_type": "incremental_load"
                  }
                },
                "description": "Select primary key columns for incremental loads. Use the 'Get Columns' button to see available columns. Required for incremental loads.",
                "propertyOrder": 30
              }
            },
            "propertyOrder": 100
          }
        }
      }
    }
  }
}



================================================
FILE: component_config/configuration_description.md
================================================
Xero API link: https://developer.xero.com/documentation/api/accounting/reports



================================================
FILE: component_config/documentationUrl.md
================================================
https://github.com/keboola/component-xero-accounting-reports/blob/master/README.md


================================================
FILE: component_config/licenseUrl.md
================================================
https://github.com/keboola/component-xero-accounting-reports/blob/master/LICENSE.md


================================================
FILE: component_config/logger
================================================
gelf


================================================
FILE: component_config/loggerConfiguration.json
================================================
{
  "verbosity": {
    "100": "normal",
    "200": "normal",
    "250": "normal",
    "300": "verbose",
    "400": "verbose",
    "500": "camouflage",
    "550": "camouflage",
    "600": "camouflage"
  },
  "gelf_server_type": "tcp"
}


================================================
FILE: component_config/sourceCodeUrl.md
================================================
https://github.com/keboola/component-xero-accounting-reports


================================================
FILE: component_config/sample-config/config.json
================================================
{
  "parameters": {
    "xero_tenant_ids": "",
    "reports": [
      {
        "report_type": "ProfitAndLoss",
        "from_date": "30 days ago",
        "to_date": "today",
        "periods": 3,
        "destination": {
          "load_type": "full_load"
        }
      }
    ]
  },
  "authorization": {
    "oauth_api": {
      "credentials": {
        "#data": "{\"access_token\":\"test_token\",\"refresh_token\":\"test_refresh\"}"
      }
    }
  }
}



================================================
FILE: component_config/sample-config/in/state.json
================================================
{"data_delta": "10222018"}


================================================
FILE: component_config/sample-config/in/files/order1.xml
================================================
<?xml version='1.0' ?>
<root_el>
    <orders>
        <order>
            <id>1</id>
            <date>2018-01-01</date>
            <cust_name>David</cust_name>	
            <order-item>
                <price currency="CZK">100</price>
                <item>Umbrella</item>
            </order-item>
            <order-item>
                <price currency="CZK">200</price>
                <item>Rain Coat</item>
            </order-item>
        </order>
    </orders>
</root_el>


================================================
FILE: component_config/sample-config/in/tables/test.csv
================================================
"Type","Campaign_Name","Status","Start_Date","End_Date","Location","Eventbrite_link"
"Event","How to become data driven startup","Complete","2015-10-13","2015-10-13","United Kingdom","https://www.eventbrite.co.uk/e/how-to-become-data-driven-startup-registration-18711425377"
"Event","How to become data driven startup","Complete","2015-11-04","2015-11-04","United Kingdom","https://www.eventbrite.co.uk/e/how-to-become-data-driven-startup-registration-18711426380"
"Event","How to become data driven startup","Complete","2015-10-13","2015-10-13","United Kingdom","https://www.eventbrite.co.uk/e/how-to-become-data-driven-startup-registration-18711425377"
"Event","How to become data driven startup","Complete","2015-11-04","2015-11-04","United Kingdom","https://www.eventbrite.co.uk/e/how-to-become-data-driven-startup-registration-18711426380"
"Event","DATAGIRLS PRESENT: HOW TO BECOME DATA-DRIVEN","Complete","2016-01-14","2016-01-14","United Kingdom","https://www.eventbrite.co.uk/e/datagirls-present-how-to-become-data-driven-tickets-20152992142"
"Event","DATAGIRLS PRESENT: HOW TO BECOME DATA-DRIVEN","Complete","2016-02-25","2016-02-25","United Kingdom","https://www.eventbrite.co.uk/e/datagirls-present-how-to-become-data-driven-tickets-20967439175"
"Event","Data Tools for Startups","Complete","2016-03-17","2016-03-17","United Kingdom","https://www.eventbrite.co.uk/e/data-tools-for-startups-tickets-21257426535"
"Event","Data Festival London 2016","Complete","2016-06-24","2016-06-26","United Kingdom","https://www.eventbrite.co.uk/e/data-festival-london-2016-tickets-25192608771"
"Event","Becoming data driven in the high street fashion","Complete","2016-10-12","2016-10-12","United Kingdom","https://www.eventbrite.co.uk/e/becoming-data-driven-in-the-high-street-fashion-tickets-27481268213"
"Event","The Data Foundry present: DATAGIRLS Weekend","Complete","2016-10-14","2016-10-16","United Kingdom","https://www.eventbrite.co.uk/e/the-data-foundry-present-datagirls-weekend-tickets-27350069795"
"Event","[NLP] How to analyse text data for knowledge discovery","Complete","2017-04-10","2017-04-10","United Kingdom","https://www.eventbrite.co.uk/e/nlp-how-to-analyse-text-data-for-knowledge-discovery-tickets-32320274812"
"Event","Keboola DataBrunch - Amazon Go a ako s ním v maloobchode “bojovať”","Complete","2017-03-09","2017-03-09","Slovakia","https://www.eventbrite.co.uk/e/keboola-databrunch-amazon-go-a-ako-s-nim-v-maloobchode-bojovat-tickets-31827553068"
"Event","Keboola DataBrunch - Amazon Go a jak s nim v maloobchodě “bojovat”","Complete","2017-03-29","2017-03-29","Czech Republic","https://www.eventbrite.co.uk/e/keboola-databrunch-amazon-go-a-jak-s-nim-v-maloobchode-bojovat-tickets-32182393405"
"Event","The Data Foundry present: DATAGIRLS Weekend","Complete","2016-10-14","2016-10-16","United Kingdom","https://www.eventbrite.co.uk/e/the-data-foundry-present-datagirls-weekend-tickets-27350069795"
"Event","[NLP] How to analyse text data for knowledge discovery","Complete","2017-04-10","2017-04-10","United Kingdom","https://www.eventbrite.co.uk/e/nlp-how-to-analyse-text-data-for-knowledge-discovery-tickets-32320274812"
"Event","Keboola Data Brunch - KPIs and AmazonGo, budoucnost retailu? ","Complete","2017-06-27","2017-06-27","Czech Republic","https://www.eventbrite.co.uk/e/keboola-data-brunch-kpis-amazongo-budoucnost-retailu-tickets-35257195220"
"Event","Learn how to #DoMoreWithData with DataGirls","Complete","2017-10-01","2017-10-01","United Kingdom","https://www.eventbrite.co.uk/e/learn-how-to-domorewithdata-with-datagirls-tickets-36777944823"
"Event","Are You Using Data to Understand Your Customers? ","Complete","2018-02-27","2018-02-27","United Kingdom","https://www.eventbrite.co.uk/e/are-you-using-data-to-understand-your-customers-tickets-42000160611"
"Event","Conversion Rate Optimisation in Travel Industry","Complete","2018-01-30","2018-01-30","United Kingdom","https://www.eventbrite.co.uk/e/conversion-rate-optimisation-in-travel-industry-tickets-38951076719"
"Event","Learn how to #DoMoreWithData with DataGirls","Complete","2017-10-01","2017-10-01","United Kingdom","https://www.eventbrite.co.uk/e/learn-how-to-domorewithdata-with-datagirls-tickets-36777944823"
"Event","Are You Using Data to Understand Your Customers? ","Complete","2018-02-27","2018-02-27","United Kingdom","https://www.eventbrite.co.uk/e/are-you-using-data-to-understand-your-customers-tickets-42000160611"



================================================
FILE: component_config/sample-config/in/tables/test.csv.manifest
================================================
{
    "id": "in.c-test.test",
    "uri": "https:\/\/connection.keboola.com\/v2\/storage\/tables\/in.c-test.test",
    "name": "test",
    "primary_key": [],
    "indexed_columns": [],
    "created": "2018-03-02T15:36:50+0100",
    "last_change_date": "2018-03-02T15:36:54+0100",
    "last_import_date": "2018-03-02T15:36:54+0100",
    "rows_count": 0,
    "data_size_bytes": 0,
    "is_alias": false,
    "attributes": [],
    "columns": [
        "Type",
        "Campaign_Name",
        "Status",
        "Start_Date",
        "End_Date",
        "Location",
        "Eventbrite_link"
    ],
    "metadata": [
        {
            "id": "18271581",
            "key": "KBC.createdBy.component.id",
            "value": "transformation",
            "provider": "system",
            "timestamp": "2018-03-02T15:37:02+0100"
        },
        {
            "id": "18271582",
            "key": "KBC.createdBy.configuration.id",
            "value": "361585608",
            "provider": "system",
            "timestamp": "2018-03-02T15:37:02+0100"
        },
        {
            "id": "18271583",
            "key": "KBC.createdBy.configurationRow.id",
            "value": "361585762",
            "provider": "system",
            "timestamp": "2018-03-02T15:37:02+0100"
        },
        {
            "id": "18271584",
            "key": "KBC.lastUpdatedBy.component.id",
            "value": "transformation",
            "provider": "system",
            "timestamp": "2018-03-02T15:37:02+0100"
        },
        {
            "id": "18271585",
            "key": "KBC.lastUpdatedBy.configuration.id",
            "value": "361585608",
            "provider": "system",
            "timestamp": "2018-03-02T15:37:02+0100"
        },
        {
            "id": "18271586",
            "key": "KBC.lastUpdatedBy.configurationRow.id",
            "value": "361585762",
            "provider": "system",
            "timestamp": "2018-03-02T15:37:02+0100"
        }
    ],
    "column_metadata": {
        "Type": [],
        "Campaign_Name": [],
        "Status": [],
        "Start_Date": [],
        "End_Date": [],
        "Location": [],
        "Eventbrite_link": []
    }
}


================================================
FILE: scripts/build_n_test.sh
================================================
#!/bin/sh
set -e

flake8 --config=flake8.cfg
python -m unittest discover



================================================
FILE: scripts/developer_portal/fn_actions_md_update.sh
================================================
#!/bin/bash

# Set the path to the Python script file
PYTHON_FILE="src/component.py"
# Set the path to the Markdown file containing actions
MD_FILE="component_config/actions.md"

# Check if the file exists before creating it
if [ ! -e "$MD_FILE" ]; then
    touch "$MD_FILE"
else
    echo "File already exists: $MD_FILE"
    exit 1
fi

# Get all occurrences of lines containing @sync_action('XXX') from the .py file
SYNC_ACTIONS=$(grep -o -E "@sync_action\(['\"][^'\"]*['\"]\)" "$PYTHON_FILE" | sed "s/@sync_action(\(['\"]\)\([^'\"]*\)\(['\"]\))/\2/" | sort | uniq)

# Check if any sync actions were found
if [ -n "$SYNC_ACTIONS" ]; then
    # Iterate over each occurrence of @sync_action('XXX')
    for sync_action in $SYNC_ACTIONS; do
        EXISTING_ACTIONS+=("$sync_action")
    done

    # Convert the array to JSON format
    JSON_ACTIONS=$(printf '"%s",' "${EXISTING_ACTIONS[@]}")
    JSON_ACTIONS="[${JSON_ACTIONS%,}]"

    # Update the content of the actions.md file
    echo "$JSON_ACTIONS" > "$MD_FILE"
else
    echo "No sync actions found. Not creating the file."
fi


================================================
FILE: scripts/developer_portal/update_properties.sh
================================================
#!/usr/bin/env bash

set -e

# Check if the KBC_DEVELOPERPORTAL_APP environment variable is set
if [ -z "$KBC_DEVELOPERPORTAL_APP" ]; then
    echo "Error: KBC_DEVELOPERPORTAL_APP environment variable is not set."
    exit 1
fi

# Pull the latest version of the developer portal CLI Docker image
docker pull quay.io/keboola/developer-portal-cli-v2:latest

# Function to update a property for the given app ID
update_property() {
    local app_id="$1"
    local prop_name="$2"
    local file_path="$3"

    if [ ! -f "$file_path" ]; then
        echo "File '$file_path' not found. Skipping update for property '$prop_name' of application '$app_id'."
        return
    fi

    # shellcheck disable=SC2155
    local value=$(<"$file_path")

    echo "Updating $prop_name for $app_id"
    echo "$value"

    if [ -n "$value" ]; then
        docker run --rm \
            -e KBC_DEVELOPERPORTAL_USERNAME \
            -e KBC_DEVELOPERPORTAL_PASSWORD \
            quay.io/keboola/developer-portal-cli-v2:latest \
            update-app-property "$KBC_DEVELOPERPORTAL_VENDOR" "$app_id" "$prop_name" --value="$value"
        echo "Property $prop_name updated successfully for $app_id"
    else
        echo "$prop_name is empty for $app_id, skipping..."
    fi
}

app_id="$KBC_DEVELOPERPORTAL_APP"

update_property "$app_id" "isDeployReady" "component_config/isDeployReady.md"
update_property "$app_id" "longDescription" "component_config/component_long_description.md"
update_property "$app_id" "configurationSchema" "component_config/configSchema.json"
update_property "$app_id" "configurationRowSchema" "component_config/configRowSchema.json"
update_property "$app_id" "configurationDescription" "component_config/configuration_description.md"
update_property "$app_id" "shortDescription" "component_config/component_short_description.md"
update_property "$app_id" "logger" "component_config/logger"
update_property "$app_id" "loggerConfiguration" "component_config/loggerConfiguration.json"
update_property "$app_id" "licenseUrl" "component_config/licenseUrl.md"
update_property "$app_id" "documentationUrl" "component_config/documentationUrl.md"
update_property "$app_id" "sourceCodeUrl" "component_config/sourceCodeUrl.md"
update_property "$app_id" "uiOptions" "component_config/uiOptions.md"

# Update the actions.md file
source "$(dirname "$0")/fn_actions_md_update.sh"
# update_property actions
update_property "$app_id" "actions" "component_config/actions.md"


================================================
FILE: src/component.py
================================================
import csv
import json
import logging
from collections import OrderedDict
from dataclasses import dataclass
from typing import Any

from keboola.component.base import ComponentBase, sync_action
from keboola.component.dao import BaseType, ColumnDefinition, SupportedDataTypes
from keboola.component.exceptions import UserException
from keboola.component.sync_actions import SelectElement
from keboola.utils.date import get_past_date
from datetime import datetime, timezone

from configuration import Configuration, ReportConfig
from xero_client import XeroClient

# Constants
KEY_STATE_OAUTH_TOKEN_DICT = "#oauth_token_dict"
DATE_FIELDS = ["fromDate", "toDate", "date"]
TIMEFRAME_MAP = {"MONTH": 1, "QUARTER": 3, "YEAR": 12}

# Mapping from Python snake_case field names to Xero API camelCase parameter names
FIELD_NAME_TO_API_PARAM = {
    "report_year": "reportYear",
    "from_date": "fromDate",
    "to_date": "toDate",
    "contact_id": "contactID",
    "tracking_option_id": "trackingOptionID",
    "tracking_category_id": "trackingCategoryID",
    "tracking_option_id_2": "trackingOptionID2",
    "tracking_category_id_2": "trackingCategoryID2",
    "standard_layout": "standardLayout",
    "payments_only": "paymentsOnly",
    "report_id": "reportID",
    # Fields that are already in the correct format
    "date": "date",
    "periods": "periods",
    "timeframe": "timeframe",
}


@dataclass
class ColumnMetadata:
    """Metadata for output table columns."""

    name: str
    dtype: str
    nullable: bool
    description: str


# Output table column definitions - single source of truth
COLUMNS = [
    ColumnMetadata(name="xero_tenant_id", dtype="STRING", nullable=False, description="Xero tenant identifier"),
    ColumnMetadata(
        name="row_id", dtype="INTEGER", nullable=False, description="Unique row identifier within the report"
    ),
    ColumnMetadata(name="row_type", dtype="STRING", nullable=False, description="Type of row (Row, SummaryRow, etc.)"),
    ColumnMetadata(name="column_index", dtype="INTEGER", nullable=True, description="Zero-based column index"),
    ColumnMetadata(
        name="column_name", dtype="STRING", nullable=False, description="Name of the column from report header"
    ),
    ColumnMetadata(name="value", dtype="STRING", nullable=True, description="Cell value from the report"),
    ColumnMetadata(
        name="others",
        dtype="STRING",
        nullable=True,
        description="JSON string containing additional row and cell attributes",
    ),
    ColumnMetadata(
        name="extracted_at", dtype="TIMESTAMP", nullable=True, description="Timestamp when the data was extracted (UTC)"
    ),
]

# CSV fieldnames derived from COLUMNS
CSV_FIELDNAMES = [col.name for col in COLUMNS]


class Component(ComponentBase):

    def __init__(self):
        super().__init__()
        self.config = Configuration(**self.configuration.parameters)
        self.new_state = {}
        self.client = self._init_client()

    def run(self) -> None:
        """Main execution method - fetch and process Xero reports."""
        # Refresh token and save to state at the start
        self.refresh_token_and_save_state()

        # Get tenant IDs from config or fetch all
        tenant_ids = self.config.get_tenant_ids()
        if not tenant_ids:
            logging.info("No tenant IDs specified, fetching all connected tenants")
            tenant_ids = [tenant["tenantId"] for tenant in self.client.get_tenants()]
        logging.info(f"Processing {len(tenant_ids)} tenant(s)")

        # Track errors for logging
        errors = []

        # Process each report configuration
        for report_config in self.config.reports:
            logging.info(f"Processing report: {report_config.report_type}")

            # Extract and parse report parameters
            params = self._extract_report_params(report_config)
            parsed_params = self._parse_date_parameters(params, report_config.report_type)

            # Collect data for this report across all tenants
            # Note: Data is accumulated in memory before writing. This is acceptable because
            # Xero report data is typically small (< 10MB even for large organizations), and
            # this approach simplifies the code. If OOM becomes an issue in practice, this
            # could be refactored to write incrementally to the CSV file.
            all_data = []
            for tenant_id in tenant_ids:
                try:
                    logging.debug(f"Fetching {report_config.report_type} for tenant: {tenant_id}")
                    report_data = self.client.get_report(report_config.report_type, tenant_id, parsed_params)
                    tenant_data = self._process_report_data(report_data, report_config.report_type, tenant_id)
                    all_data.extend(tenant_data)
                except Exception as e:
                    error_msg = f"Failed to fetch {report_config.report_type} for tenant {tenant_id}: {str(e)}"
                    logging.warning(error_msg)
                    errors.append(error_msg)
                    continue

            # Write data for this report type
            if all_data:
                self._write_data_to_csv(all_data, report_config)
            else:
                logging.warning(f"No data extracted for report {report_config.report_type}")

        # Log summary of errors if any occurred
        if errors:
            logging.warning(
                f"Completed with {len(errors)} error(s). Failed report/tenant combinations:\n"
                + "\n".join(f"  - {err}" for err in errors)
            )

    def _init_client(self) -> XeroClient:
        """Initialize Xero client from state or OAuth credentials.

        Returns:
            Initialized XeroClient instance
        """
        logging.debug("Initializing Xero client")
        state = self.get_state_file()
        state_authorization_params = state.get(KEY_STATE_OAUTH_TOKEN_DICT)

        if self._state_contains_authorization_parameters(state_authorization_params):
            logging.debug("Initializing client from state")
            return self._init_client_from_state(state_authorization_params)
        else:
            logging.debug("Initializing client from OAuth credentials")
            return self._init_client_from_config()

    def _state_contains_authorization_parameters(self, state_authorization_params: Any) -> bool:
        """Check if state contains valid OAuth authorization parameters."""
        if not state_authorization_params:
            return False

        oauth_data = self._load_state_oauth(state_authorization_params)
        required_fields = ["access_token", "refresh_token"]
        return all(oauth_data.get(field) for field in required_fields)

    @staticmethod
    def _load_state_oauth(state_authorization_params: Any) -> dict:
        """Load OAuth data from state, handling both string and dict formats."""
        if isinstance(state_authorization_params, str):
            return json.loads(state_authorization_params)
        elif isinstance(state_authorization_params, dict):
            return state_authorization_params
        else:
            raise UserException("Invalid state format, please contact support")

    def _init_client_from_state(self, state_authorization_params: Any) -> XeroClient:
        """Initialize client using OAuth credentials from state.

        Returns:
            Initialized XeroClient instance
        """
        oauth_data = self._load_state_oauth(state_authorization_params)

        # Get client credentials from config for token refresh
        # In Keboola, encrypted fields have # prefix: #appKey and #appSecret
        try:
            oauth_creds = self.configuration.oauth_credentials
            # Try with # prefix first (encrypted fields), fall back to without prefix
            client_id = getattr(oauth_creds, "#appKey", None) or getattr(oauth_creds, "appKey", None)
            client_secret = getattr(oauth_creds, "#appSecret", None) or getattr(oauth_creds, "appSecret", None)
        except Exception:
            client_id = None
            client_secret = None
            logging.warning("Could not retrieve client_id/client_secret for token refresh")

        return XeroClient(
            access_token=oauth_data["access_token"],
            refresh_token=oauth_data.get("refresh_token"),
            client_id=client_id,
            client_secret=client_secret,
            oauth_token_dict=oauth_data,
        )

    def _init_client_from_config(self) -> XeroClient:
        """Initialize client using OAuth credentials from configuration.

        Returns:
            Initialized XeroClient instance
        """
        try:
            oauth_creds = self.configuration.oauth_credentials
            access_token = oauth_creds.data.get("access_token")
            refresh_token = oauth_creds.data.get("refresh_token")
            # In Keboola, encrypted fields have # prefix: #appKey and #appSecret
            # Try with # prefix first (encrypted fields), fall back to without prefix
            client_id = getattr(oauth_creds, "#appKey", None) or getattr(oauth_creds, "appKey", None)
            client_secret = getattr(oauth_creds, "#appSecret", None) or getattr(oauth_creds, "appSecret", None)

            if not access_token:
                raise UserException("OAuth access token not found in credentials")

            # Build full oauth token dict
            oauth_token_dict = {
                "access_token": access_token,
                "refresh_token": refresh_token,
                "token_type": oauth_creds.data.get("token_type", "Bearer"),
            }

            return XeroClient(
                access_token=access_token,
                refresh_token=refresh_token,
                client_id=client_id,
                client_secret=client_secret,
                oauth_token_dict=oauth_token_dict,
            )
        except Exception as e:
            raise UserException(f"Failed to retrieve OAuth credentials: {str(e)}")

    def refresh_token_and_save_state(self) -> None:
        """Refresh the OAuth token and save it to state."""
        logging.info("Refreshing OAuth token and saving to state")
        self.client.refresh_access_token()
        self.new_state[KEY_STATE_OAUTH_TOKEN_DICT] = json.dumps(self.client.get_oauth_token_dict())
        self.write_state_file(self.new_state)
        logging.info("Token refreshed and saved to state")

    def _extract_report_params(self, report_config: ReportConfig) -> dict[str, str]:
        """Extract non-empty report parameters from configuration.

        Iterates through all ReportConfig fields, excluding report_type and destination,
        to automatically extract parameters without maintaining a separate constant.
        Converts snake_case field names to camelCase for Xero API compatibility.

        Args:
            report_config: Report configuration containing parameter values

        Returns:
            Dictionary of parameter names (in camelCase) to string values for API calls
        """
        params = {}
        # Fields to exclude from parameter extraction
        excluded_fields = {"report_type", "destination"}

        for field_name in report_config.__class__.model_fields:
            if field_name in excluded_fields:
                continue

            value = getattr(report_config, field_name)
            # Skip empty strings and None values
            if value == "" or value is None:
                continue
            # Skip default integer/bool values (0 or False)
            if isinstance(value, int) and value == 0:
                continue
            if isinstance(value, bool) and value is False:
                continue

            # Convert snake_case field name to camelCase API parameter name
            api_param_name = FIELD_NAME_TO_API_PARAM.get(field_name, field_name)

            # Convert to string format for API calls
            if isinstance(value, bool):
                params[api_param_name] = "true" if value else "false"
            elif isinstance(value, int):
                params[api_param_name] = str(value)
            else:
                params[api_param_name] = value

        return params

    def _process_report_data(
        self, report_data: dict[str, Any], report_type: str, tenant_id: str
    ) -> list[dict[str, Any]]:
        """Process report data and flatten into long format rows.

        Args:
            report_data: Raw API response from Xero
            report_type: Type of report being processed
            tenant_id: Xero tenant ID for tracking

        Returns:
            list of flattened data rows in long format
        """
        reports = report_data.get("Reports", [])
        if not reports:
            logging.warning(f"No report data returned for tenant {tenant_id}")
            return []

        report = reports[0]
        rows = report.get("Rows", [])
        long_format_data = self._flatten_report_rows_long_format(rows, report_type, tenant_id)

        if not long_format_data:
            logging.warning(f"No data rows found in report for tenant {tenant_id}")
            return []

        logging.debug(f"Processed {len(long_format_data)} rows for tenant {tenant_id}")
        return long_format_data

    def _build_schema(self, fieldnames: list[str], primary_keys: list[str]) -> OrderedDict:
        """Build dynamic schema for output table with appropriate data types.

        Args:
            fieldnames: List of column names from the CSV
            primary_keys: List of primary key column names

        Returns:
            OrderedDict mapping column names to ColumnDefinition objects
        """
        schema = OrderedDict()

        # Create lookup dict from COLUMNS for efficient access
        columns_by_name = {col.name: col for col in COLUMNS}

        # Map string dtype to SupportedDataTypes enum
        dtype_map = {
            "STRING": SupportedDataTypes.STRING,
            "INTEGER": SupportedDataTypes.INTEGER,
            "TIMESTAMP": SupportedDataTypes.TIMESTAMP,
        }

        # Use user-configured primary keys
        user_primary_keys = primary_keys if primary_keys else []

        # Build schema dynamically from fieldnames
        for column_name in fieldnames:
            col_metadata = columns_by_name.get(column_name)
            if col_metadata:
                dtype = dtype_map.get(col_metadata.dtype, SupportedDataTypes.STRING)
                description = col_metadata.description
                nullable = col_metadata.nullable
            else:
                # Fallback for unknown columns
                dtype = SupportedDataTypes.STRING
                description = None
                nullable = True

            # Use user-configured PKs if provided, otherwise no PKs for full load
            is_primary_key = column_name in user_primary_keys

            schema[column_name] = ColumnDefinition(
                data_types=BaseType(dtype=dtype),
                nullable=nullable,
                primary_key=is_primary_key,
                description=description,
            )

        return schema

    def _write_data_to_csv(self, data: list[dict[str, Any]], report_config: ReportConfig) -> None:
        """Write collected data to CSV output file.

        Args:
            data: list of flattened data rows
            report_config: Report configuration including destination settings
        """
        # Table name is either custom name or report type
        table_name = report_config.destination.output_table_name or report_config.report_type
        output_file = f"{table_name}.csv"

        # Determine if incremental based on load_type
        is_incremental = report_config.destination.load_type == "incremental_load"

        schema = self._build_schema(CSV_FIELDNAMES, report_config.destination.primary_keys)
        table = self.create_out_table_definition(
            output_file,
            incremental=is_incremental,
            schema=schema,
            has_header=True,
        )

        extracted_at = datetime.now(timezone.utc).isoformat()
        output_data = []
        for row in data:
            output_row = {k: v for k, v in row.items() if k != "others"}
            output_row["others"] = json.dumps(row.get("others", {})) if row.get("others") else ""
            output_row["extracted_at"] = extracted_at
            output_data.append(output_row)

        with open(table.full_path, mode="w", encoding="utf-8", newline="") as f:
            writer = csv.DictWriter(f, fieldnames=CSV_FIELDNAMES, extrasaction="ignore")
            writer.writeheader()
            writer.writerows(output_data)

        self.write_manifest(table)
        logging.info(f"Successfully extracted {len(data)} rows to {output_file}")

    def _flatten_report_rows_long_format(
        self,
        rows: list[dict[str, Any]],
        report_type: str,
        tenant_id: str,
        header_values: list[str] | None = None,
        row_id_counter: list[int] | None = None,
    ) -> list[dict[str, Any]]:
        """Convert Xero report rows into long format (unpivoted).

        Recursively processes report structure, converting each cell into a separate
        row with metadata. This enables easier data analysis and transformation.

        Args:
            rows: list of row dictionaries from Xero report
            report_type: Type of report being processed
            tenant_id: Xero tenant ID
            header_values: Column headers (extracted automatically if None)
            row_id_counter: Mutable counter for row IDs across recursion

        Returns:
            list of flattened rows with each cell as a separate record
        """
        long_format = []

        if row_id_counter is None:
            row_id_counter = [0]

        if header_values is None:
            header_values = []
            for row in rows:
                if row.get("RowType") == "Header":
                    cells = row.get("Cells", [])
                    header_values = [cell.get("Value", "") for cell in cells]
                    break

        for row in rows:
            row_type = row.get("RowType")

            if row_type == "Header":
                continue

            if row_type == "Section":
                section_rows = row.get("Rows", [])
                long_format.extend(
                    self._flatten_report_rows_long_format(
                        section_rows,
                        report_type,
                        tenant_id,
                        header_values,
                        row_id_counter,
                    )
                )

            elif row_type in ["Row", "SummaryRow"]:
                current_row_id = row_id_counter[0]
                row_id_counter[0] += 1

                cells = row.get("Cells", [])
                others = {k: v for k, v in row.items() if k not in ["RowType", "Cells"]}

                for idx, cell in enumerate(cells):
                    value = cell.get("Value", "")
                    cell_attributes = {
                        attr.get("Id", ""): attr.get("Value", "")
                        for attr in cell.get("Attributes", [])
                        if attr.get("Id") and attr.get("Value")
                    }

                    long_row = {
                        "xero_tenant_id": tenant_id,
                        "row_id": current_row_id,
                        "row_type": row_type,
                        "column_index": idx,
                        "column_name": (header_values[idx] if idx < len(header_values) else ""),
                        "value": value,
                        "others": {**others, **cell_attributes},
                    }

                    long_format.append(long_row)

        return long_format

    def _parse_date_parameters(self, params: dict[str, str], report_type: str) -> dict[str, str]:
        """Parse and normalize date parameters from configuration.

        Handles natural language dates (e.g., '7 days ago') and converts them
        to ISO format. Also converts BudgetSummary timeframe values to integers.

        Args:
            params: Raw parameter dictionary from configuration
            report_type: Type of report being processed

        Returns:
            Parsed parameter dictionary with normalized values
        """
        parsed = {}

        for key, value in params.items():
            if key in DATE_FIELDS and value:
                try:
                    parsed_date = get_past_date(value)
                    if parsed_date:
                        parsed[key] = parsed_date.strftime("%Y-%m-%d")
                        logging.debug(f"Parsed date parameter {key}: '{value}' -> '{parsed[key]}'")
                    else:
                        parsed[key] = value
                        logging.debug(f"Using date parameter {key}='{value}' as-is")
                except Exception as e:
                    logging.debug(f"Failed to parse date parameter {key}='{value}': {e}. Using as-is.")
                    parsed[key] = value
            elif key == "timeframe" and report_type == "BudgetSummary":
                if value in TIMEFRAME_MAP:
                    parsed[key] = TIMEFRAME_MAP[value]
                    logging.debug(f"Converted timeframe: '{value}' -> {parsed[key]}")
                else:
                    parsed[key] = value
            else:
                parsed[key] = value

        return parsed

    @sync_action("get_output_columns")
    def get_output_columns(self) -> list[SelectElement]:
        """Load columns from output table and return as select elements for UI.

        All Xero reports produce the same output schema, so we return a static list
        of columns that will be available after the first run.

        Returns:
            list of SelectElement objects for column selection in UI
        """
        return [
            SelectElement(
                value=col.name,
                label=f"{col.name} ({col.dtype.lower()})",
            )
            for col in COLUMNS
        ]


if __name__ == "__main__":
    try:
        comp = Component()
        comp.execute_action()
    except UserException as exc:
        logging.exception(exc)
        exit(1)
    except Exception as exc:
        logging.exception(exc)
        exit(2)



================================================
FILE: src/configuration.py
================================================
import re
from keboola.component.exceptions import UserException
from pydantic import BaseModel, Field, ValidationError, field_validator


class Destination(BaseModel):
    output_table_name: str = ""
    load_type: str = "full_load"
    primary_keys: list[str] = Field(default_factory=list)


class ReportConfig(BaseModel):
    """Configuration for a single report type."""

    report_type: str
    destination: Destination = Field(default_factory=Destination)

    # Report parameters - all optional with empty defaults
    # Using consistent snake_case naming convention
    report_year: str = ""
    date: str = ""
    from_date: str = ""
    to_date: str = ""
    contact_id: str = ""
    periods: int = 0
    timeframe: str = ""
    tracking_option_id: str = ""
    tracking_category_id: str = ""
    tracking_option_id_2: str = ""
    tracking_category_id_2: str = ""
    standard_layout: bool = False
    payments_only: bool = False
    report_id: str = ""


class Configuration(BaseModel):
    # Core configuration
    xero_tenant_ids: str = ""
    reports: list[ReportConfig]

    @field_validator("xero_tenant_ids")
    @classmethod
    def validate_tenant_ids(cls, v: str) -> str:
        """Validate that tenant IDs are valid UUIDs if provided."""
        if not v or v.strip() == "":
            return v

        # UUID regex pattern (with or without hyphens)
        uuid_pattern = re.compile(r"^[0-9a-fA-F]{8}-?[0-9a-fA-F]{4}-?[0-9a-fA-F]{4}-?[0-9a-fA-F]{4}-?[0-9a-fA-F]{12}$")

        tenant_ids = [tid.strip() for tid in v.split(",")]
        invalid_ids = [tid for tid in tenant_ids if tid and not uuid_pattern.match(tid)]

        if invalid_ids:
            raise ValueError(
                f"Invalid tenant ID format: {', '.join(invalid_ids)}. "
                "Tenant IDs must be valid UUIDs (e.g., 'abc-123-def' or 'abc123def')."
            )

        return v

    def get_tenant_ids(self) -> list[str]:
        """Parse and return list of tenant IDs from comma-separated string."""
        if not self.xero_tenant_ids or self.xero_tenant_ids.strip() == "":
            return []
        return [tid.strip() for tid in self.xero_tenant_ids.split(",") if tid.strip()]

    def __init__(self, **data):
        try:
            super().__init__(**data)
        except ValidationError as e:
            error_messages = [f"{err['loc'][0]}: {err['msg']}" for err in e.errors()]
            raise UserException(f"Validation Error: {', '.join(error_messages)}")



================================================
FILE: src/xero_client.py
================================================
from typing import Any

import requests
from keboola.component.exceptions import UserException


class XeroClient:
    BASE_URL = "https://api.xero.com/api.xro/2.0"
    CONNECTIONS_URL = "https://api.xero.com/connections"
    TOKEN_URL = "https://identity.xero.com/connect/token"

    def __init__(
        self,
        access_token: str,
        refresh_token: str | None = None,
        client_id: str | None = None,
        client_secret: str | None = None,
        oauth_token_dict: dict[str, Any] | None = None,
    ):
        """Initialize XeroClient with OAuth credentials.

        Args:
            access_token: OAuth access token
            refresh_token: OAuth refresh token for token refresh
            client_id: OAuth client ID for token refresh
            client_secret: OAuth client secret for token refresh
            oauth_token_dict: Full OAuth token dictionary to store
        """
        self.access_token = access_token
        self.refresh_token = refresh_token
        self.client_id = client_id
        self.client_secret = client_secret
        self._oauth_token_dict = oauth_token_dict or {
            "access_token": access_token,
            "refresh_token": refresh_token,
        }
        self.base_headers = {
            "Authorization": f"Bearer {access_token}",
            "Accept": "application/json",
            "Content-Type": "application/json",
        }

    def get_tenants(self) -> list[dict[str, Any]]:
        """Fetch all available Xero tenants/organizations"""
        response = requests.get(self.CONNECTIONS_URL, headers=self.base_headers)

        if response.status_code == 401:
            raise UserException("Authentication failed. Please reconnect your Xero account.")
        elif response.status_code != 200:
            raise UserException(f"Failed to fetch Xero tenants: {response.status_code} - {response.text}")

        return response.json()

    def get_report(self, report_type: str, tenant_id: str, parameters: dict[str, str]) -> dict[str, Any]:
        """
        Fetch a report for a specific tenant.

        Args:
            report_type: The report type or custom report ID
            tenant_id: Xero tenant ID (required for all API calls)
            parameters: Query parameters for the report
        """
        endpoint = f"{self.BASE_URL}/Reports/{report_type}"

        # Add xero-tenant-id header
        headers = self.base_headers.copy()
        headers["xero-tenant-id"] = tenant_id

        response = requests.get(endpoint, headers=headers, params=parameters)

        if response.status_code == 401:
            raise UserException("Authentication failed. Please reconnect your Xero account.")
        elif response.status_code == 403:
            raise UserException("Access forbidden. Check your Xero permissions.")
        elif response.status_code == 404:
            raise UserException(f"Report '{report_type}' not found. Check the report name.")
        elif response.status_code != 200:
            raise UserException(f"Xero API error: {response.status_code} - {response.text}")

        return response.json()

    def refresh_access_token(self) -> None:
        """Refresh the access token using the refresh token."""
        if not self.refresh_token:
            raise UserException("Cannot refresh token: refresh_token not available")
        if not self.client_id or not self.client_secret:
            raise UserException("Cannot refresh token: client_id or client_secret not available")

        data = {
            "grant_type": "refresh_token",
            "refresh_token": self.refresh_token,
            "client_id": self.client_id,
            "client_secret": self.client_secret,
        }

        try:
            response = requests.post(self.TOKEN_URL, data=data)
            response.raise_for_status()
            token_data = response.json()

            # Update tokens
            self.access_token = token_data["access_token"]
            self.refresh_token = token_data.get("refresh_token", self.refresh_token)

            # Update oauth token dict
            self._oauth_token_dict.update(
                {
                    "access_token": self.access_token,
                    "refresh_token": self.refresh_token,
                    "expires_in": token_data.get("expires_in"),
                    "token_type": token_data.get("token_type"),
                }
            )

            # Update headers with new access token
            self.base_headers["Authorization"] = f"Bearer {self.access_token}"

        except requests.exceptions.RequestException as e:
            raise UserException(f"Failed to refresh access token: {str(e)}")

    def get_oauth_token_dict(self) -> dict[str, Any]:
        """Get the current OAuth token dictionary."""
        return self._oauth_token_dict.copy()

    def set_oauth_token_dict(self, token_dict: dict[str, Any]) -> None:
        """Set the OAuth token dictionary and update client credentials."""
        self._oauth_token_dict = token_dict
        if "access_token" in token_dict:
            self.access_token = token_dict["access_token"]
            self.base_headers["Authorization"] = f"Bearer {self.access_token}"
        if "refresh_token" in token_dict:
            self.refresh_token = token_dict["refresh_token"]



================================================
FILE: tests/__init__.py
================================================
import sys
from pathlib import Path

sys.path.append(str((Path(__file__).resolve().parent.parent / "src")))



================================================
FILE: tests/test_component.py
================================================
import csv
import json
import os
import tempfile
import unittest
from unittest.mock import MagicMock, Mock, patch

from freezegun import freeze_time
from keboola.component.exceptions import UserException

from component import CSV_FIELDNAMES, TIMEFRAME_MAP, Component


class TestComponent(unittest.TestCase):
    """Test cases for Component class"""

    def setUp(self):
        """Set up test fixtures"""
        # Create a temporary directory for output
        self.temp_dir = tempfile.mkdtemp()

        # Mock configuration
        self.mock_config_data = {
            "parameters": {
                "xero_tenant_ids": "",
                "reports": [
                    {
                        "report_type": "ProfitAndLoss",
                        "from_date": "2024-01-01",
                        "to_date": "2024-01-31",
                        "destination": {
                            "load_type": "full_load",
                        },
                    }
                ],
            },
            "authorization": {
                "oauth_api": {
                    "credentials": {
                        "#data": json.dumps(
                            {
                                "access_token": "test_access_token",
                                "refresh_token": "test_refresh_token",
                            }
                        ),
                        "appKey": "test_client_id",
                        "#appSecret": "test_client_secret",
                    }
                }
            },
        }

    def tearDown(self):
        """Clean up test fixtures"""
        # Clean up temporary directory
        import shutil

        if os.path.exists(self.temp_dir):
            shutil.rmtree(self.temp_dir)

    def _create_mock_oauth(self, include_all=True):
        """Helper to create mock oauth credentials"""
        mock_oauth = MagicMock()
        if include_all:
            mock_oauth.data = {
                "access_token": "test_token",
                "refresh_token": "test_refresh",
            }
            mock_oauth.appKey = "test_client_id"
            mock_oauth.appSecret = "test_client_secret"
        else:
            mock_oauth.data = {"access_token": "test_token"}
        return mock_oauth

    def _create_mock_params(self, report_type, **kwargs):
        """Helper to create mock parameters with destination"""
        report_params = {"report_type": report_type}
        # Extract report-level parameters from kwargs
        report_keys = [
            "report_year",
            "date",
            "from_date",
            "to_date",
            "contact_id",
            "periods",
            "timeframe",
            "tracking_option_id",
            "tracking_category_id",
            "tracking_option_id_2",
            "tracking_category_id_2",
            "standard_layout",
            "payments_only",
            "report_id",
        ]
        for key in report_keys:
            if key in kwargs:
                report_params[key] = kwargs.pop(key)

        # Add destination to report
        report_params["destination"] = {
            "load_type": kwargs.pop("load_type", "full_load"),
            "output_table_name": kwargs.pop("output_table_name", ""),
            "primary_keys": kwargs.pop("primary_keys", []),
        }

        params = {
            "xero_tenant_ids": kwargs.pop("xero_tenant_ids", ""),
            "reports": [report_params],
        }
        params.update(kwargs)
        return params

    @patch("component.XeroClient")
    @patch("component.ComponentBase.__init__")
    def test_component_initialization(self, mock_base_init, mock_xero_client):
        """Test Component initialization"""
        mock_base_init.return_value = None

        with patch.object(Component, "configuration") as mock_configuration:
            with patch.object(Component, "get_state_file", return_value={}):
                mock_configuration.parameters = self.mock_config_data["parameters"]
                mock_configuration.oauth_credentials = self._create_mock_oauth()

                component = Component()

                self.assertIsNotNone(component.config)
                # Verify XeroClient was called with all the new parameters
                mock_xero_client.assert_called_once()
                call_kwargs = mock_xero_client.call_args[1]
                self.assertEqual(call_kwargs["access_token"], "test_token")
                self.assertEqual(call_kwargs["refresh_token"], "test_refresh")

    @patch("component.XeroClient")
    @patch("component.ComponentBase.__init__")
    def test_component_initialization_missing_token(self, mock_base_init, mock_xero_client):
        """Test Component initialization with missing access token"""
        mock_base_init.return_value = None

        with patch.object(Component, "configuration") as mock_configuration:
            with patch.object(Component, "get_state_file", return_value={}):
                mock_configuration.parameters = self.mock_config_data["parameters"]
                mock_oauth = MagicMock()
                mock_oauth.data = {}  # No access_token
                mock_configuration.oauth_credentials = mock_oauth

                with self.assertRaises(UserException) as context:
                    Component()

                self.assertIn("OAuth access token not found", str(context.exception))

    def test_parse_date_parameters_with_natural_language(self):
        """Test _parse_date_parameters with natural language dates"""
        with patch("component.ComponentBase.__init__"):
            with patch.object(Component, "configuration") as mock_configuration:
                with patch.object(Component, "get_state_file", return_value={}):
                    mock_configuration.parameters = self._create_mock_params("ProfitAndLoss")
                    mock_configuration.oauth_credentials = self._create_mock_oauth()

                    component = Component()

                    with freeze_time("2024-02-01"):
                        params = {
                            "fromDate": "7 days ago",
                            "toDate": "today",
                            "otherParam": "value",
                        }

                        parsed = component._parse_date_parameters(params, "ProfitAndLoss")

                        self.assertEqual(parsed["fromDate"], "2024-01-25")
                        self.assertEqual(parsed["toDate"], "2024-02-01")
                        self.assertEqual(parsed["otherParam"], "value")

    def test_parse_date_parameters_with_iso_dates(self):
        """Test _parse_date_parameters with ISO format dates"""
        with patch("component.ComponentBase.__init__"):
            with patch.object(Component, "configuration") as mock_configuration:
                with patch.object(Component, "get_state_file", return_value={}):
                    mock_configuration.parameters = self._create_mock_params("BalanceSheet")
                    mock_configuration.oauth_credentials = self._create_mock_oauth()

                    component = Component()

                    params = {"date": "2024-12-31", "from_date": "2024-01-01"}

                    parsed = component._parse_date_parameters(params, "BalanceSheet")

                    self.assertEqual(parsed["date"], "2024-12-31")
                    self.assertEqual(parsed["from_date"], "2024-01-01")

    def test_parse_date_parameters_timeframe_conversion(self):
        """Test _parse_date_parameters converts BudgetSummary timeframe"""
        with patch("component.ComponentBase.__init__"):
            with patch.object(Component, "configuration") as mock_configuration:
                with patch.object(Component, "get_state_file", return_value={}):
                    mock_configuration.parameters = self._create_mock_params("BudgetSummary")
                    mock_configuration.oauth_credentials = self._create_mock_oauth()

                    component = Component()

                    params = {"timeframe": "MONTH"}
                    parsed = component._parse_date_parameters(params, "BudgetSummary")
                    self.assertEqual(parsed["timeframe"], 1)

                    params = {"timeframe": "QUARTER"}
                    parsed = component._parse_date_parameters(params, "BudgetSummary")
                    self.assertEqual(parsed["timeframe"], 3)

                    params = {"timeframe": "YEAR"}
                    parsed = component._parse_date_parameters(params, "BudgetSummary")
                    self.assertEqual(parsed["timeframe"], 12)

    def test_parse_date_parameters_non_budget_timeframe(self):
        """Test _parse_date_parameters doesn't convert timeframe for non-BudgetSummary"""
        with patch("component.ComponentBase.__init__"):
            with patch.object(Component, "configuration") as mock_configuration:
                with patch.object(Component, "get_state_file", return_value={}):
                    mock_configuration.parameters = self._create_mock_params("ProfitAndLoss")
                    mock_configuration.oauth_credentials = self._create_mock_oauth()

                    component = Component()

                    params = {"timeframe": "MONTH"}
                    parsed = component._parse_date_parameters(params, "ProfitAndLoss")
                    self.assertEqual(parsed["timeframe"], "MONTH")

    def test_flatten_report_rows_long_format_simple(self):
        """Test _flatten_report_rows_long_format with simple data"""
        with patch("component.ComponentBase.__init__"):
            with patch.object(Component, "configuration") as mock_configuration:
                with patch.object(Component, "get_state_file", return_value={}):
                    mock_configuration.parameters = self._create_mock_params("ProfitAndLoss")
                    mock_configuration.oauth_credentials = self._create_mock_oauth()

                    component = Component()

                    rows = [
                        {
                            "RowType": "Header",
                            "Cells": [{"Value": "Account"}, {"Value": "Amount"}],
                        },
                        {
                            "RowType": "Row",
                            "Cells": [{"Value": "Revenue"}, {"Value": "10000"}],
                        },
                    ]

                    result = component._flatten_report_rows_long_format(rows, "ProfitAndLoss", "tenant-123")

                    self.assertEqual(len(result), 2)  # 2 cells
                    self.assertEqual(result[0]["xero_tenant_id"], "tenant-123")
                    self.assertEqual(result[0]["row_id"], 0)
                    self.assertEqual(result[0]["row_type"], "Row")
                    self.assertEqual(result[0]["column_index"], 0)
                    self.assertEqual(result[0]["column_name"], "Account")
                    self.assertEqual(result[0]["value"], "Revenue")

                    self.assertEqual(result[1]["column_index"], 1)
                    self.assertEqual(result[1]["column_name"], "Amount")
                    self.assertEqual(result[1]["value"], "10000")

    def test_flatten_report_rows_with_sections(self):
        """Test _flatten_report_rows_long_format with nested sections"""
        with patch("component.ComponentBase.__init__"):
            with patch.object(Component, "configuration") as mock_configuration:
                with patch.object(Component, "get_state_file", return_value={}):
                    mock_configuration.parameters = self._create_mock_params("BalanceSheet")
                    mock_configuration.oauth_credentials = self._create_mock_oauth()

                    component = Component()

                    rows = [
                        {
                            "RowType": "Header",
                            "Cells": [{"Value": "Account"}, {"Value": "Amount"}],
                        },
                        {
                            "RowType": "Section",
                            "Title": "Assets",
                            "Rows": [
                                {
                                    "RowType": "Row",
                                    "Cells": [{"Value": "Cash"}, {"Value": "5000"}],
                                }
                            ],
                        },
                    ]

                    result = component._flatten_report_rows_long_format(rows, "BalanceSheet", "tenant-456")

                    self.assertEqual(len(result), 2)
                    self.assertEqual(result[0]["value"], "Cash")
                    self.assertEqual(result[1]["value"], "5000")

    def test_flatten_report_rows_with_summary_row(self):
        """Test _flatten_report_rows_long_format with SummaryRow type"""
        with patch("component.ComponentBase.__init__"):
            with patch.object(Component, "configuration") as mock_configuration:
                with patch.object(Component, "get_state_file", return_value={}):
                    mock_configuration.parameters = self._create_mock_params("ProfitAndLoss")
                    mock_configuration.oauth_credentials = self._create_mock_oauth()

                    component = Component()

                    rows = [
                        {
                            "RowType": "Header",
                            "Cells": [{"Value": "Label"}, {"Value": "Total"}],
                        },
                        {
                            "RowType": "SummaryRow",
                            "Cells": [{"Value": "Net Profit"}, {"Value": "25000"}],
                        },
                    ]

                    result = component._flatten_report_rows_long_format(rows, "ProfitAndLoss", "tenant-789")

                    self.assertEqual(len(result), 2)
                    self.assertEqual(result[0]["row_type"], "SummaryRow")
                    self.assertEqual(result[0]["value"], "Net Profit")

    def test_flatten_report_rows_with_cell_attributes(self):
        """Test _flatten_report_rows_long_format with cell attributes"""
        with patch("component.ComponentBase.__init__"):
            with patch.object(Component, "configuration") as mock_configuration:
                with patch.object(Component, "get_state_file", return_value={}):
                    mock_configuration.parameters = self._create_mock_params("TrialBalance")
                    mock_configuration.oauth_credentials = self._create_mock_oauth()

                    component = Component()

                    rows = [
                        {"RowType": "Header", "Cells": [{"Value": "Account"}]},
                        {
                            "RowType": "Row",
                            "Cells": [
                                {
                                    "Value": "Bank Account",
                                    "Attributes": [
                                        {"Id": "account", "Value": "001"},
                                        {"Id": "type", "Value": "BANK"},
                                    ],
                                }
                            ],
                        },
                    ]

                    result = component._flatten_report_rows_long_format(rows, "TrialBalance", "tenant-abc")

                    self.assertEqual(len(result), 1)
                    self.assertIn("account", result[0]["others"])
                    self.assertEqual(result[0]["others"]["account"], "001")
                    self.assertIn("type", result[0]["others"])
                    self.assertEqual(result[0]["others"]["type"], "BANK")

    def test_process_report_data_success(self):
        """Test _process_report_data with valid data"""
        with patch("component.ComponentBase.__init__"):
            with patch.object(Component, "configuration") as mock_configuration:
                with patch.object(Component, "get_state_file", return_value={}):
                    mock_configuration.parameters = self._create_mock_params("ProfitAndLoss")
                    mock_configuration.oauth_credentials = self._create_mock_oauth()

                    component = Component()

                    report_data = {
                        "Reports": [
                            {
                                "ReportID": "ProfitAndLoss",
                                "Rows": [
                                    {
                                        "RowType": "Header",
                                        "Cells": [
                                            {"Value": "Account"},
                                            {"Value": "Total"},
                                        ],
                                    },
                                    {
                                        "RowType": "Row",
                                        "Cells": [
                                            {"Value": "Income"},
                                            {"Value": "50000"},
                                        ],
                                    },
                                ],
                            }
                        ]
                    }

                    result = component._process_report_data(report_data, "ProfitAndLoss", "tenant-123")

                    self.assertIsInstance(result, list)
                    self.assertGreater(len(result), 0)

    def test_process_report_data_no_reports(self):
        """Test _process_report_data with no reports in response"""
        with patch("component.ComponentBase.__init__"):
            with patch.object(Component, "configuration") as mock_configuration:
                with patch.object(Component, "get_state_file", return_value={}):
                    mock_configuration.parameters = self._create_mock_params("BalanceSheet")
                    mock_configuration.oauth_credentials = self._create_mock_oauth()

                    component = Component()

                    report_data = {"Reports": []}

                    result = component._process_report_data(report_data, "BalanceSheet", "tenant-456")

                    self.assertEqual(result, [])

    def test_process_report_data_no_rows(self):
        """Test _process_report_data with no rows in report"""
        with patch("component.ComponentBase.__init__"):
            with patch.object(Component, "configuration") as mock_configuration:
                with patch.object(Component, "get_state_file", return_value={}):
                    mock_configuration.parameters = self._create_mock_params("ExecutiveSummary")
                    mock_configuration.oauth_credentials = self._create_mock_oauth()

                    component = Component()

                    report_data = {"Reports": [{"ReportID": "ExecutiveSummary", "Rows": []}]}

                    result = component._process_report_data(report_data, "ExecutiveSummary", "tenant-789")

                    self.assertEqual(result, [])

    def test_write_data_to_csv(self):
        """Test _write_data_to_csv writes correct CSV format"""
        with patch("component.ComponentBase.__init__"):
            with patch.object(Component, "configuration") as mock_configuration:
                with patch.object(Component, "get_state_file", return_value={}):
                    mock_configuration.parameters = self._create_mock_params("ProfitAndLoss")
                    mock_configuration.oauth_credentials = self._create_mock_oauth()

                    component = Component()

                    # Mock the table creation methods
                    mock_table = Mock()
                    mock_table.full_path = os.path.join(self.temp_dir, "ProfitAndLoss.csv")

                    with patch.object(
                        component,
                        "create_out_table_definition",
                        return_value=mock_table,
                    ):
                        with patch.object(component, "write_manifest"):
                            data = [
                                {
                                    "xero_tenant_id": "tenant-123",
                                    "row_id": 0,
                                    "row_type": "Row",
                                    "column_index": 0,
                                    "column_name": "Account",
                                    "value": "Revenue",
                                    "others": {"account_id": "001"},
                                }
                            ]

                            component._write_data_to_csv(data, component.config.reports[0])

                            # Verify file was created
                            self.assertTrue(os.path.exists(mock_table.full_path))

                            # Read and verify content
                            with open(mock_table.full_path, "r") as f:
                                reader = csv.DictReader(f)
                                rows = list(reader)

                                self.assertEqual(len(rows), 1)
                                self.assertEqual(rows[0]["xero_tenant_id"], "tenant-123")
                                self.assertEqual(rows[0]["row_id"], "0")
                                self.assertEqual(rows[0]["column_name"], "Account")
                                self.assertEqual(rows[0]["value"], "Revenue")
                                # Others should be JSON string
                                others_dict = json.loads(rows[0]["others"])
                                self.assertEqual(others_dict["account_id"], "001")

    def test_write_data_to_csv_empty_others(self):
        """Test _write_data_to_csv with empty others field"""
        with patch("component.ComponentBase.__init__"):
            with patch.object(Component, "configuration") as mock_configuration:
                with patch.object(Component, "get_state_file", return_value={}):
                    mock_configuration.parameters = self._create_mock_params("TrialBalance")
                    mock_configuration.oauth_credentials = self._create_mock_oauth()

                    component = Component()

                    mock_table = Mock()
                    mock_table.full_path = os.path.join(self.temp_dir, "TrialBalance.csv")

                    with patch.object(
                        component,
                        "create_out_table_definition",
                        return_value=mock_table,
                    ):
                        with patch.object(component, "write_manifest"):
                            data = [
                                {
                                    "xero_tenant_id": "tenant-456",
                                    "row_id": 0,
                                    "row_type": "Row",
                                    "column_index": 0,
                                    "column_name": "Description",
                                    "value": "Test",
                                    "others": {},
                                }
                            ]

                            component._write_data_to_csv(data, component.config.reports[0])

                            with open(mock_table.full_path, "r") as f:
                                reader = csv.DictReader(f)
                                rows = list(reader)
                                # Empty dict is treated as falsy, so it becomes empty string
                                self.assertEqual(rows[0]["others"], "")

    def test_csv_fieldnames_constant(self):
        """Test that CSV_FIELDNAMES constant is correct"""
        expected_fields = [
            "xero_tenant_id",
            "row_id",
            "row_type",
            "column_index",
            "column_name",
            "value",
            "others",
            "extracted_at",
        ]
        self.assertEqual(CSV_FIELDNAMES, expected_fields)

    def test_timeframe_map_constant(self):
        """Test that TIMEFRAME_MAP constant is correct"""
        self.assertEqual(TIMEFRAME_MAP["MONTH"], 1)
        self.assertEqual(TIMEFRAME_MAP["QUARTER"], 3)
        self.assertEqual(TIMEFRAME_MAP["YEAR"], 12)


if __name__ == "__main__":
    unittest.main()



================================================
FILE: tests/test_configuration.py
================================================
import unittest

from keboola.component.exceptions import UserException
from configuration import Configuration


class TestConfiguration(unittest.TestCase):
    """Test cases for Configuration model"""

    def test_configuration_minimal(self):
        """Test configuration with only required fields"""
        config = Configuration(
            reports=[
                {
                    "report_type": "ProfitAndLoss",
                    "destination": {"load_type": "full_load"},
                }
            ],
        )
        self.assertEqual(len(config.reports), 1)
        self.assertEqual(config.reports[0].report_type, "ProfitAndLoss")
        self.assertEqual(config.xero_tenant_ids, "")
        self.assertEqual(config.reports[0].destination.load_type, "full_load")
        # All optional params should have default empty values
        self.assertEqual(config.reports[0].from_date, "")
        self.assertEqual(config.reports[0].to_date, "")
        self.assertEqual(config.reports[0].periods, 0)

    def test_configuration_with_string_parameters(self):
        """Test configuration with string report parameters"""
        config = Configuration(
            reports=[
                {
                    "report_type": "ProfitAndLoss",
                    "from_date": "2024-01-01",
                    "to_date": "2024-01-31",
                    "destination": {"load_type": "full_load"},
                }
            ],
        )
        self.assertEqual(config.reports[0].report_type, "ProfitAndLoss")
        self.assertEqual(config.reports[0].from_date, "2024-01-01")
        self.assertEqual(config.reports[0].to_date, "2024-01-31")

    def test_configuration_with_tenant_ids(self):
        """Test configuration with xero_tenant_ids"""
        tenant_ids = "12345678-1234-1234-1234-123456789012, 87654321-4321-4321-4321-210987654321"
        config = Configuration(
            xero_tenant_ids=tenant_ids,
            reports=[
                {
                    "report_type": "ExecutiveSummary",
                    "destination": {"load_type": "full_load"},
                }
            ],
        )
        self.assertEqual(config.xero_tenant_ids, tenant_ids)
        parsed_ids = config.get_tenant_ids()
        self.assertEqual(len(parsed_ids), 2)
        self.assertEqual(parsed_ids[0], "12345678-1234-1234-1234-123456789012")
        self.assertEqual(parsed_ids[1], "87654321-4321-4321-4321-210987654321")

    def test_configuration_with_empty_tenant_ids(self):
        """Test configuration with empty xero_tenant_ids"""
        config = Configuration(
            xero_tenant_ids="",
            reports=[
                {
                    "report_type": "BalanceSheet",
                    "destination": {"load_type": "full_load"},
                }
            ],
        )
        self.assertEqual(config.xero_tenant_ids, "")
        self.assertEqual(config.get_tenant_ids(), [])

    def test_configuration_invalid_tenant_id_format(self):
        """Test that invalid tenant ID format raises validation error"""
        with self.assertRaises(UserException) as context:
            Configuration(
                xero_tenant_ids="invalid-id",
                reports=[
                    {
                        "report_type": "ProfitAndLoss",
                        "destination": {"load_type": "full_load"},
                    }
                ],
            )
        self.assertIn("Invalid tenant ID format", str(context.exception))

    def test_configuration_with_incremental(self):
        """Test configuration with incremental load type"""
        config = Configuration(
            reports=[
                {
                    "report_type": "BankSummary",
                    "destination": {"load_type": "incremental_load"},
                }
            ],
        )
        self.assertEqual(config.reports[0].destination.load_type, "incremental_load")

    def test_configuration_with_boolean_parameters(self):
        """Test configuration with boolean parameter values"""
        config = Configuration(
            reports=[
                {
                    "report_type": "ProfitAndLoss",
                    "standard_layout": True,
                    "payments_only": False,
                    "destination": {"load_type": "full_load"},
                }
            ],
        )
        self.assertTrue(config.reports[0].standard_layout)
        self.assertFalse(config.reports[0].payments_only)
        self.assertIsInstance(config.reports[0].standard_layout, bool)
        self.assertIsInstance(config.reports[0].payments_only, bool)

    def test_configuration_with_integer_parameters(self):
        """Test configuration with integer parameter values"""
        config = Configuration(
            reports=[
                {
                    "report_type": "ProfitAndLoss",
                    "periods": 12,
                    "destination": {"load_type": "full_load"},
                }
            ],
        )
        self.assertEqual(config.reports[0].periods, 12)
        self.assertIsInstance(config.reports[0].periods, int)

    def test_configuration_with_mixed_parameter_types(self):
        """Test configuration with mixed parameter value types"""
        config = Configuration(
            reports=[
                {
                    "report_type": "BudgetSummary",
                    "date": "2024-01-01",
                    "periods": 12,
                    "standard_layout": True,
                    "destination": {"load_type": "full_load"},
                }
            ],
        )
        self.assertIsInstance(config.reports[0].date, str)
        self.assertIsInstance(config.reports[0].periods, int)
        self.assertIsInstance(config.reports[0].standard_layout, bool)

    def test_configuration_filters_empty_strings(self):
        """Test that empty string parameters are stored"""
        config = Configuration(
            reports=[
                {
                    "report_type": "AgedReceivablesByContact",
                    "date": "2024-01-01",
                    "from_date": "",
                    "to_date": "",
                    "destination": {"load_type": "full_load"},
                }
            ],
        )
        self.assertEqual(config.reports[0].date, "2024-01-01")
        self.assertEqual(config.reports[0].from_date, "")
        self.assertEqual(config.reports[0].to_date, "")

    def test_configuration_filters_none_values(self):
        """Test that None parameter values use defaults"""
        config = Configuration(
            reports=[
                {
                    "report_type": "BankSummary",
                    "from_date": "2024-01-01",
                    "destination": {"load_type": "full_load"},
                }
            ],
        )
        self.assertEqual(config.reports[0].from_date, "2024-01-01")
        # toDate defaults to empty string when not provided
        self.assertEqual(config.reports[0].to_date, "")

    def test_configuration_all_fields(self):
        """Test configuration with all fields populated"""
        config = Configuration(
            xero_tenant_ids="12345678-1234-1234-1234-123456789012",
            reports=[
                {
                    "report_type": "TrialBalance",
                    "date": "2024-01-01",
                    "destination": {"load_type": "incremental_load"},
                }
            ],
        )
        self.assertEqual(config.reports[0].report_type, "TrialBalance")
        self.assertEqual(config.xero_tenant_ids, "12345678-1234-1234-1234-123456789012")
        self.assertEqual(config.reports[0].date, "2024-01-01")
        self.assertEqual(config.reports[0].destination.load_type, "incremental_load")

    def test_configuration_multiple_reports(self):
        """Test configuration with multiple reports"""
        config = Configuration(
            reports=[
                {
                    "report_type": "ProfitAndLoss",
                    "from_date": "2024-01-01",
                    "destination": {"load_type": "full_load"},
                },
                {
                    "report_type": "BalanceSheet",
                    "date": "2024-01-31",
                    "destination": {"load_type": "full_load"},
                },
                {
                    "report_type": "TrialBalance",
                    "destination": {"load_type": "full_load"},
                },
            ],
        )
        self.assertEqual(len(config.reports), 3)
        self.assertEqual(config.reports[0].report_type, "ProfitAndLoss")
        self.assertEqual(config.reports[1].report_type, "BalanceSheet")
        self.assertEqual(config.reports[2].report_type, "TrialBalance")

    def test_configuration_duplicate_report_types(self):
        """Test that duplicate report types are allowed (with different table names)"""
        config = Configuration(
            reports=[
                {
                    "report_type": "ProfitAndLoss",
                    "from_date": "2024-01-01",
                    "to_date": "2024-03-31",
                    "destination": {
                        "load_type": "full_load",
                        "output_table_name": "ProfitAndLoss_Q1",
                    },
                },
                {
                    "report_type": "BalanceSheet",
                    "destination": {"load_type": "full_load"},
                },
                {
                    "report_type": "ProfitAndLoss",
                    "from_date": "2024-04-01",
                    "to_date": "2024-06-30",
                    "destination": {
                        "load_type": "full_load",
                        "output_table_name": "ProfitAndLoss_Q2",
                    },
                },
            ],
        )
        self.assertEqual(len(config.reports), 3)
        self.assertEqual(config.reports[0].report_type, "ProfitAndLoss")
        self.assertEqual(config.reports[1].report_type, "BalanceSheet")
        self.assertEqual(config.reports[2].report_type, "ProfitAndLoss")
        self.assertEqual(config.reports[0].destination.output_table_name, "ProfitAndLoss_Q1")
        self.assertEqual(config.reports[2].destination.output_table_name, "ProfitAndLoss_Q2")

    def test_configuration_standard_report_types(self):
        """Test various standard report types"""
        report_types = [
            "ProfitAndLoss",
            "BalanceSheet",
            "TrialBalance",
            "ExecutiveSummary",
            "BankSummary",
            "BudgetSummary",
            "AgedReceivablesByContact",
            "AgedPayablesByContact",
            "TenNinetyNine",
            "BASReport",
            "GSTReport",
        ]
        for report_type in report_types:
            config = Configuration(
                reports=[
                    {
                        "report_type": report_type,
                        "destination": {
                            "output_table_name": report_type,
                            "load_type": "full_load",
                        },
                    }
                ],
            )
            self.assertEqual(config.reports[0].report_type, report_type)

    def test_configuration_does_not_include_known_fields_in_parameters(self):
        """Test that all fields are accessible as attributes"""
        config = Configuration(
            xero_tenant_ids="12345678-1234-1234-1234-123456789012",
            reports=[
                {
                    "report_type": "ProfitAndLoss",
                    "from_date": "2024-01-01",
                    "destination": {"load_type": "incremental_load"},
                }
            ],
        )
        self.assertEqual(config.reports[0].report_type, "ProfitAndLoss")
        self.assertEqual(config.reports[0].destination.load_type, "incremental_load")
        self.assertEqual(config.xero_tenant_ids, "12345678-1234-1234-1234-123456789012")
        self.assertEqual(config.reports[0].from_date, "2024-01-01")

    def test_configuration_report_with_required_parameter(self):
        """Test report types with required parameters"""
        # TenNinetyNine requires reportYear
        config = Configuration(
            reports=[
                {
                    "report_type": "TenNinetyNine",
                    "report_year": "2024",
                    "destination": {"load_type": "full_load"},
                }
            ],
        )
        self.assertEqual(config.reports[0].report_year, "2024")

    def test_configuration_profit_and_loss_with_all_parameters(self):
        """Test ProfitAndLoss with comprehensive parameters"""
        config = Configuration(
            reports=[
                {
                    "report_type": "ProfitAndLoss",
                    "from_date": "2024-01-01",
                    "to_date": "2024-12-31",
                    "periods": 12,
                    "timeframe": "MONTH",
                    "tracking_category_id": "cat-1",
                    "tracking_option_id": "opt-1",
                    "standard_layout": True,
                    "payments_only": False,
                    "destination": {"load_type": "full_load"},
                }
            ],
        )
        report = config.reports[0]
        self.assertEqual(report.from_date, "2024-01-01")
        self.assertEqual(report.to_date, "2024-12-31")
        self.assertEqual(report.periods, 12)
        self.assertEqual(report.timeframe, "MONTH")
        self.assertEqual(report.tracking_category_id, "cat-1")
        self.assertEqual(report.tracking_option_id, "opt-1")
        self.assertTrue(report.standard_layout)
        self.assertFalse(report.payments_only)

    def test_configuration_destination_load_type(self):
        """Test configuration destination load type"""
        config = Configuration(
            reports=[
                {
                    "report_type": "BalanceSheet",
                    "destination": {"load_type": "incremental_load"},
                }
            ],
        )
        self.assertEqual(config.reports[0].report_type, "BalanceSheet")
        self.assertEqual(config.reports[0].destination.load_type, "incremental_load")
        # Table name is always the report type
        self.assertEqual(config.reports[0].report_type, "BalanceSheet")


if __name__ == "__main__":
    unittest.main()



================================================
FILE: tests/test_functional.py
================================================
from component import Component

import csv
import json
import os
import sys
import unittest
from pathlib import Path

import responses
from freezegun import freeze_time

# Add src to path
sys.path.insert(0, os.path.join(os.path.dirname(os.path.dirname(__file__)), "src"))


class TestComponent(unittest.TestCase):

    def _setup_test_directories(self, source_dir: Path):
        """Create necessary output directories for tests"""
        output_dir = source_dir / "out" / "tables"
        output_dir.mkdir(parents=True, exist_ok=True)

    def _load_api_response(self, test_name: str, report_name: str) -> dict:
        """Load API response from JSON file in test directory"""
        test_dir = Path(__file__).parent / "functional" / test_name / "source"
        response_file = test_dir / f"{report_name}_response.json"

        with open(response_file, "r") as f:
            return json.load(f)

    def _mock_token_refresh_endpoint(self):
        """Mock the OAuth token refresh endpoint"""
        token_response = {
            "access_token": "mock_refreshed_access_token_123456",
            "refresh_token": "mock_refreshed_refresh_token_654321",
            "expires_in": 1800,
            "token_type": "Bearer",
        }
        responses.add(
            responses.POST,
            "https://identity.xero.com/connect/token",
            json=token_response,
            status=200,
        )

    def _mock_tenants_endpoint(self, tenant_id: str = "ba45b4b5-ee66-4a7f-83ec-4b463794dcce"):
        """Mock the Xero tenants endpoint"""
        tenants_response = [
            {
                "id": "test-connection-id",
                "tenantId": tenant_id,
                "tenantType": "ORGANISATION",
                "tenantName": "Test Company",
                "createdDateUtc": "2023-01-01T00:00:00.000Z",
                "updatedDateUtc": "2023-01-01T00:00:00.000Z",
            }
        ]

        responses.add(
            responses.GET,
            "https://api.xero.com/connections",
            json=tenants_response,
            status=200,
        )

    def _mock_xero_report_api(self, test_dir_name: str, report_name: str, tenant_id: str):
        """Generic method to mock Xero API endpoints for any report"""
        self._mock_token_refresh_endpoint()
        self._mock_tenants_endpoint(tenant_id)
        api_response = self._load_api_response(test_dir_name, report_name)
        responses.add(
            responses.GET,
            f"https://api.xero.com/api.xro/2.0/Reports/{report_name}",
            json=api_response,
            status=200,
        )

    def _run_report_test(self, test_dir_name: str, report_name: str, tenant_id: str):
        """Generic method to run a report test"""
        # Set up test directories
        test_dir = Path(__file__).parent / "functional" / test_dir_name
        source_dir = test_dir / "source" / "data"
        expected_dir = test_dir / "expected" / "data"

        # Set KBC_DATADIR environment variable
        os.environ["KBC_DATADIR"] = str(source_dir)

        # Create output directories
        self._setup_test_directories(source_dir)

        # Mock Xero API responses
        self._mock_xero_report_api(test_dir_name, report_name, tenant_id)

        # Run the component
        component = Component()
        component.execute_action()

        # Verify output
        output_file = source_dir / "out" / "tables" / f"{report_name}.csv"
        expected_file = expected_dir / "out" / "tables" / f"{report_name}.csv"

        self.assertTrue(output_file.exists(), f"Output file not created: {output_file}")

        # Compare CSV contents
        with open(output_file, "r") as f:
            output_data = list(csv.DictReader(f))

        with open(expected_file, "r") as f:
            expected_data = list(csv.DictReader(f))

        self.assertEqual(
            len(expected_data),
            len(output_data),
            f"Row count mismatch: expected {len(expected_data)}, got {len(output_data)}",
        )

        for i, (expected_row, output_row) in enumerate(zip(expected_data, output_data)):
            self.assertEqual(expected_row, output_row, f"Row {i} doesn't match expected data")

    @freeze_time("2023-04-02")
    @responses.activate
    def test_profit_and_loss(self):
        """Test ProfitAndLoss report extraction"""
        self._run_report_test("01_ProfitAndLoss", "ProfitAndLoss", "test-tenant-abc-123")

    @freeze_time("2023-04-02")
    @responses.activate
    def test_balance_sheet(self):
        """Test BalanceSheet report extraction"""
        self._run_report_test("02_BalanceSheet", "BalanceSheet", "ba45b4b5-ee66-4a7f-83ec-4b463794dcce")

    @freeze_time("2025-11-24")
    @responses.activate
    def test_trial_balance(self):
        """Test TrialBalance report extraction"""
        self._run_report_test("03_TrialBalance", "TrialBalance", "ba45b4b5-ee66-4a7f-83ec-4b463794dcce")

    @freeze_time("2025-11-24")
    @responses.activate
    def test_executive_summary(self):
        """Test ExecutiveSummary report extraction"""
        self._run_report_test(
            "04_ExecutiveSummary",
            "ExecutiveSummary",
            "ba45b4b5-ee66-4a7f-83ec-4b463794dcce",
        )

    @freeze_time("2025-11-24")
    @responses.activate
    def test_bank_summary(self):
        """Test BankSummary report extraction"""
        self._run_report_test("05_BankSummary", "BankSummary", "ba45b4b5-ee66-4a7f-83ec-4b463794dcce")

    @freeze_time("2025-11-24")
    @responses.activate
    def test_budget_summary(self):
        """Test BudgetSummary report extraction"""
        self._run_report_test("06_BudgetSummary", "BudgetSummary", "ba45b4b5-ee66-4a7f-83ec-4b463794dcce")

    @freeze_time("2025-11-24")
    @responses.activate
    def test_aged_receivables_by_contact(self):
        """Test AgedReceivablesByContact report extraction"""
        self._run_report_test(
            "07_AgedReceivablesByContact",
            "AgedReceivablesByContact",
            "ba45b4b5-ee66-4a7f-83ec-4b463794dcce",
        )

    @freeze_time("2025-11-24")
    @responses.activate
    def test_aged_payables_by_contact(self):
        """Test AgedPayablesByContact report extraction"""
        self._run_report_test(
            "08_AgedPayablesByContact",
            "AgedPayablesByContact",
            "ba45b4b5-ee66-4a7f-83ec-4b463794dcce",
        )


if __name__ == "__main__":
    unittest.main()



================================================
FILE: tests/test_xero_client.py
================================================
import unittest

import responses
from keboola.component.exceptions import UserException

from xero_client import XeroClient


class TestXeroClient(unittest.TestCase):
    """Test cases for XeroClient"""

    def setUp(self):
        """Set up test fixtures"""
        self.access_token = "test_access_token_12345"
        self.client = XeroClient(self.access_token)
        self.tenant_id = "test-tenant-id-123"

    def test_initialization(self):
        """Test XeroClient initialization"""
        client = XeroClient("my_token")
        self.assertEqual(client.access_token, "my_token")
        self.assertIn("Authorization", client.base_headers)
        self.assertEqual(client.base_headers["Authorization"], "Bearer my_token")
        self.assertEqual(client.base_headers["Accept"], "application/json")
        self.assertEqual(client.base_headers["Content-Type"], "application/json")

    def test_base_url(self):
        """Test that BASE_URL is correct"""
        self.assertEqual(XeroClient.BASE_URL, "https://api.xero.com/api.xro/2.0")

    def test_connections_url(self):
        """Test that CONNECTIONS_URL is correct"""
        self.assertEqual(XeroClient.CONNECTIONS_URL, "https://api.xero.com/connections")

    @responses.activate
    def test_get_tenants_success(self):
        """Test successful retrieval of tenants"""
        mock_response = [
            {
                "tenantId": "tenant-1",
                "tenantName": "Company A",
                "tenantType": "ORGANISATION",
            },
            {
                "tenantId": "tenant-2",
                "tenantName": "Company B",
                "tenantType": "ORGANISATION",
            },
        ]

        responses.add(responses.GET, XeroClient.CONNECTIONS_URL, json=mock_response, status=200)

        tenants = self.client.get_tenants()

        self.assertEqual(len(tenants), 2)
        self.assertEqual(tenants[0]["tenantId"], "tenant-1")
        self.assertEqual(tenants[0]["tenantName"], "Company A")
        self.assertEqual(tenants[1]["tenantId"], "tenant-2")
        self.assertEqual(tenants[1]["tenantName"], "Company B")

    @responses.activate
    def test_get_tenants_empty_list(self):
        """Test get_tenants when no tenants are available"""
        responses.add(responses.GET, XeroClient.CONNECTIONS_URL, json=[], status=200)

        tenants = self.client.get_tenants()
        self.assertEqual(len(tenants), 0)

    @responses.activate
    def test_get_tenants_authentication_error(self):
        """Test get_tenants with 401 authentication error"""
        responses.add(
            responses.GET,
            XeroClient.CONNECTIONS_URL,
            json={"error": "Unauthorized"},
            status=401,
        )

        with self.assertRaises(UserException) as context:
            self.client.get_tenants()

        self.assertIn("Authentication failed", str(context.exception))
        self.assertIn("reconnect your Xero account", str(context.exception))

    @responses.activate
    def test_get_tenants_other_error(self):
        """Test get_tenants with non-401 error"""
        responses.add(
            responses.GET,
            XeroClient.CONNECTIONS_URL,
            json={"error": "Internal Server Error"},
            status=500,
        )

        with self.assertRaises(UserException) as context:
            self.client.get_tenants()

        self.assertIn("Failed to fetch Xero tenants", str(context.exception))
        self.assertIn("500", str(context.exception))

    @responses.activate
    def test_get_report_success(self):
        """Test successful report retrieval"""
        report_type = "ProfitAndLoss"
        parameters = {"from_date": "2024-01-01", "to_date": "2024-01-31"}

        mock_response = {
            "Reports": [
                {
                    "ReportID": "ProfitAndLoss",
                    "ReportName": "Profit and Loss",
                    "ReportType": "ProfitAndLoss",
                    "ReportTitles": ["Profit and Loss", "Company A", "January 2024"],
                    "ReportDate": "31 January 2024",
                    "Rows": [],
                }
            ]
        }

        responses.add(
            responses.GET,
            f"{XeroClient.BASE_URL}/Reports/{report_type}",
            json=mock_response,
            status=200,
        )

        result = self.client.get_report(report_type, self.tenant_id, parameters)

        self.assertEqual(len(result["Reports"]), 1)
        self.assertEqual(result["Reports"][0]["ReportID"], "ProfitAndLoss")
        self.assertEqual(result["Reports"][0]["ReportName"], "Profit and Loss")

        # Verify the request was made with correct headers
        self.assertEqual(len(responses.calls), 1)
        request_headers = responses.calls[0].request.headers
        self.assertEqual(request_headers["xero-tenant-id"], self.tenant_id)
        self.assertIn("Bearer", request_headers["Authorization"])

    @responses.activate
    def test_get_report_with_parameters(self):
        """Test get_report includes query parameters"""
        report_type = "BalanceSheet"
        # XeroClient expects camelCase parameters (as converted by component._extract_report_params)
        parameters = {
            "date": "2024-12-31",
            "trackingOptionID": "123",
            "standardLayout": "true",
        }

        mock_response = {"Reports": [{"ReportID": "BalanceSheet", "Rows": []}]}

        responses.add(
            responses.GET,
            f"{XeroClient.BASE_URL}/Reports/{report_type}",
            json=mock_response,
            status=200,
        )

        self.client.get_report(report_type, self.tenant_id, parameters)

        # Verify parameters were sent
        request = responses.calls[0].request
        self.assertIn("date=2024-12-31", request.url)
        self.assertIn("trackingOptionID=123", request.url)
        self.assertIn("standardLayout=true", request.url)

    @responses.activate
    def test_get_report_custom_report_id(self):
        """Test get_report with custom report ID"""
        custom_report_id = "MyCustomReport123"
        parameters = {}

        mock_response = {"Reports": [{"ReportID": custom_report_id, "Rows": []}]}

        responses.add(
            responses.GET,
            f"{XeroClient.BASE_URL}/Reports/{custom_report_id}",
            json=mock_response,
            status=200,
        )

        result = self.client.get_report(custom_report_id, self.tenant_id, parameters)

        self.assertEqual(result["Reports"][0]["ReportID"], custom_report_id)

    @responses.activate
    def test_get_report_authentication_error(self):
        """Test get_report with 401 authentication error"""
        responses.add(
            responses.GET,
            f"{XeroClient.BASE_URL}/Reports/ProfitAndLoss",
            json={"error": "Unauthorized"},
            status=401,
        )

        with self.assertRaises(UserException) as context:
            self.client.get_report("ProfitAndLoss", self.tenant_id, {})

        self.assertIn("Authentication failed", str(context.exception))
        self.assertIn("reconnect your Xero account", str(context.exception))

    @responses.activate
    def test_get_report_forbidden_error(self):
        """Test get_report with 403 forbidden error"""
        responses.add(
            responses.GET,
            f"{XeroClient.BASE_URL}/Reports/ProfitAndLoss",
            json={"error": "Forbidden"},
            status=403,
        )

        with self.assertRaises(UserException) as context:
            self.client.get_report("ProfitAndLoss", self.tenant_id, {})

        self.assertIn("Access forbidden", str(context.exception))
        self.assertIn("permissions", str(context.exception))

    @responses.activate
    def test_get_report_not_found_error(self):
        """Test get_report with 404 not found error"""
        report_type = "InvalidReport"
        responses.add(
            responses.GET,
            f"{XeroClient.BASE_URL}/Reports/{report_type}",
            json={"error": "Not Found"},
            status=404,
        )

        with self.assertRaises(UserException) as context:
            self.client.get_report(report_type, self.tenant_id, {})

        self.assertIn("not found", str(context.exception))
        self.assertIn(report_type, str(context.exception))

    @responses.activate
    def test_get_report_other_error(self):
        """Test get_report with other HTTP error"""
        responses.add(
            responses.GET,
            f"{XeroClient.BASE_URL}/Reports/ProfitAndLoss",
            json={"error": "Bad Request"},
            status=400,
        )

        with self.assertRaises(UserException) as context:
            self.client.get_report("ProfitAndLoss", self.tenant_id, {})

        self.assertIn("Xero API error", str(context.exception))
        self.assertIn("400", str(context.exception))

    @responses.activate
    def test_get_report_empty_parameters(self):
        """Test get_report with empty parameters dictionary"""
        report_type = "TrialBalance"
        mock_response = {"Reports": [{"ReportID": report_type, "Rows": []}]}

        responses.add(
            responses.GET,
            f"{XeroClient.BASE_URL}/Reports/{report_type}",
            json=mock_response,
            status=200,
        )

        result = self.client.get_report(report_type, self.tenant_id, {})
        self.assertIsNotNone(result)
        self.assertIn("Reports", result)

    def test_headers_contain_authorization(self):
        """Test that base_headers contain proper authorization"""
        token = "test_token_xyz"
        client = XeroClient(token)

        self.assertIn("Authorization", client.base_headers)
        self.assertEqual(client.base_headers["Authorization"], f"Bearer {token}")

    @responses.activate
    def test_get_report_tenant_id_in_header(self):
        """Test that tenant ID is properly sent in header"""
        report_type = "ExecutiveSummary"
        tenant_id = "specific-tenant-123"

        mock_response = {"Reports": []}
        responses.add(
            responses.GET,
            f"{XeroClient.BASE_URL}/Reports/{report_type}",
            json=mock_response,
            status=200,
        )

        self.client.get_report(report_type, tenant_id, {})

        # Verify tenant ID header
        request_headers = responses.calls[0].request.headers
        self.assertEqual(request_headers["xero-tenant-id"], tenant_id)

    @responses.activate
    def test_multiple_tenants_different_calls(self):
        """Test that different tenant IDs can be used in separate calls"""
        report_type = "BankSummary"
        tenant_1 = "tenant-001"
        tenant_2 = "tenant-002"

        mock_response = {"Reports": []}
        responses.add(
            responses.GET,
            f"{XeroClient.BASE_URL}/Reports/{report_type}",
            json=mock_response,
            status=200,
        )
        responses.add(
            responses.GET,
            f"{XeroClient.BASE_URL}/Reports/{report_type}",
            json=mock_response,
            status=200,
        )

        self.client.get_report(report_type, tenant_1, {})
        self.client.get_report(report_type, tenant_2, {})

        # Verify different tenant IDs were used
        self.assertEqual(responses.calls[0].request.headers["xero-tenant-id"], tenant_1)
        self.assertEqual(responses.calls[1].request.headers["xero-tenant-id"], tenant_2)


if __name__ == "__main__":
    unittest.main()



================================================
FILE: tests/functional/01_ProfitAndLoss/source/ProfitAndLoss_response.json
================================================
{
  "Id": "eb9981fe-ce6b-412f-aa06-6a18ea7f98e4",
  "Status": "OK",
  "ProviderName": "KDS - ex-reports",
  "DateTimeUTC": "/Date(1763989314209)/",
  "Reports": [
    {
      "ReportID": "ProfitAndLoss",
      "ReportName": "Profit and Loss",
      "ReportType": "ProfitAndLoss",
      "ReportTitles": [
        "Profit & Loss",
        "Demo Company (Global)",
        "24 October 2025 to 24 November 2025"
      ],
      "ReportDate": "24 November 2025",
      "UpdatedDateUTC": "/Date(1763989314209)/",
      "Fields": [],
      "Rows": [
        {
          "RowType": "Header",
          "Cells": [
            {
              "Value": ""
            },
            {
              "Value": "24 Nov 25"
            },
            {
              "Value": "24 Oct 25"
            },
            {
              "Value": "24 Sep 25"
            },
            {
              "Value": "24 Aug 25"
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Income",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Sales",
                  "Attributes": [
                    {
                      "Value": "d1ebb97b-d207-4ccb-9ab6-8a466a8b4d39",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "7283.54",
                  "Attributes": [
                    {
                      "Value": "d1ebb97b-d207-4ccb-9ab6-8a466a8b4d39",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "11210.89",
                  "Attributes": [
                    {
                      "Value": "d1ebb97b-d207-4ccb-9ab6-8a466a8b4d39",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "4478.75",
                  "Attributes": [
                    {
                      "Value": "d1ebb97b-d207-4ccb-9ab6-8a466a8b4d39",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "d1ebb97b-d207-4ccb-9ab6-8a466a8b4d39",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "SummaryRow",
              "Cells": [
                {
                  "Value": "Total Income"
                },
                {
                  "Value": "7283.54"
                },
                {
                  "Value": "11210.89"
                },
                {
                  "Value": "4478.75"
                },
                {
                  "Value": "0.00"
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Less Cost of Sales",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Purchases",
                  "Attributes": [
                    {
                      "Value": "ae8074e0-1ac1-4b37-8546-afa9fa6ace9e",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "775.98",
                  "Attributes": [
                    {
                      "Value": "ae8074e0-1ac1-4b37-8546-afa9fa6ace9e",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "ae8074e0-1ac1-4b37-8546-afa9fa6ace9e",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "ae8074e0-1ac1-4b37-8546-afa9fa6ace9e",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "ae8074e0-1ac1-4b37-8546-afa9fa6ace9e",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "SummaryRow",
              "Cells": [
                {
                  "Value": "Total Cost of Sales"
                },
                {
                  "Value": "775.98"
                },
                {
                  "Value": "0.00"
                },
                {
                  "Value": "0.00"
                },
                {
                  "Value": "0.00"
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Gross Profit"
                },
                {
                  "Value": "6507.56"
                },
                {
                  "Value": "11210.89"
                },
                {
                  "Value": "4478.75"
                },
                {
                  "Value": "0.00"
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Less Operating Expenses",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Advertising",
                  "Attributes": [
                    {
                      "Value": "eb01b8c7-f9b0-49ef-86f4-ed89b4ac33d5",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "2309.47",
                  "Attributes": [
                    {
                      "Value": "eb01b8c7-f9b0-49ef-86f4-ed89b4ac33d5",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "7347.58",
                  "Attributes": [
                    {
                      "Value": "eb01b8c7-f9b0-49ef-86f4-ed89b4ac33d5",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "eb01b8c7-f9b0-49ef-86f4-ed89b4ac33d5",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "eb01b8c7-f9b0-49ef-86f4-ed89b4ac33d5",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Bank Fees",
                  "Attributes": [
                    {
                      "Value": "269479fb-cc8e-4e5f-b0b6-cc4eccf045e0",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "269479fb-cc8e-4e5f-b0b6-cc4eccf045e0",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "15.00",
                  "Attributes": [
                    {
                      "Value": "269479fb-cc8e-4e5f-b0b6-cc4eccf045e0",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "15.00",
                  "Attributes": [
                    {
                      "Value": "269479fb-cc8e-4e5f-b0b6-cc4eccf045e0",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "269479fb-cc8e-4e5f-b0b6-cc4eccf045e0",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Cleaning",
                  "Attributes": [
                    {
                      "Value": "30ad3fd7-43b8-4eeb-96bc-ed2b7c945f3c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "30ad3fd7-43b8-4eeb-96bc-ed2b7c945f3c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "110.00",
                  "Attributes": [
                    {
                      "Value": "30ad3fd7-43b8-4eeb-96bc-ed2b7c945f3c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "30ad3fd7-43b8-4eeb-96bc-ed2b7c945f3c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "30ad3fd7-43b8-4eeb-96bc-ed2b7c945f3c",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Consulting & Accounting",
                  "Attributes": [
                    {
                      "Value": "d2429b4f-ad8b-45e5-815a-13f5ecb0d5c1",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "29.00",
                  "Attributes": [
                    {
                      "Value": "d2429b4f-ad8b-45e5-815a-13f5ecb0d5c1",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "29.00",
                  "Attributes": [
                    {
                      "Value": "d2429b4f-ad8b-45e5-815a-13f5ecb0d5c1",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "29.00",
                  "Attributes": [
                    {
                      "Value": "d2429b4f-ad8b-45e5-815a-13f5ecb0d5c1",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "d2429b4f-ad8b-45e5-815a-13f5ecb0d5c1",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Entertainment",
                  "Attributes": [
                    {
                      "Value": "6a7d9c59-1d5a-4474-8c61-3da1f980db13",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "22.00",
                  "Attributes": [
                    {
                      "Value": "6a7d9c59-1d5a-4474-8c61-3da1f980db13",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "1515.60",
                  "Attributes": [
                    {
                      "Value": "6a7d9c59-1d5a-4474-8c61-3da1f980db13",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "31.60",
                  "Attributes": [
                    {
                      "Value": "6a7d9c59-1d5a-4474-8c61-3da1f980db13",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "6a7d9c59-1d5a-4474-8c61-3da1f980db13",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Freight & Courier",
                  "Attributes": [
                    {
                      "Value": "c4b1c463-9913-4672-a8b8-01a3b546126f",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "105.50",
                  "Attributes": [
                    {
                      "Value": "c4b1c463-9913-4672-a8b8-01a3b546126f",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "c4b1c463-9913-4672-a8b8-01a3b546126f",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "c4b1c463-9913-4672-a8b8-01a3b546126f",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "c4b1c463-9913-4672-a8b8-01a3b546126f",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "General Expenses",
                  "Attributes": [
                    {
                      "Value": "4281c446-efb4-445d-b32d-c441a4ef5678",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "120.09",
                  "Attributes": [
                    {
                      "Value": "4281c446-efb4-445d-b32d-c441a4ef5678",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "4281c446-efb4-445d-b32d-c441a4ef5678",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "46.19",
                  "Attributes": [
                    {
                      "Value": "4281c446-efb4-445d-b32d-c441a4ef5678",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "4281c446-efb4-445d-b32d-c441a4ef5678",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Light, Power, Heating",
                  "Attributes": [
                    {
                      "Value": "c61d3100-d95f-4ce4-ba75-c03cc767b825",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "100.32",
                  "Attributes": [
                    {
                      "Value": "c61d3100-d95f-4ce4-ba75-c03cc767b825",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "125.50",
                  "Attributes": [
                    {
                      "Value": "c61d3100-d95f-4ce4-ba75-c03cc767b825",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "110.00",
                  "Attributes": [
                    {
                      "Value": "c61d3100-d95f-4ce4-ba75-c03cc767b825",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "c61d3100-d95f-4ce4-ba75-c03cc767b825",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Motor Vehicle Expenses",
                  "Attributes": [
                    {
                      "Value": "470f3b54-9cbe-420a-8d13-22cb17fd9d40",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "380.00",
                  "Attributes": [
                    {
                      "Value": "470f3b54-9cbe-420a-8d13-22cb17fd9d40",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "274.36",
                  "Attributes": [
                    {
                      "Value": "470f3b54-9cbe-420a-8d13-22cb17fd9d40",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "470f3b54-9cbe-420a-8d13-22cb17fd9d40",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "470f3b54-9cbe-420a-8d13-22cb17fd9d40",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Office Expenses",
                  "Attributes": [
                    {
                      "Value": "79fc6227-e183-409a-ba39-77028e0ceeff",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "162.11",
                  "Attributes": [
                    {
                      "Value": "79fc6227-e183-409a-ba39-77028e0ceeff",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "590.25",
                  "Attributes": [
                    {
                      "Value": "79fc6227-e183-409a-ba39-77028e0ceeff",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "60.23",
                  "Attributes": [
                    {
                      "Value": "79fc6227-e183-409a-ba39-77028e0ceeff",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "79fc6227-e183-409a-ba39-77028e0ceeff",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Printing & Stationery",
                  "Attributes": [
                    {
                      "Value": "a8c9ca73-91ef-4163-a4f6-7d892201c087",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "a8c9ca73-91ef-4163-a4f6-7d892201c087",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "72.70",
                  "Attributes": [
                    {
                      "Value": "a8c9ca73-91ef-4163-a4f6-7d892201c087",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "21.71",
                  "Attributes": [
                    {
                      "Value": "a8c9ca73-91ef-4163-a4f6-7d892201c087",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "a8c9ca73-91ef-4163-a4f6-7d892201c087",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Rent",
                  "Attributes": [
                    {
                      "Value": "d76027eb-0256-4b69-9f72-4751312e2749",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "1091.22",
                  "Attributes": [
                    {
                      "Value": "d76027eb-0256-4b69-9f72-4751312e2749",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "1091.22",
                  "Attributes": [
                    {
                      "Value": "d76027eb-0256-4b69-9f72-4751312e2749",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "1091.22",
                  "Attributes": [
                    {
                      "Value": "d76027eb-0256-4b69-9f72-4751312e2749",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "d76027eb-0256-4b69-9f72-4751312e2749",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Repairs and Maintenance",
                  "Attributes": [
                    {
                      "Value": "5098e313-2775-40c3-9bb4-6b1f86d89a47",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "64.20",
                  "Attributes": [
                    {
                      "Value": "5098e313-2775-40c3-9bb4-6b1f86d89a47",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "1832.50",
                  "Attributes": [
                    {
                      "Value": "5098e313-2775-40c3-9bb4-6b1f86d89a47",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "5098e313-2775-40c3-9bb4-6b1f86d89a47",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "5098e313-2775-40c3-9bb4-6b1f86d89a47",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Telephone & Internet",
                  "Attributes": [
                    {
                      "Value": "3b4fee92-7ed1-4d63-b00e-8fdf13927e05",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "50.00",
                  "Attributes": [
                    {
                      "Value": "3b4fee92-7ed1-4d63-b00e-8fdf13927e05",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "43.25",
                  "Attributes": [
                    {
                      "Value": "3b4fee92-7ed1-4d63-b00e-8fdf13927e05",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "41.50",
                  "Attributes": [
                    {
                      "Value": "3b4fee92-7ed1-4d63-b00e-8fdf13927e05",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "3b4fee92-7ed1-4d63-b00e-8fdf13927e05",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Travel - National",
                  "Attributes": [
                    {
                      "Value": "f5211403-43fb-49aa-82de-9fc1f6bc3e8c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "223.56",
                  "Attributes": [
                    {
                      "Value": "f5211403-43fb-49aa-82de-9fc1f6bc3e8c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "f5211403-43fb-49aa-82de-9fc1f6bc3e8c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "32.24",
                  "Attributes": [
                    {
                      "Value": "f5211403-43fb-49aa-82de-9fc1f6bc3e8c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "f5211403-43fb-49aa-82de-9fc1f6bc3e8c",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "SummaryRow",
              "Cells": [
                {
                  "Value": "Total Operating Expenses"
                },
                {
                  "Value": "4657.47"
                },
                {
                  "Value": "13046.96"
                },
                {
                  "Value": "1478.69"
                },
                {
                  "Value": "0.00"
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Net Profit"
                },
                {
                  "Value": "1850.09"
                },
                {
                  "Value": "-1836.07"
                },
                {
                  "Value": "3000.06"
                },
                {
                  "Value": "0.00"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}



================================================
FILE: tests/functional/02_BalanceSheet/source/BalanceSheet_response.json
================================================
{
  "Id": "a1dbe64d-c0b1-4094-ada1-3cf3ba1687ee",
  "Status": "OK",
  "ProviderName": "KDS - ex-reports",
  "DateTimeUTC": "/Date(1763989246649)/",
  "Reports": [
    {
      "ReportID": "BalanceSheet",
      "ReportName": "Balance Sheet",
      "ReportType": "BalanceSheet",
      "ReportTitles": [
        "Balance Sheet",
        "Demo Company (Global)",
        "As at 30 November 2025"
      ],
      "ReportDate": "24 November 2025",
      "UpdatedDateUTC": "/Date(1763989246649)/",
      "Fields": [],
      "Rows": [
        {
          "RowType": "Header",
          "Cells": [
            {
              "Value": ""
            },
            {
              "Value": "30 Nov 2025"
            },
            {
              "Value": "30 Nov 2024"
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Assets",
          "Rows": []
        },
        {
          "RowType": "Section",
          "Title": "Bank",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Business Bank Account",
                  "Attributes": [
                    {
                      "Value": "562555f2-8cde-4ce9-8203-0363922537a4",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "1760.54",
                  "Attributes": [
                    {
                      "Value": "562555f2-8cde-4ce9-8203-0363922537a4",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "562555f2-8cde-4ce9-8203-0363922537a4",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "SummaryRow",
              "Cells": [
                {
                  "Value": "Total Bank"
                },
                {
                  "Value": "1760.54"
                },
                {
                  "Value": "0.00"
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Current Assets",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Accounts Receivable",
                  "Attributes": [
                    {
                      "Value": "9af45928-6ad1-462d-b4c6-46d8f58255be",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "9194.51",
                  "Attributes": [
                    {
                      "Value": "9af45928-6ad1-462d-b4c6-46d8f58255be",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "9af45928-6ad1-462d-b4c6-46d8f58255be",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "SummaryRow",
              "Cells": [
                {
                  "Value": "Total Current Assets"
                },
                {
                  "Value": "9194.51"
                },
                {
                  "Value": "0.00"
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Fixed Assets",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Computer Equipment",
                  "Attributes": [
                    {
                      "Value": "37e5d4fc-fd6e-489c-83da-fdb8cb058d48",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "3774.49",
                  "Attributes": [
                    {
                      "Value": "37e5d4fc-fd6e-489c-83da-fdb8cb058d48",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "37e5d4fc-fd6e-489c-83da-fdb8cb058d48",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Office Equipment",
                  "Attributes": [
                    {
                      "Value": "0289f44f-bdad-48e8-ab5a-502e9d949bd7",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "923.79",
                  "Attributes": [
                    {
                      "Value": "0289f44f-bdad-48e8-ab5a-502e9d949bd7",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "0289f44f-bdad-48e8-ab5a-502e9d949bd7",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "SummaryRow",
              "Cells": [
                {
                  "Value": "Total Fixed Assets"
                },
                {
                  "Value": "4698.28"
                },
                {
                  "Value": "0.00"
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "",
          "Rows": [
            {
              "RowType": "SummaryRow",
              "Cells": [
                {
                  "Value": "Total Assets"
                },
                {
                  "Value": "15653.33"
                },
                {
                  "Value": "0.00"
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Liabilities",
          "Rows": []
        },
        {
          "RowType": "Section",
          "Title": "Current Liabilities",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Accounts Payable",
                  "Attributes": [
                    {
                      "Value": "c0f7668c-1c46-47bf-8d65-62f8ba2da059",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "8405.66",
                  "Attributes": [
                    {
                      "Value": "c0f7668c-1c46-47bf-8d65-62f8ba2da059",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "18.90",
                  "Attributes": [
                    {
                      "Value": "c0f7668c-1c46-47bf-8d65-62f8ba2da059",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Historical Adjustment",
                  "Attributes": [
                    {
                      "Value": "44ee8a46-0b5f-46ca-b2e3-fbdae39fd13c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "4130.98",
                  "Attributes": [
                    {
                      "Value": "44ee8a46-0b5f-46ca-b2e3-fbdae39fd13c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "44ee8a46-0b5f-46ca-b2e3-fbdae39fd13c",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Sales Tax",
                  "Attributes": [
                    {
                      "Value": "f0bb2f96-7530-416e-b8f0-bcec05e5ff04",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "-10.04",
                  "Attributes": [
                    {
                      "Value": "f0bb2f96-7530-416e-b8f0-bcec05e5ff04",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "f0bb2f96-7530-416e-b8f0-bcec05e5ff04",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Unpaid Expense Claims",
                  "Attributes": [
                    {
                      "Value": "bab792be-f547-43b3-b81b-289bd52f1dcf",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "115.95",
                  "Attributes": [
                    {
                      "Value": "bab792be-f547-43b3-b81b-289bd52f1dcf",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "bab792be-f547-43b3-b81b-289bd52f1dcf",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "SummaryRow",
              "Cells": [
                {
                  "Value": "Total Current Liabilities"
                },
                {
                  "Value": "12642.55"
                },
                {
                  "Value": "18.90"
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "",
          "Rows": [
            {
              "RowType": "SummaryRow",
              "Cells": [
                {
                  "Value": "Total Liabilities"
                },
                {
                  "Value": "12642.55"
                },
                {
                  "Value": "18.90"
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Net Assets"
                },
                {
                  "Value": "3010.78"
                },
                {
                  "Value": "-18.90"
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Equity",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Current Year Earnings",
                  "Attributes": [
                    {
                      "Value": "abababab-abab-abab-abab-abababababab",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "3029.68",
                  "Attributes": [
                    {
                      "Value": "abababab-abab-abab-abab-abababababab",
                      "Id": "account"
                    },
                    {
                      "Value": "1/1/2025",
                      "Id": "fromDate"
                    },
                    {
                      "Value": "11/30/2025",
                      "Id": "toDate"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "abababab-abab-abab-abab-abababababab",
                      "Id": "account"
                    },
                    {
                      "Value": "1/1/2024",
                      "Id": "fromDate"
                    },
                    {
                      "Value": "11/30/2024",
                      "Id": "toDate"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Retained Earnings",
                  "Attributes": [
                    {
                      "Value": "d2e8fca5-83cc-475d-9efb-03fe0dc57fd4",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "-18.90",
                  "Attributes": [
                    {
                      "Value": "d2e8fca5-83cc-475d-9efb-03fe0dc57fd4",
                      "Id": "account"
                    },
                    {
                      "Value": "",
                      "Id": "fromDate"
                    },
                    {
                      "Value": "11/30/2025",
                      "Id": "toDate"
                    }
                  ]
                },
                {
                  "Value": "-18.90",
                  "Attributes": [
                    {
                      "Value": "d2e8fca5-83cc-475d-9efb-03fe0dc57fd4",
                      "Id": "account"
                    },
                    {
                      "Value": "",
                      "Id": "fromDate"
                    },
                    {
                      "Value": "11/30/2024",
                      "Id": "toDate"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "SummaryRow",
              "Cells": [
                {
                  "Value": "Total Equity"
                },
                {
                  "Value": "3010.78"
                },
                {
                  "Value": "-18.90"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}



================================================
FILE: tests/functional/03_TrialBalance/source/TrialBalance_response.json
================================================
{
  "Id": "5186ece8-9b9e-469a-9188-97ab30965609",
  "Status": "OK",
  "ProviderName": "KDS - ex-reports",
  "DateTimeUTC": "/Date(1763989172739)/",
  "Reports": [
    {
      "ReportID": "TrialBalance",
      "ReportName": "Trial Balance",
      "ReportType": "TrialBalance",
      "ReportTitles": [
        "Trial Balance",
        "Demo Company (Global)",
        "As at 24 November 2025"
      ],
      "ReportDate": "24 November 2025",
      "UpdatedDateUTC": "/Date(1763989172739)/",
      "Fields": [],
      "Rows": [
        {
          "RowType": "Header",
          "Cells": [
            {
              "Value": "Account"
            },
            {
              "Value": "Debit"
            },
            {
              "Value": "Credit"
            },
            {
              "Value": "YTD Debit"
            },
            {
              "Value": "YTD Credit"
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Revenue",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Sales (200)",
                  "Attributes": [
                    {
                      "Value": "d1ebb97b-d207-4ccb-9ab6-8a466a8b4d39",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "d1ebb97b-d207-4ccb-9ab6-8a466a8b4d39",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "2067.60",
                  "Attributes": [
                    {
                      "Value": "d1ebb97b-d207-4ccb-9ab6-8a466a8b4d39",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "d1ebb97b-d207-4ccb-9ab6-8a466a8b4d39",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "22973.18",
                  "Attributes": [
                    {
                      "Value": "d1ebb97b-d207-4ccb-9ab6-8a466a8b4d39",
                      "Id": "account"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Expenses",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Advertising (400)",
                  "Attributes": [
                    {
                      "Value": "eb01b8c7-f9b0-49ef-86f4-ed89b4ac33d5",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "2309.47",
                  "Attributes": [
                    {
                      "Value": "eb01b8c7-f9b0-49ef-86f4-ed89b4ac33d5",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "eb01b8c7-f9b0-49ef-86f4-ed89b4ac33d5",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "9657.05",
                  "Attributes": [
                    {
                      "Value": "eb01b8c7-f9b0-49ef-86f4-ed89b4ac33d5",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "eb01b8c7-f9b0-49ef-86f4-ed89b4ac33d5",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Bank Fees (404)",
                  "Attributes": [
                    {
                      "Value": "269479fb-cc8e-4e5f-b0b6-cc4eccf045e0",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "269479fb-cc8e-4e5f-b0b6-cc4eccf045e0",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "269479fb-cc8e-4e5f-b0b6-cc4eccf045e0",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "30.00",
                  "Attributes": [
                    {
                      "Value": "269479fb-cc8e-4e5f-b0b6-cc4eccf045e0",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "269479fb-cc8e-4e5f-b0b6-cc4eccf045e0",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Cleaning (408)",
                  "Attributes": [
                    {
                      "Value": "30ad3fd7-43b8-4eeb-96bc-ed2b7c945f3c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "30ad3fd7-43b8-4eeb-96bc-ed2b7c945f3c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "30ad3fd7-43b8-4eeb-96bc-ed2b7c945f3c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "110.00",
                  "Attributes": [
                    {
                      "Value": "30ad3fd7-43b8-4eeb-96bc-ed2b7c945f3c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "30ad3fd7-43b8-4eeb-96bc-ed2b7c945f3c",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Consulting & Accounting (412)",
                  "Attributes": [
                    {
                      "Value": "d2429b4f-ad8b-45e5-815a-13f5ecb0d5c1",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "29.00",
                  "Attributes": [
                    {
                      "Value": "d2429b4f-ad8b-45e5-815a-13f5ecb0d5c1",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "d2429b4f-ad8b-45e5-815a-13f5ecb0d5c1",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "87.00",
                  "Attributes": [
                    {
                      "Value": "d2429b4f-ad8b-45e5-815a-13f5ecb0d5c1",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "d2429b4f-ad8b-45e5-815a-13f5ecb0d5c1",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Entertainment (420)",
                  "Attributes": [
                    {
                      "Value": "6a7d9c59-1d5a-4474-8c61-3da1f980db13",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "6a7d9c59-1d5a-4474-8c61-3da1f980db13",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "6a7d9c59-1d5a-4474-8c61-3da1f980db13",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "1553.60",
                  "Attributes": [
                    {
                      "Value": "6a7d9c59-1d5a-4474-8c61-3da1f980db13",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "6a7d9c59-1d5a-4474-8c61-3da1f980db13",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Freight & Courier (425)",
                  "Attributes": [
                    {
                      "Value": "c4b1c463-9913-4672-a8b8-01a3b546126f",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "105.50",
                  "Attributes": [
                    {
                      "Value": "c4b1c463-9913-4672-a8b8-01a3b546126f",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "c4b1c463-9913-4672-a8b8-01a3b546126f",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "105.50",
                  "Attributes": [
                    {
                      "Value": "c4b1c463-9913-4672-a8b8-01a3b546126f",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "c4b1c463-9913-4672-a8b8-01a3b546126f",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "General Expenses (429)",
                  "Attributes": [
                    {
                      "Value": "4281c446-efb4-445d-b32d-c441a4ef5678",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "120.09",
                  "Attributes": [
                    {
                      "Value": "4281c446-efb4-445d-b32d-c441a4ef5678",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "4281c446-efb4-445d-b32d-c441a4ef5678",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "166.28",
                  "Attributes": [
                    {
                      "Value": "4281c446-efb4-445d-b32d-c441a4ef5678",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "4281c446-efb4-445d-b32d-c441a4ef5678",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Light, Power, Heating (445)",
                  "Attributes": [
                    {
                      "Value": "c61d3100-d95f-4ce4-ba75-c03cc767b825",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "100.32",
                  "Attributes": [
                    {
                      "Value": "c61d3100-d95f-4ce4-ba75-c03cc767b825",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "c61d3100-d95f-4ce4-ba75-c03cc767b825",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "335.82",
                  "Attributes": [
                    {
                      "Value": "c61d3100-d95f-4ce4-ba75-c03cc767b825",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "c61d3100-d95f-4ce4-ba75-c03cc767b825",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Motor Vehicle Expenses (449)",
                  "Attributes": [
                    {
                      "Value": "470f3b54-9cbe-420a-8d13-22cb17fd9d40",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "380.00",
                  "Attributes": [
                    {
                      "Value": "470f3b54-9cbe-420a-8d13-22cb17fd9d40",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "470f3b54-9cbe-420a-8d13-22cb17fd9d40",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "654.36",
                  "Attributes": [
                    {
                      "Value": "470f3b54-9cbe-420a-8d13-22cb17fd9d40",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "470f3b54-9cbe-420a-8d13-22cb17fd9d40",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Office Expenses (453)",
                  "Attributes": [
                    {
                      "Value": "79fc6227-e183-409a-ba39-77028e0ceeff",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "107.11",
                  "Attributes": [
                    {
                      "Value": "79fc6227-e183-409a-ba39-77028e0ceeff",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "79fc6227-e183-409a-ba39-77028e0ceeff",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "812.59",
                  "Attributes": [
                    {
                      "Value": "79fc6227-e183-409a-ba39-77028e0ceeff",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "79fc6227-e183-409a-ba39-77028e0ceeff",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Printing & Stationery (461)",
                  "Attributes": [
                    {
                      "Value": "a8c9ca73-91ef-4163-a4f6-7d892201c087",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "a8c9ca73-91ef-4163-a4f6-7d892201c087",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "a8c9ca73-91ef-4163-a4f6-7d892201c087",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "94.41",
                  "Attributes": [
                    {
                      "Value": "a8c9ca73-91ef-4163-a4f6-7d892201c087",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "a8c9ca73-91ef-4163-a4f6-7d892201c087",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Purchases (300)",
                  "Attributes": [
                    {
                      "Value": "ae8074e0-1ac1-4b37-8546-afa9fa6ace9e",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "775.98",
                  "Attributes": [
                    {
                      "Value": "ae8074e0-1ac1-4b37-8546-afa9fa6ace9e",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "ae8074e0-1ac1-4b37-8546-afa9fa6ace9e",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "775.98",
                  "Attributes": [
                    {
                      "Value": "ae8074e0-1ac1-4b37-8546-afa9fa6ace9e",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "ae8074e0-1ac1-4b37-8546-afa9fa6ace9e",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Rent (469)",
                  "Attributes": [
                    {
                      "Value": "d76027eb-0256-4b69-9f72-4751312e2749",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "1091.22",
                  "Attributes": [
                    {
                      "Value": "d76027eb-0256-4b69-9f72-4751312e2749",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "d76027eb-0256-4b69-9f72-4751312e2749",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "3273.66",
                  "Attributes": [
                    {
                      "Value": "d76027eb-0256-4b69-9f72-4751312e2749",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "d76027eb-0256-4b69-9f72-4751312e2749",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Repairs and Maintenance (473)",
                  "Attributes": [
                    {
                      "Value": "5098e313-2775-40c3-9bb4-6b1f86d89a47",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "5098e313-2775-40c3-9bb4-6b1f86d89a47",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "5098e313-2775-40c3-9bb4-6b1f86d89a47",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "1896.70",
                  "Attributes": [
                    {
                      "Value": "5098e313-2775-40c3-9bb4-6b1f86d89a47",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "5098e313-2775-40c3-9bb4-6b1f86d89a47",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Telephone & Internet (489)",
                  "Attributes": [
                    {
                      "Value": "3b4fee92-7ed1-4d63-b00e-8fdf13927e05",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "50.00",
                  "Attributes": [
                    {
                      "Value": "3b4fee92-7ed1-4d63-b00e-8fdf13927e05",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "3b4fee92-7ed1-4d63-b00e-8fdf13927e05",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "134.75",
                  "Attributes": [
                    {
                      "Value": "3b4fee92-7ed1-4d63-b00e-8fdf13927e05",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "3b4fee92-7ed1-4d63-b00e-8fdf13927e05",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Travel - National (493)",
                  "Attributes": [
                    {
                      "Value": "f5211403-43fb-49aa-82de-9fc1f6bc3e8c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "223.56",
                  "Attributes": [
                    {
                      "Value": "f5211403-43fb-49aa-82de-9fc1f6bc3e8c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "f5211403-43fb-49aa-82de-9fc1f6bc3e8c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "255.80",
                  "Attributes": [
                    {
                      "Value": "f5211403-43fb-49aa-82de-9fc1f6bc3e8c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "f5211403-43fb-49aa-82de-9fc1f6bc3e8c",
                      "Id": "account"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Assets",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Accounts Receivable (610)",
                  "Attributes": [
                    {
                      "Value": "9af45928-6ad1-462d-b4c6-46d8f58255be",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "2248.18",
                  "Attributes": [
                    {
                      "Value": "9af45928-6ad1-462d-b4c6-46d8f58255be",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "9af45928-6ad1-462d-b4c6-46d8f58255be",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "9194.51",
                  "Attributes": [
                    {
                      "Value": "9af45928-6ad1-462d-b4c6-46d8f58255be",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "9af45928-6ad1-462d-b4c6-46d8f58255be",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Business Bank Account (090)",
                  "Attributes": [
                    {
                      "Value": "562555f2-8cde-4ce9-8203-0363922537a4",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "562555f2-8cde-4ce9-8203-0363922537a4",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "1592.60",
                  "Attributes": [
                    {
                      "Value": "562555f2-8cde-4ce9-8203-0363922537a4",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "1760.54",
                  "Attributes": [
                    {
                      "Value": "562555f2-8cde-4ce9-8203-0363922537a4",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "562555f2-8cde-4ce9-8203-0363922537a4",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Computer Equipment (720)",
                  "Attributes": [
                    {
                      "Value": "37e5d4fc-fd6e-489c-83da-fdb8cb058d48",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "1969.99",
                  "Attributes": [
                    {
                      "Value": "37e5d4fc-fd6e-489c-83da-fdb8cb058d48",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "37e5d4fc-fd6e-489c-83da-fdb8cb058d48",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "3774.49",
                  "Attributes": [
                    {
                      "Value": "37e5d4fc-fd6e-489c-83da-fdb8cb058d48",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "37e5d4fc-fd6e-489c-83da-fdb8cb058d48",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Office Equipment (710)",
                  "Attributes": [
                    {
                      "Value": "0289f44f-bdad-48e8-ab5a-502e9d949bd7",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "0289f44f-bdad-48e8-ab5a-502e9d949bd7",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "0289f44f-bdad-48e8-ab5a-502e9d949bd7",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "923.79",
                  "Attributes": [
                    {
                      "Value": "0289f44f-bdad-48e8-ab5a-502e9d949bd7",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "0289f44f-bdad-48e8-ab5a-502e9d949bd7",
                      "Id": "account"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Liabilities",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Accounts Payable (800)",
                  "Attributes": [
                    {
                      "Value": "c0f7668c-1c46-47bf-8d65-62f8ba2da059",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "c0f7668c-1c46-47bf-8d65-62f8ba2da059",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "6163.66",
                  "Attributes": [
                    {
                      "Value": "c0f7668c-1c46-47bf-8d65-62f8ba2da059",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "c0f7668c-1c46-47bf-8d65-62f8ba2da059",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "8405.66",
                  "Attributes": [
                    {
                      "Value": "c0f7668c-1c46-47bf-8d65-62f8ba2da059",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Historical Adjustment (840)",
                  "Attributes": [
                    {
                      "Value": "44ee8a46-0b5f-46ca-b2e3-fbdae39fd13c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "44ee8a46-0b5f-46ca-b2e3-fbdae39fd13c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "44ee8a46-0b5f-46ca-b2e3-fbdae39fd13c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "44ee8a46-0b5f-46ca-b2e3-fbdae39fd13c",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "4130.98",
                  "Attributes": [
                    {
                      "Value": "44ee8a46-0b5f-46ca-b2e3-fbdae39fd13c",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Sales Tax (820)",
                  "Attributes": [
                    {
                      "Value": "f0bb2f96-7530-416e-b8f0-bcec05e5ff04",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "429.39",
                  "Attributes": [
                    {
                      "Value": "f0bb2f96-7530-416e-b8f0-bcec05e5ff04",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "f0bb2f96-7530-416e-b8f0-bcec05e5ff04",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "10.04",
                  "Attributes": [
                    {
                      "Value": "f0bb2f96-7530-416e-b8f0-bcec05e5ff04",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "f0bb2f96-7530-416e-b8f0-bcec05e5ff04",
                      "Id": "account"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Unpaid Expense Claims (801)",
                  "Attributes": [
                    {
                      "Value": "bab792be-f547-43b3-b81b-289bd52f1dcf",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "bab792be-f547-43b3-b81b-289bd52f1dcf",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "115.95",
                  "Attributes": [
                    {
                      "Value": "bab792be-f547-43b3-b81b-289bd52f1dcf",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "bab792be-f547-43b3-b81b-289bd52f1dcf",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "115.95",
                  "Attributes": [
                    {
                      "Value": "bab792be-f547-43b3-b81b-289bd52f1dcf",
                      "Id": "account"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Equity",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Retained Earnings (960)",
                  "Attributes": [
                    {
                      "Value": "d2e8fca5-83cc-475d-9efb-03fe0dc57fd4",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "d2e8fca5-83cc-475d-9efb-03fe0dc57fd4",
                      "Id": "account"
                    },
                    {
                      "Value": "",
                      "Id": "fromDate"
                    },
                    {
                      "Value": "12/31/2024",
                      "Id": "toDate"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "d2e8fca5-83cc-475d-9efb-03fe0dc57fd4",
                      "Id": "account"
                    },
                    {
                      "Value": "",
                      "Id": "fromDate"
                    },
                    {
                      "Value": "12/31/2024",
                      "Id": "toDate"
                    }
                  ]
                },
                {
                  "Value": "18.90",
                  "Attributes": [
                    {
                      "Value": "d2e8fca5-83cc-475d-9efb-03fe0dc57fd4",
                      "Id": "account"
                    },
                    {
                      "Value": "",
                      "Id": "fromDate"
                    },
                    {
                      "Value": "12/31/2024",
                      "Id": "toDate"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "d2e8fca5-83cc-475d-9efb-03fe0dc57fd4",
                      "Id": "account"
                    },
                    {
                      "Value": "",
                      "Id": "fromDate"
                    },
                    {
                      "Value": "12/31/2024",
                      "Id": "toDate"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "",
          "Rows": [
            {
              "RowType": "SummaryRow",
              "Cells": [
                {
                  "Value": "Total"
                },
                {
                  "Value": "9939.81"
                },
                {
                  "Value": "9939.81"
                },
                {
                  "Value": "35625.77"
                },
                {
                  "Value": "35625.77"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}



================================================
FILE: tests/functional/04_ExecutiveSummary/source/ExecutiveSummary_response.json
================================================
{
  "Id": "da122e06-2ff0-426d-9ef2-9ffec5f8d1be",
  "Status": "OK",
  "ProviderName": "KDS - ex-reports",
  "DateTimeUTC": "/Date(1763989297838)/",
  "Reports": [
    {
      "ReportID": "ExecutiveSummary",
      "ReportName": "Executive Summary",
      "ReportType": "ExecutiveSummary",
      "ReportTitles": [
        "Executive Summary",
        "Demo Company (Global)",
        "For the month of November 2025"
      ],
      "ReportDate": "24 November 2025",
      "UpdatedDateUTC": "/Date(1763989297838)/",
      "Fields": [],
      "Rows": [
        {
          "RowType": "Header",
          "Cells": [
            {
              "Value": ""
            },
            {
              "Value": "Nov 2025"
            },
            {
              "Value": "Oct 2025"
            },
            {
              "Value": "Variance"
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Cash",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Cash received"
                },
                {
                  "Value": "0.00"
                },
                {
                  "Value": "12220.29"
                },
                {
                  "Value": "-100.0%"
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Cash spent"
                },
                {
                  "Value": "1592.60"
                },
                {
                  "Value": "13068.95"
                },
                {
                  "Value": "-87.8%"
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Cash surplus (deficit)"
                },
                {
                  "Value": "-1592.60"
                },
                {
                  "Value": "-848.66"
                },
                {
                  "Value": "-87.7%"
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Closing bank balance"
                },
                {
                  "Value": "1760.54"
                },
                {
                  "Value": "3353.14"
                },
                {
                  "Value": "-47.5%"
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Profitability",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Income"
                },
                {
                  "Value": "2067.60"
                },
                {
                  "Value": "10210.89"
                },
                {
                  "Value": "-79.8%"
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Direct costs"
                },
                {
                  "Value": "775.98"
                },
                {
                  "Value": "0.00"
                },
                {
                  "Value": "0.0%"
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Gross profit (loss)"
                },
                {
                  "Value": "1291.62"
                },
                {
                  "Value": "10210.89"
                },
                {
                  "Value": "-87.4%"
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Other Income"
                },
                {
                  "Value": "0.00"
                },
                {
                  "Value": "0.00"
                },
                {
                  "Value": "0.0%"
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Expenses"
                },
                {
                  "Value": "4516.27"
                },
                {
                  "Value": "8690.30"
                },
                {
                  "Value": "-48.0%"
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Profit (loss)"
                },
                {
                  "Value": "-3224.65"
                },
                {
                  "Value": "1520.59"
                },
                {
                  "Value": "-312.1%"
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Balance Sheet",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Debtors"
                },
                {
                  "Value": "9194.51"
                },
                {
                  "Value": "6946.33"
                },
                {
                  "Value": "32.4%"
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Creditors"
                },
                {
                  "Value": "8405.66"
                },
                {
                  "Value": "2242.00"
                },
                {
                  "Value": "274.9%"
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Net assets"
                },
                {
                  "Value": "3010.78"
                },
                {
                  "Value": "6235.43"
                },
                {
                  "Value": "-51.7%"
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Income",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Number of invoices issued"
                },
                {
                  "Value": "4"
                },
                {
                  "Value": "11"
                },
                {
                  "Value": "-63.6%"
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Average value of invoices"
                },
                {
                  "Value": "519.40"
                },
                {
                  "Value": "928.26"
                },
                {
                  "Value": "-44.0%"
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Performance",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Gross profit margin"
                },
                {
                  "Value": "62.5%"
                },
                {
                  "Value": "100.0%"
                },
                {
                  "Value": "-37.5%"
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Net profit margin"
                },
                {
                  "Value": "-156.0%"
                },
                {
                  "Value": "14.9%"
                },
                {
                  "Value": "-1147.3%"
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Return on investment (p.a.)"
                },
                {
                  "Value": "-1285.2%"
                },
                {
                  "Value": "292.6%"
                },
                {
                  "Value": "-539.2%"
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "Position",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Average debtors days"
                },
                {
                  "Value": "133.40844457341845618107951248"
                },
                {
                  "Value": "21.088879617741450549364453050"
                },
                {
                  "Value": "532.6%"
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Average creditors days"
                },
                {
                  "Value": "47.648882800321224431952383202"
                },
                {
                  "Value": "7.997652555147693405290956583"
                },
                {
                  "Value": "495.8%"
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Short term cash forecast"
                },
                {
                  "Value": "788.85"
                },
                {
                  "Value": "4704.33"
                },
                {
                  "Value": "-83.2%"
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Current assets to liabilities"
                },
                {
                  "Value": "0.8665221810473361782235387639"
                },
                {
                  "Value": "1.5163382815617026852346691047"
                },
                {
                  "Value": "-42.9%"
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Term assets to liabilities"
                },
                {
                  "Value": ""
                },
                {
                  "Value": ""
                },
                {
                  "Value": "0.0%"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}



================================================
FILE: tests/functional/05_BankSummary/source/BankSummary_response.json
================================================
{
  "Id": "bbfae400-e931-4e92-8e93-bd21b09cc834",
  "Status": "OK",
  "ProviderName": "KDS - ex-reports",
  "DateTimeUTC": "/Date(1763989264684)/",
  "Reports": [
    {
      "ReportID": "BankSummary",
      "ReportName": "Bank Summary",
      "ReportType": "BankSummary",
      "ReportTitles": [
        "Bank Summary",
        "Demo Company (Global)",
        "From 1 January 2025 to 31 December 2025"
      ],
      "ReportDate": "24 November 2025",
      "UpdatedDateUTC": "/Date(1763989264668)/",
      "Fields": [],
      "Rows": [
        {
          "RowType": "Header",
          "Cells": [
            {
              "Value": "Bank Accounts"
            },
            {
              "Value": "Opening Balance"
            },
            {
              "Value": "Cash Received"
            },
            {
              "Value": "Cash Spent"
            },
            {
              "Value": "Closing Balance"
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "Business Bank Account",
                  "Attributes": [
                    {
                      "Value": "562555f2-8cde-4ce9-8203-0363922537a4",
                      "Id": "accountID"
                    }
                  ]
                },
                {
                  "Value": "0.00"
                },
                {
                  "Value": "19815.27",
                  "Attributes": [
                    {
                      "Value": "562555f2-8cde-4ce9-8203-0363922537a4",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "18054.73",
                  "Attributes": [
                    {
                      "Value": "562555f2-8cde-4ce9-8203-0363922537a4",
                      "Id": "account"
                    }
                  ]
                },
                {
                  "Value": "1760.54"
                }
              ]
            },
            {
              "RowType": "SummaryRow",
              "Cells": [
                {
                  "Value": "Total"
                },
                {
                  "Value": "0.00"
                },
                {
                  "Value": "19815.27"
                },
                {
                  "Value": "18054.73"
                },
                {
                  "Value": "1760.54"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}



================================================
FILE: tests/functional/06_BudgetSummary/source/BudgetSummary_response.json
================================================
{
  "Id": "4611d5d6-c179-41ba-a4ca-6739965c2ea2",
  "Status": "OK",
  "ProviderName": "KDS - ex-reports",
  "DateTimeUTC": "/Date(1763989280137)/",
  "Reports": [
    {
      "ReportID": "BudgetSummary",
      "ReportName": "Budget Summary",
      "ReportType": "BudgetSummary",
      "ReportTitles": [
        "Overall Budget",
        "Budget Summary",
        "Demo Company (Global)",
        "August 2025 to October 2025"
      ],
      "ReportDate": "24 November 2025",
      "UpdatedDateUTC": "/Date(1763989280137)/",
      "Fields": [],
      "Rows": [
        {
          "RowType": "Header",
          "Cells": [
            {
              "Value": "Account"
            },
            {
              "Value": "Aug-25"
            },
            {
              "Value": "Sep-25"
            },
            {
              "Value": "Oct-25"
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "",
          "Rows": [
            {
              "RowType": "SummaryRow",
              "Cells": [
                {
                  "Value": "Gross Profit"
                },
                {
                  "Value": "0.00"
                },
                {
                  "Value": "0.00"
                },
                {
                  "Value": "0.00"
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "",
          "Rows": [
            {
              "RowType": "SummaryRow",
              "Cells": [
                {
                  "Value": "Total Expenses"
                },
                {
                  "Value": "0.00"
                },
                {
                  "Value": "0.00"
                },
                {
                  "Value": "0.00"
                }
              ]
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "",
          "Rows": [
            {
              "RowType": "SummaryRow",
              "Cells": [
                {
                  "Value": "Net Profit"
                },
                {
                  "Value": "0.00"
                },
                {
                  "Value": "0.00"
                },
                {
                  "Value": "0.00"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}



================================================
FILE: tests/functional/07_AgedReceivablesByContact/source/AgedReceivablesByContact_response.json
================================================
{
  "Id": "6c7d82da-7841-4d40-b498-4153be7e94c7",
  "Status": "OK",
  "ProviderName": "KDS - ex-reports",
  "DateTimeUTC": "/Date(1763989237643)/",
  "Reports": [
    {
      "ReportID": "AgedReceivablesByContact",
      "ReportName": "Aged Receivables By Contact",
      "ReportType": "AgedReceivablesByContact",
      "ReportTitles": [
        "Invoices",
        "City Limousines",
        "To 30 November 2025",
        "Showing payments to 24 November 2025"
      ],
      "ReportDate": "24 November 2025",
      "UpdatedDateUTC": "/Date(1763989237643)/",
      "Fields": [],
      "Rows": [
        {
          "RowType": "Header",
          "Cells": [
            {
              "Value": "Date"
            },
            {
              "Value": "Number"
            },
            {
              "Value": "Due Date"
            },
            {
              "Value": ""
            },
            {
              "Value": "Total"
            },
            {
              "Value": "Paid"
            },
            {
              "Value": "Credited"
            },
            {
              "Value": "Due"
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "2025-09-16T00:00:00",
                  "Attributes": [
                    {
                      "Value": "bd63b5f1-5503-4c62-9c4a-e4b9e4257dc9",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "INV-0006",
                  "Attributes": [
                    {
                      "Value": "bd63b5f1-5503-4c62-9c4a-e4b9e4257dc9",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "2025-09-26T00:00:00",
                  "Attributes": [
                    {
                      "Value": "bd63b5f1-5503-4c62-9c4a-e4b9e4257dc9",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "59 days overdue",
                  "Attributes": [
                    {
                      "Value": "bd63b5f1-5503-4c62-9c4a-e4b9e4257dc9",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "250.00",
                  "Attributes": [
                    {
                      "Value": "bd63b5f1-5503-4c62-9c4a-e4b9e4257dc9",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "bd63b5f1-5503-4c62-9c4a-e4b9e4257dc9",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "bd63b5f1-5503-4c62-9c4a-e4b9e4257dc9",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "250.00",
                  "Attributes": [
                    {
                      "Value": "bd63b5f1-5503-4c62-9c4a-e4b9e4257dc9",
                      "Id": "invoiceID"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "2025-10-03T00:00:00",
                  "Attributes": [
                    {
                      "Value": "50e1cbd2-86c6-42df-9538-5691dd54bbee",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "INV-0012",
                  "Attributes": [
                    {
                      "Value": "50e1cbd2-86c6-42df-9538-5691dd54bbee",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "2025-10-13T00:00:00",
                  "Attributes": [
                    {
                      "Value": "50e1cbd2-86c6-42df-9538-5691dd54bbee",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "42 days overdue",
                  "Attributes": [
                    {
                      "Value": "50e1cbd2-86c6-42df-9538-5691dd54bbee",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "216.50",
                  "Attributes": [
                    {
                      "Value": "50e1cbd2-86c6-42df-9538-5691dd54bbee",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "50e1cbd2-86c6-42df-9538-5691dd54bbee",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "50e1cbd2-86c6-42df-9538-5691dd54bbee",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "216.50",
                  "Attributes": [
                    {
                      "Value": "50e1cbd2-86c6-42df-9538-5691dd54bbee",
                      "Id": "invoiceID"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "2025-10-06T00:00:00",
                  "Attributes": [
                    {
                      "Value": "07e71ce4-9801-4cce-914b-dc07e9c0ca5e",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "INV-0017",
                  "Attributes": [
                    {
                      "Value": "07e71ce4-9801-4cce-914b-dc07e9c0ca5e",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "2025-10-16T00:00:00",
                  "Attributes": [
                    {
                      "Value": "07e71ce4-9801-4cce-914b-dc07e9c0ca5e",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "39 days overdue",
                  "Attributes": [
                    {
                      "Value": "07e71ce4-9801-4cce-914b-dc07e9c0ca5e",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "21.70",
                  "Attributes": [
                    {
                      "Value": "07e71ce4-9801-4cce-914b-dc07e9c0ca5e",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "07e71ce4-9801-4cce-914b-dc07e9c0ca5e",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "07e71ce4-9801-4cce-914b-dc07e9c0ca5e",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "21.70",
                  "Attributes": [
                    {
                      "Value": "07e71ce4-9801-4cce-914b-dc07e9c0ca5e",
                      "Id": "invoiceID"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "2025-11-12T00:00:00",
                  "Attributes": [
                    {
                      "Value": "a909dda4-555b-414b-a395-ba7a4077de72",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "INV-0024",
                  "Attributes": [
                    {
                      "Value": "a909dda4-555b-414b-a395-ba7a4077de72",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "2025-11-27T00:00:00",
                  "Attributes": [
                    {
                      "Value": "a909dda4-555b-414b-a395-ba7a4077de72",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "",
                  "Attributes": [
                    {
                      "Value": "a909dda4-555b-414b-a395-ba7a4077de72",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "703.63",
                  "Attributes": [
                    {
                      "Value": "a909dda4-555b-414b-a395-ba7a4077de72",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "a909dda4-555b-414b-a395-ba7a4077de72",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "a909dda4-555b-414b-a395-ba7a4077de72",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "703.63",
                  "Attributes": [
                    {
                      "Value": "a909dda4-555b-414b-a395-ba7a4077de72",
                      "Id": "invoiceID"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "SummaryRow",
              "Cells": [
                {
                  "Value": "Total"
                },
                {
                  "Value": ""
                },
                {
                  "Value": ""
                },
                {
                  "Value": ""
                },
                {
                  "Value": "1191.83"
                },
                {
                  "Value": "0.00"
                },
                {
                  "Value": "0.00"
                },
                {
                  "Value": "1191.83"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}



================================================
FILE: tests/functional/08_AgedPayablesByContact/source/AgedPayablesByContact_response.json
================================================
{
  "Id": "e90a7c0b-ed9a-478e-bbf1-827441896eef",
  "Status": "OK",
  "ProviderName": "KDS - ex-reports",
  "DateTimeUTC": "/Date(1763989223584)/",
  "Reports": [
    {
      "ReportID": "AgedPayablesByContact",
      "ReportName": "Aged Payables By Contact",
      "ReportType": "AgedPayablesByContact",
      "ReportTitles": [
        "Invoices",
        "SMART Agency",
        "To 30 November 2025",
        "Showing payments to 24 November 2025"
      ],
      "ReportDate": "24 November 2025",
      "UpdatedDateUTC": "/Date(1763989223584)/",
      "Fields": [],
      "Rows": [
        {
          "RowType": "Header",
          "Cells": [
            {
              "Value": "Date"
            },
            {
              "Value": "Reference"
            },
            {
              "Value": "Due Date"
            },
            {
              "Value": ""
            },
            {
              "Value": "Total"
            },
            {
              "Value": "Paid"
            },
            {
              "Value": "Credited"
            },
            {
              "Value": "Due"
            }
          ]
        },
        {
          "RowType": "Section",
          "Title": "",
          "Rows": [
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "2025-09-27T00:00:00",
                  "Attributes": [
                    {
                      "Value": "84f7c2d0-8383-46ed-bf45-17e00665ceab",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "SM0195",
                  "Attributes": [
                    {
                      "Value": "84f7c2d0-8383-46ed-bf45-17e00665ceab",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "2025-10-08T00:00:00",
                  "Attributes": [
                    {
                      "Value": "84f7c2d0-8383-46ed-bf45-17e00665ceab",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "47 days overdue",
                  "Attributes": [
                    {
                      "Value": "84f7c2d0-8383-46ed-bf45-17e00665ceab",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "2000.00",
                  "Attributes": [
                    {
                      "Value": "84f7c2d0-8383-46ed-bf45-17e00665ceab",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "84f7c2d0-8383-46ed-bf45-17e00665ceab",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "84f7c2d0-8383-46ed-bf45-17e00665ceab",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "2000.00",
                  "Attributes": [
                    {
                      "Value": "84f7c2d0-8383-46ed-bf45-17e00665ceab",
                      "Id": "invoiceID"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "Row",
              "Cells": [
                {
                  "Value": "2025-11-07T00:00:00",
                  "Attributes": [
                    {
                      "Value": "628fc0b0-e65c-47ef-a3e2-99632a1136e7",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "SM0210",
                  "Attributes": [
                    {
                      "Value": "628fc0b0-e65c-47ef-a3e2-99632a1136e7",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "2025-11-17T00:00:00",
                  "Attributes": [
                    {
                      "Value": "628fc0b0-e65c-47ef-a3e2-99632a1136e7",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "7 days overdue",
                  "Attributes": [
                    {
                      "Value": "628fc0b0-e65c-47ef-a3e2-99632a1136e7",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "2500.00",
                  "Attributes": [
                    {
                      "Value": "628fc0b0-e65c-47ef-a3e2-99632a1136e7",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "628fc0b0-e65c-47ef-a3e2-99632a1136e7",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "0.00",
                  "Attributes": [
                    {
                      "Value": "628fc0b0-e65c-47ef-a3e2-99632a1136e7",
                      "Id": "invoiceID"
                    }
                  ]
                },
                {
                  "Value": "2500.00",
                  "Attributes": [
                    {
                      "Value": "628fc0b0-e65c-47ef-a3e2-99632a1136e7",
                      "Id": "invoiceID"
                    }
                  ]
                }
              ]
            },
            {
              "RowType": "SummaryRow",
              "Cells": [
                {
                  "Value": "Total"
                },
                {
                  "Value": ""
                },
                {
                  "Value": ""
                },
                {
                  "Value": ""
                },
                {
                  "Value": "4500.00"
                },
                {
                  "Value": "0.00"
                },
                {
                  "Value": "0.00"
                },
                {
                  "Value": "4500.00"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}



================================================
FILE: .github/workflows/push.yml
================================================
name: Keboola Component Build & Deploy Pipeline
on:
  push:  # skip the workflow on the main branch without tags
    branches-ignore:
      - main
    tags:
      - "*"

concurrency: ci-${{ github.ref }}  # to avoid tag collisions in the ECR
env:
  # repository variables:
  KBC_DEVELOPERPORTAL_APP: keboola.ex-xero-accounting-reports
  KBC_DEVELOPERPORTAL_VENDOR: keboola
  DOCKERHUB_USER: ${{ secrets.DOCKERHUB_USER }}
  KBC_DEVELOPERPORTAL_USERNAME: ${{ vars.KBC_DEVELOPERPORTAL_USERNAME }}

  # repository secrets:
  DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}  # recommended for pushing to ECR
  KBC_DEVELOPERPORTAL_PASSWORD: ${{ secrets.KBC_DEVELOPERPORTAL_PASSWORD }}

  # (optional) test KBC project: https://connection.keboola.com/admin/projects/0000
  KBC_TEST_PROJECT_CONFIGS: ""  # space separated list of config ids
  KBC_STORAGE_TOKEN: ${{ secrets.KBC_STORAGE_TOKEN }}  # required for running KBC tests

jobs:
  push_event_info:
    name: Push Event Info
    runs-on: ubuntu-latest
    outputs:
      app_image_tag: ${{ steps.tag.outputs.app_image_tag }}
      is_semantic_tag: ${{ steps.tag.outputs.is_semantic_tag }}
      is_default_branch: ${{ steps.default_branch.outputs.is_default_branch }}
      is_deploy_ready: ${{ steps.deploy_ready.outputs.is_deploy_ready }}
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Fetch all branches from remote repository
        run: git fetch --prune --unshallow --tags -f

      - name: Get current branch name
        id: current_branch
        run: |
          if [[ ${{ github.ref }} != "refs/tags/"* ]]; then
            branch_name=${{ github.ref_name }}
            echo "branch_name=$branch_name" | tee -a $GITHUB_OUTPUT
          else
            raw=$(git branch -r --contains ${{ github.ref }})
            branch="$(echo ${raw/*origin\//} | tr -d '\n')"
            echo "branch_name=$branch" | tee -a $GITHUB_OUTPUT
          fi

      - name: Is current branch the default branch
        id: default_branch
        run: |
          echo "default_branch='${{ github.event.repository.default_branch }}'"
          if [ "${{ github.event.repository.default_branch }}" = "${{ steps.current_branch.outputs.branch_name }}" ]; then
             echo "is_default_branch=true" | tee -a $GITHUB_OUTPUT
          else
             echo "is_default_branch=false" | tee -a $GITHUB_OUTPUT
          fi

      - name: Set image tag
        id: tag
        run: |
          TAG="${GITHUB_REF##*/}"
          IS_SEMANTIC_TAG=$(echo "$TAG" | grep -q '^v\?[0-9]\+\.[0-9]\+\.[0-9]\+$' && echo true || echo false)
          echo "is_semantic_tag=$IS_SEMANTIC_TAG" | tee -a $GITHUB_OUTPUT
          echo "app_image_tag=$TAG" | tee -a $GITHUB_OUTPUT

      - name: Deploy-Ready check
        id: deploy_ready
        run: |
          if [[ "${{ steps.default_branch.outputs.is_default_branch }}" == "true" \
            && "${{ github.ref }}" == refs/tags/* \
            && "${{ steps.tag.outputs.is_semantic_tag }}" == "true" ]]; then
              echo "is_deploy_ready=true" | tee -a $GITHUB_OUTPUT
          else
              echo "is_deploy_ready=false" | tee -a $GITHUB_OUTPUT
          fi

  build:
    name: Docker Image Build
    runs-on: ubuntu-latest
    needs:
      - push_event_info
    env:
      DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Set up Docker Buildx
        uses: docker/setup-buildx-action@v3

      - name: Build and push
        uses: docker/build-push-action@v5
        with:
          context: .
          file: ./Dockerfile
          tags: ${{ env.KBC_DEVELOPERPORTAL_APP }}:latest
          outputs: type=docker,dest=/tmp/${{ env.KBC_DEVELOPERPORTAL_APP }}.tar

      - name: Upload artifact
        uses: actions/upload-artifact@v4
        with:
          name: ${{ env.KBC_DEVELOPERPORTAL_APP }}
          path: /tmp/${{ env.KBC_DEVELOPERPORTAL_APP }}.tar

  tests:
    name: Run Tests
    runs-on: ubuntu-latest
    needs:
      - push_event_info
      - build
    steps:
      - name: Set up Docker Buildx
        uses: docker/setup-buildx-action@v3

      - name: Download artifact
        uses: actions/download-artifact@v4
        with:
          name: ${{ env.KBC_DEVELOPERPORTAL_APP }}
          path: /tmp

      - name: Load Image & Run Tests
        run: |
          docker load --input /tmp/${{ env.KBC_DEVELOPERPORTAL_APP }}.tar
          docker image ls -a
          docker run ${{ env.KBC_DEVELOPERPORTAL_APP }}:latest flake8 . --config=flake8.cfg
          echo "Running unit-tests..."
          docker run ${{ env.KBC_DEVELOPERPORTAL_APP }}:latest python -m unittest discover

  tests-kbc:
    name: Run KBC Tests
    needs:
      - push_event_info
      - build
    runs-on: ubuntu-latest
    steps:
      - name: Set up environment variables
        run: |
          echo "KBC_TEST_PROJECT_CONFIGS=${KBC_TEST_PROJECT_CONFIGS}" >> $GITHUB_ENV
          echo "KBC_STORAGE_TOKEN=${{ secrets.KBC_STORAGE_TOKEN }}" >> $GITHUB_ENV

      - name: Run KBC test jobs
        if: env.KBC_TEST_PROJECT_CONFIGS != '' && env.KBC_STORAGE_TOKEN != ''
        uses: keboola/action-run-configs-parallel@master
        with:
          token: ${{ secrets.KBC_STORAGE_TOKEN }}
          componentId: ${{ env.KBC_DEVELOPERPORTAL_APP }}
          tag: ${{ needs.push_event_info.outputs.app_image_tag }}
          configs: ${{ env.KBC_TEST_PROJECT_CONFIGS }}

  push:
    name: Docker Image Push
    runs-on: ubuntu-latest
    needs:
      - push_event_info
      - tests
      - tests-kbc
    env:
      DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Download artifact
        uses: actions/download-artifact@v4
        with:
          name: ${{ env.KBC_DEVELOPERPORTAL_APP }}
          path: /tmp

      - name: Load Image & Run Tests
        run: |
          docker load --input /tmp/${{ env.KBC_DEVELOPERPORTAL_APP }}.tar
          docker image ls -a

      - name: Docker login
        if: env.DOCKERHUB_TOKEN
        run: docker login --username "${{ env.DOCKERHUB_USER }}" --password "${{ env.DOCKERHUB_TOKEN }}"

      - name: Push image to ECR
        uses: keboola/action-push-to-ecr@master
        with:
          vendor: ${{ env.KBC_DEVELOPERPORTAL_VENDOR }}
          app_id: ${{ env.KBC_DEVELOPERPORTAL_APP }}
          username: ${{ env.KBC_DEVELOPERPORTAL_USERNAME }}
          password: ${{ secrets.KBC_DEVELOPERPORTAL_PASSWORD }}
          tag: ${{ needs.push_event_info.outputs.app_image_tag }}
          push_latest: ${{ needs.push_event_info.outputs.is_deploy_ready }}
          source_image: ${{ env.KBC_DEVELOPERPORTAL_APP }}

  deploy:
    name: Deploy to KBC
    env:
      KBC_DEVELOPERPORTAL_PASSWORD: ${{ secrets.KBC_DEVELOPERPORTAL_PASSWORD }}
    needs:
      - push_event_info
      - build
      - push
    if: needs.push_event_info.outputs.is_deploy_ready == 'true'
    runs-on: ubuntu-latest
    steps:
      - name: Set Developer Portal Tag
        uses: keboola/action-set-tag-developer-portal@master
        with:
          vendor: ${{ env.KBC_DEVELOPERPORTAL_VENDOR }}
          app_id: ${{ env.KBC_DEVELOPERPORTAL_APP }}
          username: ${{ env.KBC_DEVELOPERPORTAL_USERNAME }}
          password: ${{ secrets.KBC_DEVELOPERPORTAL_PASSWORD }}
          tag: ${{ needs.push_event_info.outputs.app_image_tag }}

  update_developer_portal_properties:
    name: Developer Portal Properties Update
    env:
      KBC_DEVELOPERPORTAL_PASSWORD: ${{ secrets.KBC_DEVELOPERPORTAL_PASSWORD }}
    needs:
      - push_event_info
      - build
      - push
    runs-on: ubuntu-latest
    if: needs.push_event_info.outputs.is_deploy_ready == 'true'
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Update developer portal properties
        run: |
          chmod +x scripts/developer_portal/*.sh
          scripts/developer_portal/update_properties.sh


