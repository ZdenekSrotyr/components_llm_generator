Directory structure:
└── kds_consulting_team-marketplace_mrr/
    ├── README.md
    ├── block_keboola_mrr.model.lkml
    ├── manifest.lkml
    ├── marketplace.json
    ├── mrr_customer_detail.dashboard.lookml
    ├── mrr_overview.dashboard.lookml
    ├── explores/
    │   ├── contract_line_core.explore.lkml
    │   ├── mrr_aggregated_core.explore.lkml
    │   ├── mrr_core.explore.lkml
    │   └── .gitkeep
    └── views/
        ├── company_core.view.lkml
        ├── contract_core.view.lkml
        ├── contract_line_core.view.lkml
        ├── employee_core.view.lkml
        ├── mrr_aggregated_core.view.lkml
        ├── mrr_core.view.lkml
        ├── product_core.view.lkml
        └── .gitkeep

================================================
File: README.md
================================================
# Subscription Revenue Essentials by Keboola

## Keboola Blocks Intro (Scaffold Prerequisite)
Looker Blocks powered by Keboola are designed to work in tandem with corresponding Keboola Scaffolds in the Keboola Connection platform. Similar to Blocks in nature, Keboola Scaffolds are templatized use-cases that can be instantly deployed into the Keboola platform, providing the whole data management and processing chain required to populate the Looker dashboards.

## Block Overview
This Block connects to data from Keboola “Recurring Revenue” Scaffold into Looker. Its purpose is to provide quick out-of-the-box end to end integration and functionality to be used either stand-alone or to be combined with other data. In order to set up the Keboola data feed, please contact us: [here](https://get.keboola.com/lookerblocks?block=mrr).

## Data and Block Structure
This block is built above processed data gathered from your contract/order/subscription platform, so it’s possible to use Keboola Scaffold or project to transform your data to necessary output. Block is composed from these objects (views):

*  Company
*  Contract
*  Contract Line
*  Employee
*  MRR
*  MRR Aggregated (aggregated values per companies)
*  Product

The **Keboola Scaffold** will set up everything for you - from data extraction to data transformation, to setting up the Snowflake database with necessary tables for the LookML. All you need to do is set up the connection to the database in Looker and add it to the Looker model.

In case you want to enrich your Looker model and dashboards with other fields or objects in your model or modify the process to ingest contracts from different data sources, you can modify the whole data extraction and processing directly in Keboola Connection.



================================================
File: block_keboola_mrr.model.lkml
================================================
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣀⣀⣠⣤⣤⣤⣤⣀⣀⣀⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣤⣴⣶⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣶⣤⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣠⣶⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣦⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣶⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣦⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣤⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠿⠿⠛⠛⠛⠛⠛⠛⠻⠿⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣼⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⢠⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠟⠻⣧⠀⠀⠀⠀⢀⡀⠀⠀⢀⡀⠀⠀⠀⢀⣼⠟⠻⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠀⠈⢧⡀⠀⠰⣿⣿⠆⠰⣿⣿⠆⠀⢀⡾⠁⠀⠀⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣦⠀⠀⠀⠙⢦⡀⠈⠁⠀⠀⠈⠁⢀⡴⠋⠀⠀⠀⣴⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡏⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣄⠀⠀⠀⠉⠓⠶⠤⠤⠶⠚⠉⠀⠀⠀⣠⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡷⠆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠰⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠇⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠈⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠋⠀⠀⠀⣠⡾⠀⠀⠀⣰⣦⠀⠀⠀⢷⣄⠀⠀⠀⠙⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡏⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠀⢠⣾⣿⠁⠀⠀⣸⣿⣿⡆⠀⠀⠈⣿⣷⡄⠀⠀⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣶⣿⣿⡏⠀⠀⢀⣿⣿⣿⣿⡀⠀⠀⢹⣿⣿⣷⣶⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠀⢸⣿⣿⣿⣿⡇⠀⠀⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣤⣤⣾⣿⣿⣿⣿⣷⣤⣤⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠟⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠟⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠻⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠋⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠛⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠿⠛⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠛⠻⠿⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠿⠿⠟⠋⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠉⠉⠉⠉⠉⠉⠉⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀


# This Looker Block is designed to be powered by a scaffold in Keboola connection
# that will acquire and transform data from HubSpot into the model expected here.
#  Please go to https://get.keboola.com/lookerblocks if you haven't already.

# The connection name can be changed in the manifest file if desired, along with
# other constants used by this block (Keboola will automatically create a connection
# with this name)

label: "Block Keboola MRR"

include: "/views/**/*.view"
include: "/explores/**/*.explore.lkml"
include: "*.dashboard.lookml"
include: "//@{CONFIG_PROJECT_NAME}/views/**/*.view.lkml"
include: "//@{CONFIG_PROJECT_NAME}/*.model.lkml"

explore: contract_line {
  description: "Contains also contracts without MRR."
  extends: [contract_line_config]
}

explore: mrr {
  description: "Contains only contracts with MRR."
  label: "MRR"
  extends: [mrr_config]
}

explore: mrr_aggregated {
  extends: [mrr_aggregated_config]
}



================================================
File: manifest.lkml
================================================
project_name: "block-keboola-mrr"

################ Constants ################

constant: CONFIG_PROJECT_NAME {
  value: "block-keboola-mrr-config"
  export: override_required
}

constant: CONNECTION {
  value: "keboola_block_mrr_salesforce"
}

constant: SCHEMA_NAME {
  value: "WORKSPACE_544085999"
}

################ Dependencies ################

local_dependency: {
  project: "@{CONFIG_PROJECT_NAME}"
}



================================================
File: marketplace.json
================================================
{
  "label": "MRR",
  "category_label": "Models",
  "branding": {
    "image_uri": "https://www.keboola.com/data/poweredByKeboola.png",
    "tagline": "Keboola’s MRR Block empowers your sales leadership to quickly analyze recurring revenue, value of the customer or product performance. The analysis shows customers contracts in a calendar format that makes it simple to track metrics such as churn, retention, net new and additional sales."
  },

  "constants": {
    "CONNECTION": {
      "label": "Connection Name",
      "value_constraint": "connection"
    },
    "SCHEMA_NAME": {
      "label": "Schema Name"
    },
    "CONFIG_PROJECT_NAME": {
      "label": "Config Project Name"
    }
  },
  "models": [
    {
      "name": "block-keboola-mrr",
      "connection_constant": "CONNECTION"
    }
  ],
  "auxiliary_projects": [
    {
      "git_uri": "",
      "git_ref": "",
      "label": "MRR Config",
      "constant_name": "CONFIG_PROJECT_NAME"
    }
  ]
}



================================================
File: mrr_customer_detail.dashboard.lookml
================================================
- dashboard: mrr_customer_detail
  title: MRR Customer Detail
  layout: newspaper
  elements:
  - name: 'scaffold'
    type: text
    title_text: ''
    subtitle_text: <font size="5px"><font color="#408ef7"><b>MRR</b></font>
    row: 0
    col: 0
    width: 6
    height: 2
  - name: 'dashboard'
    type: text
    subtitle_text: <font size="5px"><font color="#408ef7"><b>Customer Profile</b></font>
    row: 0
    col: 6
    width: 12
    height: 2
  - name: 'powered by'
    type: text
    body_text: <a href="https://keboola.com" target="_blank"> <img src="https://www.keboola.com/data/poweredByKeboola.png"
      width="100%"/>
    row: 0
    col: 18
    width: 6
    height: 2
  - title: Current MRR
    name: Current MRR
    model: block_keboola_mrr
    explore: mrr
    type: single_value
    fields: [mrr.contract_line_mrr]
    filters:
      mrr.date_month: this month
    limit: 500
    series_types: {}
    listen:
      Customer: company.company
    row: 2
    col: 0
    width: 6
    height: 3
  - title: MRR by Product Family
    name: MRR by Product Family
    model: block_keboola_mrr
    explore: mrr
    type: looker_area
    fields: [mrr.contract_line_mrr, mrr.date_month, product.product_family]
    pivots: [product.product_family]
    fill_fields: [mrr.date_month]
    filters:
      mrr.date_month: 9 months
    sorts: [mrr.date_month desc, product.product_family]
    limit: 500
    total: true
    color_application:
      collection_id: legacy
      palette_id: santa_cruz
      options:
        steps: 5
        __FILE: mrr/mrr_customer_detail.dashboard.lookml
        __LINE_NUM: 61
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: Customer Success - mrr.contract_line_mrr,
            id: Customer Success - mrr.contract_line_mrr, name: Customer Success,
            __FILE: mrr/mrr_customer_detail.dashboard.lookml, __LINE_NUM: 67}, {axisId: Keboola
              Add-ons - mrr.contract_line_mrr, id: Keboola Add-ons - mrr.contract_line_mrr,
            name: Keboola Add-ons, __FILE: mrr/mrr_customer_detail.dashboard.lookml,
            __LINE_NUM: 70}, {axisId: Keboola Subscription - mrr.contract_line_mrr,
            id: Keboola Subscription - mrr.contract_line_mrr, name: Keboola Subscription,
            __FILE: mrr/mrr_customer_detail.dashboard.lookml, __LINE_NUM: 72}, {axisId: Looker
              subscription - mrr.contract_line_mrr, id: Looker subscription - mrr.contract_line_mrr,
            name: Looker subscription, __FILE: mrr/mrr_customer_detail.dashboard.lookml,
            __LINE_NUM: 75}], showLabels: false, showValues: true, unpinAxis: false,
        tickDensity: default, tickDensityCustom: 5, type: linear, __FILE: mrr/mrr_customer_detail.dashboard.lookml,
        __LINE_NUM: 67}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: normal
    limit_displayed_rows: false
    legend_position: center
    label_value_format: "# ###,k"
    series_types: {}
    point_style: none
    series_colors: {}
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    show_null_points: true
    interpolation: linear
    show_totals_labels: true
    show_silhouette: false
    totals_color: "#353b49"
    listen:
      Customer: company.company
    row: 11
    col: 0
    width: 12
    height: 7
  - title: Annualized
    name: Annualized
    model: block_keboola_mrr
    explore: mrr
    type: single_value
    fields: [mrr.contract_line_mrr]
    filters:
      mrr.date_month: this month
    limit: 500
    dynamic_fields: [{table_calculation: annualized, label: Annualized, expression: "${mrr.contract_line_mrr}*12",
        value_format: !!null '', value_format_name: decimal_0, _kind_hint: measure,
        _type_hint: number}]
    custom_color_enabled: true
    custom_color: ''
    show_single_value_title: true
    value_format: ''
    show_comparison: false
    comparison_type: value
    comparison_reverse_colors: false
    show_comparison_label: true
    series_types: {}
    hidden_fields: [mrr.contract_line_mrr]
    listen:
      Customer: company.company
    row: 2
    col: 6
    width: 6
    height: 3
  - title: Y/Y ARR Change
    name: Y/Y ARR Change
    model: block_keboola_mrr
    explore: mrr_aggregated
    type: looker_column
    fields: [mrr_aggregated.gross_mrr, mrr_aggregated.date_year]
    filters:
      mrr_aggregated.date_year: 5 years
      mrr_aggregated.gross_mrr: ">0"
      mrr_aggregated.date_month_name: December
    sorts: [mrr_aggregated.date_year]
    limit: 500
    dynamic_fields: [{table_calculation: yy_change, label: Y/Y Change, expression: "${mrr_aggregated.gross_mrr}\
          \ / offset(${mrr_aggregated.gross_mrr},-1)", value_format: !!null '', value_format_name: percent_0,
        _kind_hint: measure, _type_hint: number}, {table_calculation: arr, label: ARR,
        expression: "${mrr_aggregated.gross_mrr} * 12", value_format: "# ##0,k", value_format_name: !!null '',
        _kind_hint: measure, _type_hint: number}]
    color_application:
      collection_id: legacy
      palette_id: santa_cruz
      options:
        steps: 5
        __FILE: mrr/mrr_customer_detail.dashboard.lookml
        __LINE_NUM: 163
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: arr, id: arr, name: ARR,
            __FILE: mrr/mrr_customer_detail.dashboard.lookml, __LINE_NUM: 169}], showLabels: true,
        showValues: true, unpinAxis: false, tickDensity: default, tickDensityCustom: 5,
        type: linear, __FILE: mrr/mrr_customer_detail.dashboard.lookml, __LINE_NUM: 169},
      {label: !!null '', orientation: right, series: [{axisId: yy_change, id: yy_change,
            name: Y/Y Change, __FILE: mrr/mrr_customer_detail.dashboard.lookml, __LINE_NUM: 173}],
        showLabels: true, showValues: true, unpinAxis: false, tickDensity: default,
        tickDensityCustom: 5, type: linear, __FILE: mrr/mrr_customer_detail.dashboard.lookml,
        __LINE_NUM: 173}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    legend_position: center
    series_types:
      yy_change: scatter
    point_style: circle
    series_colors:
      arr: "#353b49"
      yy_change: "#1ea8df"
    show_value_labels: true
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    hidden_fields: [mrr_aggregated.gross_mrr]
    listen:
      Customer: company.company
    row: 18
    col: 0
    width: 24
    height: 7
  - title: MRR Changes History
    name: MRR Changes History
    model: block_keboola_mrr
    explore: mrr_aggregated
    type: looker_column
    fields: [mrr_aggregated.gross_mrr_change, mrr_aggregated.date_month, mrr_aggregated.gross_mrr]
    fill_fields: [mrr_aggregated.date_month]
    filters:
      mrr_aggregated.date_month: 9 months
    sorts: [mrr_aggregated.date_month desc]
    limit: 500
    color_application:
      collection_id: legacy
      palette_id: santa_cruz
      options:
        steps: 5
        __FILE: mrr/mrr_customer_detail.dashboard.lookml
        __LINE_NUM: 229
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: mrr_aggregated.gross_mrr_change,
            id: mrr_aggregated.gross_mrr_change, name: Gross MRR Change, __FILE: mrr/mrr_customer_detail.dashboard.lookml,
            __LINE_NUM: 235}], showLabels: false, showValues: false, unpinAxis: false,
        tickDensity: default, type: linear, __FILE: mrr/mrr_customer_detail.dashboard.lookml,
        __LINE_NUM: 235}, {label: '', orientation: right, series: [{axisId: mrr_aggregated.gross_mrr,
            id: mrr_aggregated.gross_mrr, name: Gross MRR, __FILE: mrr/mrr_customer_detail.dashboard.lookml,
            __LINE_NUM: 238}], showLabels: false, showValues: false, unpinAxis: false,
        tickDensity: default, tickDensityCustom: 5, type: linear, __FILE: mrr/mrr_customer_detail.dashboard.lookml,
        __LINE_NUM: 238}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: normal
    limit_displayed_rows: false
    legend_position: center
    label_value_format: "# ### ###"
    series_types:
      mrr_aggregated.gross_mrr: area
    point_style: none
    series_colors:
      Downgrade - mrr_aggregated.gross_mrr_change: "#ed6168"
      Net New - mrr_aggregated.gross_mrr_change: "#33a02c"
      Upgrade - mrr_aggregated.gross_mrr_change: "#b2df8a"
      mrr_aggregated.gross_mrr: "#33a02c"
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: true
    show_silhouette: false
    totals_color: "#808080"
    listen:
      Customer: company.company
    row: 5
    col: 0
    width: 12
    height: 6
  - title: LTV (Contracted)
    name: LTV (Contracted)
    model: block_keboola_mrr
    explore: mrr
    type: single_value
    fields: [mrr.contract_line_mrr]
    limit: 500
    column_limit: 50
    series_types: {}
    listen:
      Customer: company.company
    row: 2
    col: 18
    width: 6
    height: 3
  - name: Customer Position by Current MRR
    title: Customer Position by Current MRR
    merged_queries:
    - model: block_keboola_mrr
      explore: mrr_aggregated
      type: table
      fields: [company.company, mrr_aggregated.gross_mrr]
      filters:
        mrr_aggregated.date_month: this month
      sorts: [mrr_aggregated.gross_mrr desc]
      limit: 500
      query_timezone: America/Los_Angeles
      join_fields: []
    - model: block_keboola_mrr
      explore: mrr_aggregated
      type: table
      fields: [company.company, mrr_aggregated.gross_mrr]
      filters:
        mrr_aggregated.date_month: this month
      limit: 500
      query_timezone: America/Los_Angeles
      join_fields:
      - field_name: company.company
        source_field_name: company.company
        __FILE: mrr/mrr_customer_detail.dashboard.lookml
        __LINE_NUM: 317
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: mrr_aggregated.gross_mrr,
            id: mrr_aggregated.gross_mrr, name: MRR Aggregated, __FILE: mrr/mrr_customer_detail.dashboard.lookml,
            __LINE_NUM: 322}, {axisId: q1_mrr_aggregated.gross_mrr, id: q1_mrr_aggregated.gross_mrr,
            name: MRR Aggregated, __FILE: mrr/mrr_customer_detail.dashboard.lookml,
            __LINE_NUM: 323}], showLabels: false, showValues: false, unpinAxis: false,
        tickDensity: default, tickDensityCustom: 5, type: linear, __FILE: mrr/mrr_customer_detail.dashboard.lookml,
        __LINE_NUM: 322}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: false
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    hide_legend: true
    legend_position: center
    series_types:
      mrr_aggregated.gross_mrr: area
    point_style: none
    series_colors:
      q1_mrr_aggregated.gross_mrr: "#ed6168"
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    type: looker_column
    column_limit: 50
    listen:
    -
    - Customer: company.company
    row: 5
    col: 12
    width: 12
    height: 6
  - title: LTV up to date
    name: LTV up to date
    model: block_keboola_mrr
    explore: mrr
    type: single_value
    fields: [mrr.contract_line_mrr]
    filters:
      mrr.date_month: before 0 months ago
    limit: 500
    column_limit: 50
    series_types: {}
    listen:
      Customer: company.company
    row: 2
    col: 12
    width: 6
    height: 3
  filters:
  - name: Customer
    title: Customer
    type: field_filter
    default_value: ''
    allow_multiple_values: false
    required: true
    model: block_keboola_mrr
    explore: mrr_aggregated
    listens_to_filters: []
    field: company.company



================================================
File: mrr_overview.dashboard.lookml
================================================
- dashboard: mrr_overview
  title: MRR Overview
  layout: newspaper
  elements:
  - title: Current MRR
    name: Current MRR
    model: block_keboola_mrr
    explore: mrr
    type: single_value
    fields: [mrr.contract_line_mrr]
    filters:
      mrr.date_month: this month
    limit: 500
    series_types: {}
    listen: {}
    row: 2
    col: 0
    width: 8
    height: 3
  - title: Annualized
    name: Annualized
    model: block_keboola_mrr
    explore: mrr
    type: single_value
    fields: [mrr.contract_line_mrr]
    filters:
      mrr.date_month: this month
    limit: 500
    dynamic_fields: [{table_calculation: annualized, label: Annualized, expression: "${mrr.contract_line_mrr}*12",
        value_format: !!null '', value_format_name: decimal_0, _kind_hint: measure,
        _type_hint: number}]
    custom_color_enabled: true
    custom_color: ''
    show_single_value_title: true
    value_format: ''
    show_comparison: false
    comparison_type: value
    comparison_reverse_colors: false
    show_comparison_label: true
    series_types: {}
    hidden_fields: [mrr.contract_line_mrr]
    listen: {}
    row: 2
    col: 8
    width: 8
    height: 3
  - title: Current Contracts
    name: Current Contracts
    model: block_keboola_mrr
    explore: contract_line
    type: single_value
    fields: [contract.count]
    filters:
      contract.contract_end_date: after 0 minutes ago,NULL
    limit: 500
    series_types: {}
    listen: {}
    row: 2
    col: 16
    width: 8
    height: 3
  - title: MRR by Product Family
    name: MRR by Product Family
    model: block_keboola_mrr
    explore: mrr
    type: looker_area
    fields: [mrr.contract_line_mrr, mrr.date_month, product.product_family]
    pivots: [product.product_family]
    fill_fields: [mrr.date_month]
    filters:
      mrr.date_month: 9 months
    sorts: [mrr.date_month desc, product.product_family]
    limit: 500
    total: true
    color_application:
      collection_id: legacy
      palette_id: santa_cruz
      options:
        steps: 5
        __FILE: mrr/mrr_overview.dashboard.lookml
        __LINE_NUM: 79
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: Customer Success - mrr.contract_line_mrr,
            id: Customer Success - mrr.contract_line_mrr, name: Customer Success,
            __FILE: mrr/mrr_overview.dashboard.lookml, __LINE_NUM: 85}, {axisId: Keboola
              Add-ons - mrr.contract_line_mrr, id: Keboola Add-ons - mrr.contract_line_mrr,
            name: Keboola Add-ons, __FILE: mrr/mrr_overview.dashboard.lookml, __LINE_NUM: 88},
          {axisId: Keboola Subscription - mrr.contract_line_mrr, id: Keboola Subscription
              - mrr.contract_line_mrr, name: Keboola Subscription, __FILE: mrr/mrr_overview.dashboard.lookml,
            __LINE_NUM: 90}, {axisId: Looker subscription - mrr.contract_line_mrr,
            id: Looker subscription - mrr.contract_line_mrr, name: Looker subscription,
            __FILE: mrr/mrr_overview.dashboard.lookml, __LINE_NUM: 93}], showLabels: false,
        showValues: true, unpinAxis: false, tickDensity: default, tickDensityCustom: 5,
        type: linear, __FILE: mrr/mrr_overview.dashboard.lookml, __LINE_NUM: 85}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: normal
    limit_displayed_rows: false
    legend_position: center
    label_value_format: "# ###,k"
    series_types: {}
    point_style: none
    series_colors: {}
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    show_null_points: true
    interpolation: linear
    show_totals_labels: true
    show_silhouette: false
    totals_color: "#353b49"
    listen: {}
    row: 12
    col: 0
    width: 12
    height: 7
  - title: MRR by Year Cohorts
    name: MRR by Year Cohorts
    model: block_keboola_mrr
    explore: mrr
    type: looker_area
    fields: [company.date_created_year, mrr.date_month, mrr.contract_line_mrr]
    pivots: [company.date_created_year]
    fill_fields: [company.date_created_year, mrr.date_month]
    filters:
      mrr.date_month: 9 months
    sorts: [mrr.date_month desc, company.date_created_year]
    limit: 500
    color_application:
      collection_id: legacy
      palette_id: santa_cruz
      options:
        steps: 5
        __FILE: mrr/mrr_overview.dashboard.lookml
        __LINE_NUM: 147
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: 2015 - mrr.contract_line_mrr,
            id: 2015 - mrr.contract_line_mrr, name: '2015', __FILE: mrr/mrr_overview.dashboard.lookml,
            __LINE_NUM: 153}, {axisId: 2016 - mrr.contract_line_mrr, id: 2016 - mrr.contract_line_mrr,
            name: '2016', __FILE: mrr/mrr_overview.dashboard.lookml, __LINE_NUM: 155},
          {axisId: 2017 - mrr.contract_line_mrr, id: 2017 - mrr.contract_line_mrr,
            name: '2017', __FILE: mrr/mrr_overview.dashboard.lookml, __LINE_NUM: 157},
          {axisId: 2018 - mrr.contract_line_mrr, id: 2018 - mrr.contract_line_mrr,
            name: '2018', __FILE: mrr/mrr_overview.dashboard.lookml, __LINE_NUM: 159},
          {axisId: 2019 - mrr.contract_line_mrr, id: 2019 - mrr.contract_line_mrr,
            name: '2019', __FILE: mrr/mrr_overview.dashboard.lookml, __LINE_NUM: 161}],
        showLabels: false, showValues: true, unpinAxis: false, tickDensity: default,
        tickDensityCustom: 5, type: linear, __FILE: mrr/mrr_overview.dashboard.lookml,
        __LINE_NUM: 153}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: normal
    limit_displayed_rows: false
    legend_position: center
    label_value_format: "# ###,k"
    series_types: {}
    point_style: none
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    show_null_points: true
    interpolation: linear
    show_totals_labels: true
    show_silhouette: false
    totals_color: "#808080"
    listen: {}
    row: 12
    col: 12
    width: 12
    height: 7
  - title: Active Customers by ARR Bucket
    name: Active Customers by ARR Bucket
    model: block_keboola_mrr
    explore: mrr_aggregated
    type: looker_column
    fields: [mrr_aggregated.date_month, mrr_aggregated.ARR_bucket, mrr_aggregated.customer_count]
    pivots: [mrr_aggregated.ARR_bucket]
    fill_fields: [mrr_aggregated.date_month, mrr_aggregated.ARR_bucket]
    filters:
      mrr_aggregated.date_month: 9 months
    sorts: [mrr_aggregated.date_month desc, mrr_aggregated.ARR_bucket]
    limit: 500
    total: true
    color_application:
      collection_id: legacy
      palette_id: santa_cruz
      options:
        steps: 5
        __FILE: mrr/mrr_overview.dashboard.lookml
        __LINE_NUM: 214
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: "< 25000.0 - 0 - mrr_aggregated.customer_count",
            id: "< 25000.0 - 0 - mrr_aggregated.customer_count", name: "< 25k", __FILE: mrr/mrr_overview.dashboard.lookml,
            __LINE_NUM: 220}, {axisId: ">= 25000.0 and < 50000.0 - 1 - mrr_aggregated.customer_count",
            id: ">= 25000.0 and < 50000.0 - 1 - mrr_aggregated.customer_count", name: ">=\
              \ 25k and < 50k", __FILE: mrr/mrr_overview.dashboard.lookml, __LINE_NUM: 222},
          {axisId: ">= 50000.0 and < 75000.0 - 2 - mrr_aggregated.customer_count",
            id: ">= 50000.0 and < 75000.0 - 2 - mrr_aggregated.customer_count", name: ">=\
              \ 50k and < 75k", __FILE: mrr/mrr_overview.dashboard.lookml, __LINE_NUM: 225},
          {axisId: ">= 75000.0 and < 100000.0 - 3 - mrr_aggregated.customer_count",
            id: ">= 75000.0 and < 100000.0 - 3 - mrr_aggregated.customer_count", name: ">=\
              \ 75k and < 100k", __FILE: mrr/mrr_overview.dashboard.lookml, __LINE_NUM: 228},
          {axisId: ">= 100000.0 - 4 - mrr_aggregated.customer_count", id: ">= 100000.0\
              \ - 4 - mrr_aggregated.customer_count", name: ">= 100k", __FILE: mrr/mrr_overview.dashboard.lookml,
            __LINE_NUM: 231}], showLabels: false, showValues: true, unpinAxis: false,
        tickDensity: default, tickDensityCustom: 5, type: linear, __FILE: mrr/mrr_overview.dashboard.lookml,
        __LINE_NUM: 220}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: normal
    limit_displayed_rows: false
    legend_position: center
    label_value_format: "# ###"
    series_types: {}
    point_style: none
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: true
    show_silhouette: false
    totals_color: "#808080"
    show_null_points: true
    interpolation: linear
    listen: {}
    row: 5
    col: 12
    width: 12
    height: 7
  - title: MRR by ARR Bucket
    name: MRR by ARR Bucket
    model: block_keboola_mrr
    explore: mrr_aggregated
    type: looker_area
    fields: [mrr_aggregated.date_month, mrr_aggregated.gross_mrr, mrr_aggregated.ARR_bucket]
    pivots: [mrr_aggregated.ARR_bucket]
    fill_fields: [mrr_aggregated.date_month, mrr_aggregated.ARR_bucket]
    filters:
      mrr_aggregated.date_month: 9 months
    sorts: [mrr_aggregated.date_month desc, mrr_aggregated.ARR_bucket]
    limit: 500
    total: true
    color_application:
      collection_id: legacy
      palette_id: santa_cruz
      options:
        steps: 5
        __FILE: mrr/mrr_overview.dashboard.lookml
        __LINE_NUM: 287
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: "< 25000.0 - 0 - mrr_aggregated.gross_mrr",
            id: "< 25000.0 - 0 - mrr_aggregated.gross_mrr", name: "< 25k", __FILE: mrr/mrr_overview.dashboard.lookml,
            __LINE_NUM: 293}, {axisId: ">= 25000.0 and < 50000.0 - 1 - mrr_aggregated.gross_mrr",
            id: ">= 25000.0 and < 50000.0 - 1 - mrr_aggregated.gross_mrr", name: ">=\
              \ 25k and < 50k", __FILE: mrr/mrr_overview.dashboard.lookml, __LINE_NUM: 295},
          {axisId: ">= 50000.0 and < 75000.0 - 2 - mrr_aggregated.gross_mrr", id: ">=\
              \ 50000.0 and < 75000.0 - 2 - mrr_aggregated.gross_mrr", name: ">= 50k\
              \ and < 75k", __FILE: mrr/mrr_overview.dashboard.lookml, __LINE_NUM: 298},
          {axisId: ">= 75000.0 and < 100000.0 - 3 - mrr_aggregated.gross_mrr", id: ">=\
              \ 75000.0 and < 100000.0 - 3 - mrr_aggregated.gross_mrr", name: ">=\
              \ 75k and < 100k", __FILE: mrr/mrr_overview.dashboard.lookml, __LINE_NUM: 301},
          {axisId: ">= 100000.0 - 4 - mrr_aggregated.gross_mrr", id: ">= 100000.0\
              \ - 4 - mrr_aggregated.gross_mrr", name: ">= 100k", __FILE: mrr/mrr_overview.dashboard.lookml,
            __LINE_NUM: 304}], showLabels: false, showValues: true, unpinAxis: false,
        tickDensity: default, tickDensityCustom: 5, type: linear, __FILE: mrr/mrr_overview.dashboard.lookml,
        __LINE_NUM: 293}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: normal
    limit_displayed_rows: false
    legend_position: center
    label_value_format: "# ###,k"
    point_style: none
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    show_null_points: true
    interpolation: linear
    show_totals_labels: true
    show_silhouette: false
    totals_color: "#808080"
    listen: {}
    row: 5
    col: 0
    width: 12
    height: 7
  - title: Customers Count Changes
    name: Customers Count Changes
    model: block_keboola_mrr
    explore: mrr_aggregated
    type: looker_column
    fields: [mrr_aggregated.date_month, mrr_aggregated.gross_action, mrr_aggregated.count_change]
    pivots: [mrr_aggregated.gross_action]
    fill_fields: [mrr_aggregated.date_month]
    filters:
      mrr_aggregated.date_month: 9 months
      mrr_aggregated.gross_action: Churn,Net New
    sorts: [mrr_aggregated.date_month desc, mrr_aggregated.gross_action]
    limit: 500
    color_application:
      collection_id: legacy
      palette_id: santa_cruz
      options:
        steps: 5
        __FILE: mrr/mrr_overview.dashboard.lookml
        __LINE_NUM: 356
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: Churn - mrr_aggregated.count_change,
            id: Churn - mrr_aggregated.count_change, name: Churn, __FILE: mrr/mrr_overview.dashboard.lookml,
            __LINE_NUM: 362}, {axisId: Net New - mrr_aggregated.count_change, id: Net
              New - mrr_aggregated.count_change, name: Net New, __FILE: mrr/mrr_overview.dashboard.lookml,
            __LINE_NUM: 364}], showLabels: false, showValues: true, unpinAxis: false,
        tickDensity: default, tickDensityCustom: 5, type: linear, __FILE: mrr/mrr_overview.dashboard.lookml,
        __LINE_NUM: 362}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: normal
    limit_displayed_rows: false
    legend_position: center
    series_types: {}
    point_style: none
    series_colors:
      Churn - mrr_aggregated.customer_count: "#ed6168"
      Net New - mrr_aggregated.customer_count: "#49cec1"
      Net New - mrr_aggregated.count_change: "#49cec1"
      Churn - mrr_aggregated.count_change: "#ed6168"
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: true
    show_silhouette: false
    totals_color: "#353b49"
    listen: {}
    row: 19
    col: 12
    width: 12
    height: 6
  - title: Y/Y ARR Change
    name: Y/Y ARR Change
    model: block_keboola_mrr
    explore: mrr_aggregated
    type: looker_column
    fields: [mrr_aggregated.gross_mrr, mrr_aggregated.date_year]
    filters:
      mrr_aggregated.date_year: 5 years
      mrr_aggregated.gross_mrr: ">0"
      mrr_aggregated.date_month_name: December
    sorts: [mrr_aggregated.date_year]
    limit: 500
    dynamic_fields: [{table_calculation: yy_change, label: Y/Y Change, expression: "${mrr_aggregated.gross_mrr}\
          \ / offset(${mrr_aggregated.gross_mrr},-1)", value_format: !!null '', value_format_name: percent_0,
        _kind_hint: measure, _type_hint: number}, {table_calculation: arr, label: ARR,
        expression: "${mrr_aggregated.gross_mrr} * 12", value_format: "# ##0,k", value_format_name: !!null '',
        _kind_hint: measure, _type_hint: number}]
    color_application:
      collection_id: legacy
      palette_id: santa_cruz
      options:
        steps: 5
        __FILE: mrr/mrr_overview.dashboard.lookml
        __LINE_NUM: 425
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: arr, id: arr, name: ARR,
            __FILE: mrr/mrr_overview.dashboard.lookml, __LINE_NUM: 431}], showLabels: true,
        showValues: true, unpinAxis: false, tickDensity: default, tickDensityCustom: 5,
        type: linear, __FILE: mrr/mrr_overview.dashboard.lookml, __LINE_NUM: 431},
      {label: !!null '', orientation: right, series: [{axisId: yy_change, id: yy_change,
            name: Y/Y Change, __FILE: mrr/mrr_overview.dashboard.lookml, __LINE_NUM: 435}],
        showLabels: true, showValues: true, unpinAxis: false, tickDensity: default,
        tickDensityCustom: 5, type: linear, __FILE: mrr/mrr_overview.dashboard.lookml,
        __LINE_NUM: 435}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    legend_position: center
    series_types:
      yy_change: scatter
    point_style: circle
    series_colors:
      arr: "#353b49"
      yy_change: "#1ea8df"
    show_value_labels: true
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    hidden_fields: [mrr_aggregated.gross_mrr]
    listen: {}
    row: 25
    col: 0
    width: 24
    height: 7
  - name: 'scaffold'
    type: text
    title_text: ''
    subtitle_text: <font size="5px"><font color="#408ef7"><b>MRR</b></font>
    row: 0
    col: 0
    width: 6
    height: 2
  - name: 'dashboard'
    type: text
    subtitle_text: <font size="5px"><font color="#408ef7"><b>Overview</b></font>
    row: 0
    col: 6
    width: 12
    height: 2
  - name: 'powered by'
    type: text
    body_text: <a href="https://keboola.com" target="_blank"> <img src="https://www.keboola.com/data/poweredByKeboola.png"
      width="100%"/>
    row: 0
    col: 18
    width: 6
    height: 2
  - title: MRR Changes
    name: MRR Changes
    model: block_keboola_mrr
    explore: mrr_aggregated
    type: looker_column
    fields: [mrr_aggregated.gross_mrr_change, mrr_aggregated.date_month, mrr_aggregated.gross_action]
    pivots: [mrr_aggregated.gross_action]
    fill_fields: [mrr_aggregated.date_month]
    filters:
      mrr_aggregated.gross_action: "-No Change"
      mrr_aggregated.date_month: 9 months
    sorts: [mrr_aggregated.date_month desc, mrr_aggregated.gross_action]
    limit: 500
    color_application:
      collection_id: legacy
      palette_id: santa_cruz
      options:
        steps: 5
        __FILE: mrr/mrr_overview.dashboard.lookml
        __LINE_NUM: 515
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: Churn - mrr_aggregated.gross_mrr_change,
            id: Churn - mrr_aggregated.gross_mrr_change, name: Churn, __FILE: mrr/mrr_overview.dashboard.lookml,
            __LINE_NUM: 521}, {axisId: Downgrade - mrr_aggregated.gross_mrr_change,
            id: Downgrade - mrr_aggregated.gross_mrr_change, name: Downgrade, __FILE: mrr/mrr_overview.dashboard.lookml,
            __LINE_NUM: 523}, {axisId: Net New - mrr_aggregated.gross_mrr_change,
            id: Net New - mrr_aggregated.gross_mrr_change, name: Net New, __FILE: mrr/mrr_overview.dashboard.lookml,
            __LINE_NUM: 525}, {axisId: Upgrade - mrr_aggregated.gross_mrr_change,
            id: Upgrade - mrr_aggregated.gross_mrr_change, name: Upgrade, __FILE: mrr/mrr_overview.dashboard.lookml,
            __LINE_NUM: 527}], showLabels: false, showValues: true, unpinAxis: false,
        tickDensity: default, tickDensityCustom: 5, type: linear, __FILE: mrr/mrr_overview.dashboard.lookml,
        __LINE_NUM: 521}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: normal
    limit_displayed_rows: false
    legend_position: center
    label_value_format: "# ### ###"
    series_types: {}
    point_style: none
    series_colors:
      Downgrade - mrr_aggregated.gross_mrr_change: "#ed6168"
      Net New - mrr_aggregated.gross_mrr_change: "#33a02c"
      Upgrade - mrr_aggregated.gross_mrr_change: "#b2df8a"
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: true
    show_silhouette: false
    totals_color: "#808080"
    listen: {}
    row: 19
    col: 0
    width: 12
    height: 6



================================================
File: explores/contract_line_core.explore.lkml
================================================
explore: contract_line_core {
  hidden: yes
  extension: required
  description: "Contains also contracts without MRR."

  join: contract {
    type: left_outer
    sql_on: ${contract_line.contract_id} = ${contract.contract_id} ;;
    relationship: many_to_one
  }

  join: product {
    type: left_outer
    sql_on: ${contract_line.product_id} = ${product.product_id} ;;
    relationship: many_to_one
  }

  join: company {
    type: left_outer
    sql_on: ${contract.company_id} = ${company.company_id} ;;
    relationship: many_to_one
  }

  join: employee {
    type: left_outer
    sql_on: ${contract.employee_id} = ${employee.employee_id} ;;
    relationship: many_to_one
  }
}



================================================
File: explores/mrr_aggregated_core.explore.lkml
================================================
explore: mrr_aggregated_core {
  hidden: yes
  extension: required
  label: "MRR Aggregated"

  join: company {
    type: left_outer
    sql_on: ${mrr_aggregated.company_id} = ${company.company_id} ;;
    relationship: many_to_one
  }
}



================================================
File: explores/mrr_core.explore.lkml
================================================
explore: mrr_core {
  hidden: yes
  extension: required
  description: "Contains only contracts with MRR."
  label: "MRR"

  join: contract_line {
    type: left_outer
    sql_on: ${mrr.contract_line_id} = ${contract_line.contract_line_id} ;;
    relationship: many_to_one
  }

  join: contract {
    type: left_outer
    sql_on: ${contract_line.contract_id} = ${contract.contract_id} ;;
    relationship: many_to_one
  }

  join: employee {
    type: left_outer
    sql_on: ${contract.employee_id} = ${employee.employee_id} ;;
    relationship: many_to_one
  }

  join: product {
    type: left_outer
    sql_on: ${contract_line.product_id} = ${product.product_id} ;;
    relationship: many_to_one
  }

  join: company {
    type: left_outer
    sql_on: ${contract.company_id} = ${company.company_id} ;;
    relationship: many_to_one
  }
}



================================================
File: explores/.gitkeep
================================================



================================================
File: views/company_core.view.lkml
================================================
include: "//@{CONFIG_PROJECT_NAME}/views/company.view"

view: company {
  extends: [company_config]
}

view: company_core {
  sql_table_name: @{SCHEMA_NAME}.COMPANY ;;

  dimension: company_id {
    label: "Company ID"
    primary_key: yes
    type: string
    sql: ${TABLE}."COMPANY_ID" ;;
  }

  dimension: company {
    type: string
    sql: ${TABLE}."COMPANY" ;;
  }

  dimension_group: date_created {
    type: time
    timeframes: [
      raw,
      date,
      week,
      month,
      quarter,
      year
    ]
    convert_tz: no
    sql: ${TABLE}."DATE_CREATED" ;;
  }

  dimension: website {
    type: string
    sql: ${TABLE}."WEBSITE" ;;
    html: <a href={{website}} target="_blank"><font color="blue">{{ value }}</font></a> ;;
  }

  measure: count {
    type: count
    drill_fields: [company_id, contract.count, opportunity.count]
  }
}



================================================
File: views/contract_core.view.lkml
================================================
include: "//@{CONFIG_PROJECT_NAME}/views/contract.view"

view: contract {
  extends: [contract_config]
}

view: contract_core {
  sql_table_name: @{SCHEMA_NAME}.CONTRACT ;;

  dimension: contract_id {
    label: "Contract ID"
    primary_key: yes
    type: string
    sql: ${TABLE}."CONTRACT_ID" ;;
  }

  dimension: company_id {
    type: string
    hidden: yes
    sql: ${TABLE}."COMPANY_ID" ;;
  }

  dimension: employee_id {
    type: string
    hidden: yes
    sql: ${TABLE}."EMPLOYEE_ID" ;;
  }

  dimension: contract {
    type: string
    sql: ${TABLE}."CONTRACT" ;;
  }

  dimension: lead_source {
    type: string
    sql: ${TABLE}."LEAD_SOURCE" ;;
  }

  dimension_group: contract_end {
    type: time
    timeframes: [
      raw,
      date,
      week,
      month,
      quarter,
      year
    ]
    convert_tz: no
    sql: ${TABLE}."CONTRACT_END_DATE" ;;
  }

  dimension: contract_number {
    type: string
    sql: ${TABLE}."CONTRACT_NUMBER" ;;
  }

  dimension_group: contract_start {
    type: time
    timeframes: [
      raw,
      date,
      week,
      month,
      quarter,
      year
    ]
    convert_tz: no
    sql: ${TABLE}."CONTRACT_START_DATE" ;;
  }

  measure: count {
    type: count
    drill_fields: [company.company, contract, contract_number, lead_source, employee.employee, contract_start_date, contract_line.contract_line_mrr]
  }
}



================================================
File: views/contract_line_core.view.lkml
================================================
include: "//@{CONFIG_PROJECT_NAME}/views/contract_line.view"

view: contract_line {
  extends: [contract_line_config]
}

view: contract_line_core {
  sql_table_name: @{SCHEMA_NAME}.CONTRACT_LINE ;;

  set: company_contract_product {
    fields: [
      company.company,
      contract.contract_id,
      product.product
    ]
  }

  dimension: contract_line_id {
    label: "Contract Line ID"
    primary_key: yes
    type: string
    sql: ${TABLE}."CONTRACT_LINE_ID" ;;
  }

  dimension: contract_id {
    type: string
    hidden: yes
    sql: ${TABLE}."CONTRACT_ID" ;;
  }

  dimension: opportunity_id {
    type: string
    hidden: yes
    sql: ${TABLE}."OPPORTUNITY_ID" ;;
  }

  dimension: product_id {
    type: string
    hidden: yes
    sql: ${TABLE}."PRODUCT_ID" ;;
  }

  dimension: contract_line_currency {
    type: string
    sql: ${TABLE}."CONTRACT_LINE_CURRENCY" ;;
  }

  dimension_group: contract_line_end {
    type: time
    timeframes: [
      raw,
      date,
      week,
      month,
      quarter,
      year
    ]
    convert_tz: no
    sql: ${TABLE}."CONTRACT_LINE_END_DATE" ;;
  }

  dimension_group: contract_line_start {
    type: time
    timeframes: [
      raw,
      date,
      week,
      month,
      quarter,
      year
    ]
    convert_tz: no
    sql: ${TABLE}."CONTRACT_LINE_START_DATE" ;;
  }

  dimension: contract_line_quantity_dimension {
    hidden: yes
    type: number
    sql: ${TABLE}."CONTRACT_LINE_QUANTITY" ;;
  }

  dimension: contract_line_unit_price_dimension {
    hidden: yes
    type: number
    sql: ${TABLE}."CONTRACT_LINE_UNIT_PRICE" ;;
  }

  measure: contract_line_quantity {
    type: sum
    sql: ${contract_line_quantity_dimension} ;;
    value_format: "#,##0"
    drill_fields: [company_contract_product*, contract_line_quantity]
  }

  measure: contract_line_unit_price {
    type: sum
    sql: ${contract_line_unit_price_dimension} ;;
    value_format: "#,##0"
    drill_fields: [company_contract_product*, contract_line_unit_price]
  }

  measure: contract_line_mrr {
    description: "Current MRR of the line"
    label: "Contract Line MRR"
    type: sum
    sql: (${contract_line_unit_price_dimension} * ${contract_line_quantity_dimension});;
    value_format: "#,##0"
    drill_fields: [company_contract_product*, contract_line_mrr]
  }

  measure: count {
    type: count
    drill_fields: [company_contract_product*, count]
  }
}



================================================
File: views/employee_core.view.lkml
================================================
include: "//@{CONFIG_PROJECT_NAME}/views/employee.view"

view: employee {
  extends: [employee_config]
}

view: employee_core {
  sql_table_name: @{SCHEMA_NAME}.EMPLOYEE ;;

  dimension: employee_id {
    label: "Employee ID"
    primary_key: yes
    type: string
    sql: ${TABLE}."EMPLOYEE_ID" ;;
  }

  dimension: email {
    type: string
    sql: ${TABLE}."EMAIL" ;;
  }

  dimension: employee {
    type: string
    sql: ${TABLE}."EMPLOYEE" ;;
  }

  dimension: position {
    type: string
    sql: ${TABLE}."POSITION" ;;
  }

  measure: count {
    type: count
    drill_fields: [employee_id, position, count]
  }
}



================================================
File: views/mrr_aggregated_core.view.lkml
================================================
include: "//@{CONFIG_PROJECT_NAME}/views/mrr_aggregated.view"

view: mrr_aggregated {
  extends: [mrr_aggregated_config]
}

view: mrr_aggregated_core {
  label: "MRR Aggregated"
  sql_table_name: @{SCHEMA_NAME}.MRR_AGGREGATED ;;

  dimension: mrr_aggregated_id {
    label: "MRR Aggregated ID"
    primary_key: yes
    type: string
    sql: ${TABLE}."MRR_AGGREGATED_ID" ;;
  }

  dimension: company_id {
    hidden: yes
    type: string
    sql: ${TABLE}."COMPANY_ID" ;;
  }

  dimension: currency {
    type: string
    sql: ${TABLE}."CURRENCY" ;;
  }

  dimension_group: date {
    type: time
    timeframes: [
      raw,
      date,
      week,
      month,
      month_name,
      quarter,
      year
    ]
    convert_tz: no
    sql: ${TABLE}."DATE" ;;
  }

  dimension: gross_action {
    description: "Type of MRR change"
    type: string
    sql: ${TABLE}."GROSS_ACTION" ;;
  }

  dimension: ARR_bucket {
    label: "ARR Bucket"
    type: tier
    tiers: [25000,50000,75000,100000]
    sql: ${TABLE}."GROSS_MRR"*12 ;;
    style: relational
    value_format: "#,k"
    view_label: ""
  }

  dimension: gross_mrr_dimension {
    hidden: yes
    type: number
    sql: ${TABLE}."GROSS_MRR" ;;
  }

  dimension: gross_mrr_change_dimension {
    hidden: yes
    type: number
    sql: ${TABLE}."GROSS_MRR_CHANGE" ;;
  }

  dimension: previous_gross_mrr_dimension {
    hidden: yes
    type: number
    sql: ${TABLE}."PREVIOUS_GROSS_MRR" ;;
  }

  dimension: customer_active {
    description: "Customer is active if his/her MRR is above 0"
    type: yesno
    sql: ${gross_mrr_dimension} > 0 ;;
  }

  dimension: count_change_dimension {
    hidden: yes
    type: number
    sql: ${TABLE}."COUNT_CHANGE" ;;
  }

  measure: count_change {
    description: "Calculates change of MRR: no change = 0, decrees = -1, increase = 1"
    type: sum
    sql: ${count_change_dimension} ;;
    drill_fields: [company.company, gross_action]
  }

  measure: customer_count {
    description: "Number of active customers"
    type: count_distinct
    sql: ${company_id};;
    view_label: ""
    filters: {
      field: customer_active
      value: "Yes"
    }
    drill_fields: [company.company, gross_mrr,gross_mrr]
  }

  measure: gross_mrr {
    label: "Gross MRR"
    type: sum
    sql: ${gross_mrr_dimension} ;;
    value_format: "#,##0"
    drill_fields: [company.company, gross_mrr]
  }

  measure: previous_gross_mrr {
    label: "Previous Gross MRR"
    type: sum
    sql: ${previous_gross_mrr_dimension} ;;
    value_format: "#,##0"
    drill_fields: [company.company, previous_gross_mrr]
  }

  measure: gross_mrr_change {
    description: "Change in Gross MRR vs previous month"
    label: "Gross MRR Change"
    type: sum
    sql: ${gross_mrr_change_dimension} ;;
    value_format: "#,##0"
    drill_fields: [company.company, gross_mrr_change]
  }

  measure: gross_mrr_AVG {
    label: "Gross MRR AVG"
    type: average
    sql: ${gross_mrr_dimension} ;;
    value_format: "#,##0"
    drill_fields: [company.company, gross_mrr_AVG]
  }

  measure: count {
    type: count
    drill_fields: [mrr_aggregated_id, count]
  }
}



================================================
File: views/mrr_core.view.lkml
================================================
include: "//@{CONFIG_PROJECT_NAME}/views/mrr.view"

view: mrr {
  extends: [mrr_config]
}

view: mrr_core {
  sql_table_name: @{SCHEMA_NAME}.MRR ;;
  label: "MRR"

  set: company_contract_employee {
    fields: [
      company.company,
      contract.contract_id,
      employee.employee
    ]
  }

  dimension: mrr_id {
    label: "MRR ID"
    primary_key: yes
    type: string
    sql: ${TABLE}."MRR_ID" ;;
  }

  dimension: contract_line_id {
    type: string
    hidden: yes
    sql: ${TABLE}."CONTRACT_LINE_ID" ;;
  }

  dimension: contract_line_currency {
    type: string
    sql: ${TABLE}."CONTRACT_LINE_CURRENCY" ;;
  }

  dimension_group: date {
    type: time
    timeframes: [
      raw,
      date,
      week,
      month,
      quarter,
      year
    ]
    convert_tz: no
    sql: ${TABLE}."DATE" ;;
  }

  dimension: contract_line_quantity_dimension {
    hidden: yes
    type: number
    sql: ${TABLE}."CONTRACT_LINE_QUANTITY" ;;
  }

  dimension: contract_line_unit_price_dimension {
    hidden: yes
    type: number
    sql: ${TABLE}."CONTRACT_LINE_UNIT_PRICE" ;;
  }

  dimension: previous_contract_line_quantity_dimension {
    hidden: yes
    type: number
    sql: ${TABLE}."PREVIOUS_CONTRACT_LINE_QUANTITY" ;;
  }

  dimension: previous_contract_line_unit_price_dimension {
    hidden: yes
    type: number
    sql: ${TABLE}."PREVIOUS_CONTRACT_LINE_UNIT_PRICE" ;;
  }

  measure: contract_line_quantity {
    description: "Quantity according to the selected month"
    type: sum
    sql: ${contract_line_quantity_dimension} ;;
    value_format: "#,##0"
  }

  measure: contract_line_unit_price {
    description: "Unit price according to the selected month"
    type: sum
    sql: ${contract_line_unit_price_dimension} ;;
    value_format: "#,##0"
  }

  measure: contract_line_mrr {
    description: "MRR value according to the selected month"
    label: "Contract Line MRR"
    type: sum
    sql: (${contract_line_unit_price_dimension} * ${contract_line_quantity_dimension});;
    value_format: "#,##0"
    drill_fields: [company_contract_employee*, contract_line_mrr, previous_contract_line_mrr]
  }

  measure: previous_contract_line_quantity {
    description: "Value of previous month"
    type: sum
    sql: ${previous_contract_line_quantity_dimension} ;;
    value_format: "#,##0"
    drill_fields: [company_contract_employee*, previous_contract_line_quantity]
  }

  measure: previous_contract_line_unit_price {
    description: "Value of the previous month"
    type: sum
    sql: ${previous_contract_line_unit_price_dimension} ;;
    value_format: "#,##0"
    drill_fields: [company_contract_employee*, previous_contract_line_unit_price]
  }

  measure: previous_contract_line_mrr {
    description: "Value of the previous month"
    type: sum
    sql: (${previous_contract_line_unit_price_dimension} * ${previous_contract_line_quantity_dimension});;
    value_format: "#,##0"
    drill_fields: [company_contract_employee*, contract_line_mrr, previous_contract_line_mrr]
  }

  measure: count {
    type: count
    drill_fields: [company_contract_employee*, count]
  }

  dimension: contract_line_change {
    description: "Type of action based on the line's MRR value change"
    type: string
    case: {
      when: {
        sql: ${previous_contract_line_unit_price_dimension} * ${previous_contract_line_quantity_dimension} =  ${contract_line_unit_price_dimension} * ${contract_line_quantity_dimension} ;;
        label: "No Change"
      }
      when: {
        sql: ${previous_contract_line_unit_price_dimension} * ${previous_contract_line_quantity_dimension} = 0 ;;
        label: "Net New"
      }
      when: {
        sql: ${contract_line_unit_price_dimension} * ${contract_line_quantity_dimension} = 0 ;;
        label: "Churn"
      }
      when: {
        sql: ${previous_contract_line_unit_price_dimension} * ${previous_contract_line_quantity_dimension} >  ${contract_line_unit_price_dimension} * ${contract_line_quantity_dimension} ;;
        label: "Downgrade"
      }
      when: {
        sql: ${previous_contract_line_unit_price_dimension} * ${previous_contract_line_quantity_dimension} <  ${contract_line_unit_price_dimension} * ${contract_line_quantity_dimension} ;;
        label: "Upgrade"
      }
      else: "No Change"
    }
  }
}



================================================
File: views/product_core.view.lkml
================================================
include: "//@{CONFIG_PROJECT_NAME}/views/product.view"

view: product {
  extends: [product_config]
}

view: product_core {
  sql_table_name: @{SCHEMA_NAME}.PRODUCT ;;

  dimension: product_id {
    label: "Product ID"
    primary_key: yes
    type: string
    sql: ${TABLE}."PRODUCT_ID" ;;
  }

  dimension: product {
    type: string
    sql: ${TABLE}."PRODUCT" ;;
  }

  dimension: product_family {
    type: string
    sql: ${TABLE}."PRODUCT_FAMILY" ;;
  }

  measure: count {
    type: count
    drill_fields: [product_id, product, count]
  }
}



================================================
File: views/.gitkeep
================================================


