Directory structure:
└── kds_consulting_team-marketplace_bank_scorecard/
    ├── scorecard.dashboard.lookml
    ├── dashboards/
    │   └── .gitkeep
    ├── models/
    │   └── block-keboola-bank_scorecard.model.lkml
    └── views/
        ├── branch.view.lkml
        ├── customer_metrics.view.lkml
        ├── customers.view.lkml
        ├── interactions.view.lkml
        ├── main_branch.view.lkml
        ├── product.view.lkml
        ├── product_events.view.lkml
        ├── product_usage.view.lkml
        ├── reviews.view.lkml
        ├── reviews_topic.view.lkml
        ├── scorecard_metrics.view.lkml
        └── topic.view.lkml

================================================
FILE: scorecard.dashboard.lookml
================================================
- dashboard: branch_scorecard
  title: Branch Scorecard
  layout: newspaper
  embed_style:
    background_color: "#ffffff"
    show_title: true
    title_color: "#3a4245"
    show_filters_bar: true
    tile_text_color: "#3a4245"
    text_tile_text_color: ''
  elements:
  - name: 'powered by'
    type: text
    body_text: <a href="https://keboola.com" target="_blank"> <img src="https://keboola-resources.s3.amazonaws.com/poweredByKeboola.png"
      width="100%"/>
    row: 0
    col: 18
    width: 6
    height: 2
  - name: 'dashboard'
    type: text
    subtitle_text: <font size="5px"><font color="#408ef7"><b>Overview</b></font>
    row: 0
    col: 7
    width: 11
    height: 2
  - name: 'scaffold'
    type: text
    subtitle_text: <font size="5px"><font color="#408ef7"><b>Paymo</b></font>
    row: 0
    col: 0
    width: 7
    height: 2
  - name: 'Branch by # of customers'
    title: 'Branch by # of customers'
    merged_queries:
    - model: block-keboola-bank_scorecard
      explore: customers
      type: looker_area
      fields: [customers.count, customers.branch_id]
      sorts: [customers.count desc]
      limit: 500
      series_types: {}
      hidden_fields: [customers.branch_id]
    - model: block-keboola-bank_scorecard
      explore: customers
      type: looker_column
      fields: [customers.branch_id, customers.count]
      sorts: [customers.count desc]
      limit: 500
      query_timezone: America/Los_Angeles
      series_types: {}
      join_fields:
      - field_name: customers.branch_id
        source_field_name: customers.branch_id
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: customers.count, id: customers.count,
            name: Customers}, {axisId: q1_customers.count, id: q1_customers.count,
            name: Customers}], showLabels: false, showValues: false, unpinAxis: false,
        tickDensity: default, tickDensityCustom: 5, type: linear}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: false
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    hide_legend: true
    legend_position: center
    series_types:
      q1_customers.count: column
    point_style: none
    series_colors:
      q1_customers.count: "#e31a1c"
      customers.count: "#27a686"
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    reference_lines: [{reference_type: line, line_value: mean, range_start: max, range_end: min,
        margin_top: deviation, margin_value: mean, margin_bottom: deviation, label_position: right,
        color: "#27a686", label: '', value_format: "##0"}]
    show_null_points: true
    interpolation: linear
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    type: looker_area
    hidden_fields:
    sorts: [customers.count desc]
    listen:
    -
    - Branch: branch.branch_address
    row: 12
    col: 5
    width: 7
    height: 4
  - title: Customer Count
    name: Customer Count
    model: block-keboola-bank_scorecard
    explore: customers
    type: single_value
    fields: [customers.count]
    limit: 500
    series_types: {}
    listen:
      Branch: branch.branch_address
    row: 12
    col: 0
    width: 5
    height: 4
  - title: Reviews By Rating
    name: Reviews By Rating
    model: block-keboola-bank_scorecard
    explore: reviews_topic
    type: looker_column
    fields: [reviews.count_reviews, reviews.review_rating]
    pivots: [reviews.review_rating]
    filters:
      reviews.source: ''
    sorts: [reviews.count_reviews desc 0, reviews.review_rating]
    limit: 500
    column_limit: 50
    query_timezone: America/Los_Angeles
    color_application:
      collection_id: legacy
      palette_id: legacy_diverging1
      options:
        steps: 5
        reverse: false
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: reviews.count_reviews,
            id: 1.0 - reviews.count_reviews, name: '1'}, {axisId: reviews.count_reviews,
            id: 2.0 - reviews.count_reviews, name: '2'}, {axisId: reviews.count_reviews,
            id: 3.0 - reviews.count_reviews, name: '3'}, {axisId: reviews.count_reviews,
            id: 4.0 - reviews.count_reviews, name: '4'}, {axisId: reviews.count_reviews,
            id: 5.0 - reviews.count_reviews, name: '5'}], showLabels: false,
        showValues: true, unpinAxis: false, tickDensity: default, tickDensityCustom: 5,
        type: linear}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: false
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    legend_position: center
    series_types: {}
    point_style: none
    series_colors: {}
    show_value_labels: true
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    listen:
      Branch: branch.branch_address
    row: 5
    col: 8
    width: 8
    height: 5
  - name: Rating amongst peers
    title: Rating amongst peers
    merged_queries:
    - model: block-keboola-bank_scorecard
      explore: reviews_topic
      type: looker_column
      fields: [reviews.rating_value, branch.branch_address]
      filters:
        branch.branch_id: "-NULL"
      sorts: [reviews.rating_value desc]
      limit: 500
      column_limit: 50
    - model: block-keboola-bank_scorecard
      explore: reviews_topic
      type: table
      fields: [reviews.rating_value, branch.branch_address]
      sorts: [reviews.rating_value desc]
      limit: 500
      query_timezone: America/Los_Angeles
      join_fields:
      - field_name: branch.branch_address
        source_field_name: branch.branch_address
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: reviews.rating_value,
            id: reviews.rating_value, name: Reviews Response}, {axisId: q1_reviews.rating_value,
            id: q1_reviews.rating_value, name: Reviews Response}], showLabels: false,
        showValues: false, unpinAxis: false, tickDensity: default, tickDensityCustom: 5,
        type: linear}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: false
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    hide_legend: true
    legend_position: center
    series_types:
      q1_reviews.rating_value: column
    point_style: none
    series_colors:
      reviews.rating_value: "#27a686"
      q1_reviews.rating_value: "#ed6168"
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    reference_lines: [{reference_type: line, line_value: mean, range_start: max, range_end: min,
        margin_top: deviation, margin_value: mean, margin_bottom: deviation, label_position: right,
        color: "#27a686", label: ''}]
    show_null_points: false
    interpolation: linear
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    type: looker_area
    sorts: [reviews.rating_value desc]
    listen:
    -
    - Branch: branch.branch_address
      Date: reviews.published_date
    row: 5
    col: 16
    width: 7
    height: 5
  - name: Product Metrics
    title: Product Metrics
    model: block-keboola-bank_scorecard
    explore: scorecard_metrics
    type: looker_column
    fields: [scorecard_metrics.metric_no_of_product_credit, scorecard_metrics.metric_no_of_product_morgage,
      scorecard_metrics.metric_no_of_product_vehicle]
    filters:
      scorecard_metrics.metric: '"no_of_product_credit","no_of_product_morgage","no_of_product_vehicle"'
    sorts: [scorecard_metrics.metric_no_of_product_credit desc]
    limit: 500
    query_timezone: America/Los_Angeles
    color_application:
      collection_id: legacy
      palette_id: looker_classic
      options:
        steps: 5
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: true
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    legend_position: center
    label_value_format: "###,###"
    series_types: {}
    point_style: none
    series_colors:
      scorecard_metrics.metric_no_of_product_credit: "#33a02c"
      scorecard_metrics.metric_no_of_product_vehicle: "#90c8ae"
    series_labels:
      scorecard_metrics.metric_no_of_product_credit: "# of Credit Product"
      scorecard_metrics.metric_no_of_product_morgage: "# of Mortgage Product"
      scorecard_metrics.metric_no_of_product_vehicle: "# of Vehicle Product"
    show_value_labels: true
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    up_color: "#62bad4"
    down_color: "#a9c574"
    total_color: "#929292"
    listen:
      Branch: branch.branch_address
      Date: scorecard_metrics.date
    row: 29
    col: 9
    width: 14
    height: 6
  - name: Cross sell and up sell
    title: Cross sell and up sell
    model: block-keboola-bank_scorecard
    explore: scorecard_metrics
    type: looker_column
    fields: [scorecard_metrics.metric_no_of_cross_sells, scorecard_metrics.metric_no_of_upsells]
    limit: 500
    query_timezone: America/Los_Angeles
    color_application:
      collection_id: 5591d8d1-6b49-4f8e-bafa-b874d82f8eb7
      palette_id: 18d0c733-1d87-42a9-934f-4ba8ef81d736
      options:
        steps: 5
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: true
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    legend_position: center
    label_value_format: "###,###"
    point_style: none
    series_colors:
      scorecard_metrics.metric_no_of_cross_sells: "#fcd60f"
      scorecard_metrics.metric_no_of_upsells: "#FC9200"
    series_labels:
      scorecard_metrics.metric_no_of_cross_sells: "# of Cross Sells"
      scorecard_metrics.metric_no_of_upsells: "# of Up Sells"
    show_value_labels: true
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    listen:
      Branch: branch.branch_address
      Date: scorecard_metrics.date
    row: 23
    col: 9
    width: 7
    height: 6
  - name: Accounts
    title: Accounts
    model: block-keboola-bank_scorecard
    explore: scorecard_metrics
    type: looker_column
    fields: [scorecard_metrics.metric_no_of_consumer_accounts, scorecard_metrics.no_of_business_accounts]
    limit: 500
    query_timezone: America/Los_Angeles
    color_application:
      collection_id: 5591d8d1-6b49-4f8e-bafa-b874d82f8eb7
      palette_id: 18d0c733-1d87-42a9-934f-4ba8ef81d736
      options:
        steps: 5
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: true
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    legend_position: center
    label_value_format: "###,###"
    point_style: none
    series_colors:
      scorecard_metrics.metric_no_of_consumer_accounts: "#FC2E31"
      scorecard_metrics.no_of_business_accounts: "#3D52B9"
    series_labels:
      scorecard_metrics.metric_no_of_consumer_accounts: "# of Consumer Accounts"
      scorecard_metrics.no_of_business_accounts: "# of Business Accounts"
    show_value_labels: true
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    listen:
      Branch: branch.branch_address
      Date: scorecard_metrics.date
    row: 23
    col: 16
    width: 7
    height: 6
  - name: Average Customer Value
    title: Average Customer Value
    model: block-keboola-bank_scorecard
    explore: scorecard_metrics
    type: single_value
    fields: [scorecard_metrics.metric_avg_customer_value]
    limit: 500
    query_timezone: America/Los_Angeles
    custom_color_enabled: true
    show_single_value_title: true
    single_value_title: "∅ Customer Value"
    value_format: "$### ###"
    show_comparison: false
    comparison_type: value
    comparison_reverse_colors: false
    show_comparison_label: true
    enable_conditional_formatting: false
    conditional_formatting_include_totals: false
    conditional_formatting_include_nulls: false
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: scorecard_metrics.metric_no_of_customers,
            id: scorecard_metrics.metric_no_of_customers, name: Metric No of Customers}],
        showLabels: true, showValues: true, maxValue: 18500, minValue: 18000, unpinAxis: false,
        tickDensity: default, type: log}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: true
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    limit_displayed_rows_values:
      show_hide: hide
      first_last: first
      num_rows: 0
    legend_position: center
    series_types: {}
    point_style: none
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    reference_lines: [{reference_type: line, line_value: mean, range_start: max, range_end: min,
        margin_top: deviation, margin_value: mean, margin_bottom: deviation, label_position: right,
        color: "#000000"}]
    show_null_points: true
    interpolation: linear
    listen:
      Branch: branch.branch_address
      Date: scorecard_metrics.date
    row: 32
    col: 4
    width: 5
    height: 3
  - name: Customer Health
    title: Customer Health
    model: block-keboola-bank_scorecard
    explore: scorecard_metrics
    type: single_value
    fields: [scorecard_metrics.metric_kpi_customer_health]
    limit: 500
    query_timezone: America/Los_Angeles
    color_application:
      collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd
      palette_id: b0768e0d-03b8-4c12-9e30-9ada6affc357
    custom_color_enabled: true
    custom_color: ''
    show_single_value_title: true
    single_value_title: Customer Health Index
    show_comparison: false
    comparison_type: change
    comparison_reverse_colors: false
    show_comparison_label: true
    enable_conditional_formatting: true
    conditional_formatting: [{type: less than, value: 3, background_color: '', font_color: "#ff472e",
        color_application: {collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd, palette_id: 628a997f-dd44-4060-a913-250041880199},
        bold: false, italic: false, strikethrough: false, fields: !!null ''}, {type: between,
        value: [3, 6.5], background_color: '', font_color: "#ff9028", color_application: {
          collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd, palette_id: 628a997f-dd44-4060-a913-250041880199},
        bold: false, italic: false, strikethrough: false, fields: !!null ''}, {type: greater
          than, value: 6.5, background_color: '', font_color: "#2ccf12", color_application: {
          collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd, palette_id: 4dadd4d2-40af-451b-bcdd-1dfaedf76163},
        bold: false, italic: false, strikethrough: false, fields: !!null ''}]
    conditional_formatting_include_totals: false
    conditional_formatting_include_nulls: false
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: true
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    legend_position: center
    series_types: {}
    point_style: none
    show_value_labels: true
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_dropoff: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    listen:
      Branch: branch.branch_address
      Date: scorecard_metrics.date
    row: 26
    col: 0
    width: 4
    height: 3
  - name: Satisfaction Survey
    title: Satisfaction Survey
    model: block-keboola-bank_scorecard
    explore: scorecard_metrics
    type: single_value
    fields: [scorecard_metrics.metric_kpi_employee_sat_survey]
    limit: 500
    query_timezone: America/Los_Angeles
    color_application:
      collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd
      palette_id: b0768e0d-03b8-4c12-9e30-9ada6affc357
    custom_color_enabled: true
    custom_color: ''
    show_single_value_title: true
    single_value_title: Employee Satisfaction Survey
    show_comparison: false
    comparison_type: change
    comparison_reverse_colors: false
    show_comparison_label: true
    enable_conditional_formatting: true
    conditional_formatting: [{type: less than, value: 6.5, background_color: '', font_color: "#ff472e",
        color_application: {collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd, palette_id: 628a997f-dd44-4060-a913-250041880199},
        bold: false, italic: false, strikethrough: false, fields: !!null ''}, {type: between,
        value: [6.5, 8], background_color: '', font_color: "#ff9028", color_application: {
          collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd, palette_id: 628a997f-dd44-4060-a913-250041880199},
        bold: false, italic: false, strikethrough: false, fields: !!null ''}, {type: greater
          than, value: 8, background_color: '', font_color: "#2ccf12", color_application: {
          collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd, palette_id: 4dadd4d2-40af-451b-bcdd-1dfaedf76163},
        bold: false, italic: false, strikethrough: false, fields: !!null ''}]
    conditional_formatting_include_totals: false
    conditional_formatting_include_nulls: false
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: true
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    legend_position: center
    series_types: {}
    point_style: none
    show_value_labels: true
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_dropoff: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    listen:
      Branch: branch.branch_address
      Date: scorecard_metrics.date
    row: 29
    col: 0
    width: 4
    height: 3
  - name: Customers
    title: Customers
    model: block-keboola-bank_scorecard
    explore: scorecard_metrics
    type: single_value
    fields: [scorecard_metrics.metric_no_of_customers]
    sorts: [scorecard_metrics.metric_no_of_customers desc]
    limit: 500
    query_timezone: America/Los_Angeles
    custom_color_enabled: true
    show_single_value_title: true
    single_value_title: "# of Customers"
    value_format: "### ###"
    show_comparison: false
    comparison_type: value
    comparison_reverse_colors: false
    show_comparison_label: true
    enable_conditional_formatting: false
    conditional_formatting_include_totals: false
    conditional_formatting_include_nulls: false
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: scorecard_metrics.metric_no_of_customers,
            id: scorecard_metrics.metric_no_of_customers, name: Metric No of Customers}],
        showLabels: true, showValues: true, maxValue: 18500, minValue: 18000, unpinAxis: false,
        tickDensity: default, type: log}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: true
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    limit_displayed_rows_values:
      show_hide: hide
      first_last: first
      num_rows: 0
    legend_position: center
    series_types: {}
    point_style: none
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    reference_lines: [{reference_type: line, line_value: mean, range_start: max, range_end: min,
        margin_top: deviation, margin_value: mean, margin_bottom: deviation, label_position: right,
        color: "#000000"}]
    show_null_points: true
    interpolation: linear
    listen:
      Branch: branch.branch_address
      Date: scorecard_metrics.date
    row: 32
    col: 0
    width: 4
    height: 3
  - name: Digital Activations
    title: Digital Activations
    model: block-keboola-bank_scorecard
    explore: scorecard_metrics
    type: single_value
    fields: [scorecard_metrics.metric_kpi_digital_activations]
    limit: 500
    query_timezone: America/Los_Angeles
    color_application:
      collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd
      palette_id: b0768e0d-03b8-4c12-9e30-9ada6affc357
    custom_color_enabled: true
    custom_color: ''
    show_single_value_title: true
    single_value_title: Digital Activations
    show_comparison: false
    comparison_type: change
    comparison_reverse_colors: false
    show_comparison_label: true
    enable_conditional_formatting: true
    conditional_formatting: [{type: less than, value: 30, background_color: '', font_color: "#ff472e",
        color_application: {collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd, palette_id: 628a997f-dd44-4060-a913-250041880199},
        bold: false, italic: false, strikethrough: false, fields: !!null ''}, {type: between,
        value: [30, 60], background_color: '', font_color: "#ff9028", color_application: {
          collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd, palette_id: 628a997f-dd44-4060-a913-250041880199},
        bold: false, italic: false, strikethrough: false, fields: !!null ''}, {type: greater
          than, value: 60, background_color: '', font_color: "#2ccf12", color_application: {
          collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd, palette_id: 4dadd4d2-40af-451b-bcdd-1dfaedf76163},
        bold: false, italic: false, strikethrough: false, fields: !!null ''}]
    conditional_formatting_include_totals: false
    conditional_formatting_include_nulls: false
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: true
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    legend_position: center
    series_types: {}
    point_style: none
    show_value_labels: true
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_dropoff: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    listen:
      Branch: branch.branch_address
      Date: scorecard_metrics.date
    row: 23
    col: 0
    width: 4
    height: 3
  - name: Digital Activations Comparison
    title: Digital Activations Comparison
    merged_queries:
    - model: block-keboola-bank_scorecard
      explore: scorecard_metrics
      type: single_value
      fields: [scorecard_metrics.metric_kpi_digital_activations, branch.branch_address]
      sorts: [scorecard_metrics.metric_kpi_digital_activations desc]
      limit: 500
      column_limit: 50
      query_timezone: America/Los_Angeles
      color_application:
        collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd
        palette_id: b0768e0d-03b8-4c12-9e30-9ada6affc357
      custom_color_enabled: true
      custom_color: ''
      show_single_value_title: true
      single_value_title: Digital Activations
      show_comparison: false
      comparison_type: change
      comparison_reverse_colors: false
      show_comparison_label: true
      enable_conditional_formatting: true
      conditional_formatting: [{type: less than, value: 30, background_color: '',
          font_color: "#ff472e", color_application: {collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd,
            palette_id: 628a997f-dd44-4060-a913-250041880199}, bold: false, italic: false,
          strikethrough: false, fields: !!null ''}, {type: between, value: [30, 60],
          background_color: '', font_color: "#ff9028", color_application: {collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd,
            palette_id: 628a997f-dd44-4060-a913-250041880199}, bold: false, italic: false,
          strikethrough: false, fields: !!null ''}, {type: greater than, value: 60,
          background_color: '', font_color: "#2ccf12", color_application: {collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd,
            palette_id: 4dadd4d2-40af-451b-bcdd-1dfaedf76163}, bold: false, italic: false,
          strikethrough: false, fields: !!null ''}]
      conditional_formatting_include_totals: false
      conditional_formatting_include_nulls: false
      x_axis_gridlines: false
      y_axis_gridlines: true
      show_view_names: false
      show_y_axis_labels: true
      show_y_axis_ticks: true
      y_axis_tick_density: default
      y_axis_tick_density_custom: 5
      show_x_axis_label: true
      show_x_axis_ticks: true
      y_axis_scale_mode: linear
      x_axis_reversed: false
      y_axis_reversed: false
      plot_size_by_field: false
      trellis: ''
      stacking: ''
      limit_displayed_rows: false
      legend_position: center
      series_types: {}
      point_style: none
      show_value_labels: true
      label_density: 25
      x_axis_scale: auto
      y_axis_combined: true
      ordering: none
      show_null_labels: false
      show_dropoff: false
      show_totals_labels: false
      show_silhouette: false
      totals_color: "#808080"
    - model: block-keboola-bank_scorecard
      explore: scorecard_metrics
      type: table
      fields: [scorecard_metrics.metric_kpi_digital_activations, branch.branch_address]
      sorts: [scorecard_metrics.metric_kpi_digital_activations desc]
      limit: 500
      query_timezone: America/Los_Angeles
      join_fields:
      - field_name: branch.branch_address
        source_field_name: branch.branch_address
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: scorecard_metrics.metric_kpi_digital_activations,
            id: scorecard_metrics.metric_kpi_digital_activations, name: Scorecard
              Metrics}, {axisId: q1_scorecard_metrics.metric_kpi_digital_activations,
            id: q1_scorecard_metrics.metric_kpi_digital_activations, name: Scorecard
              Metrics}], showLabels: false, showValues: false, unpinAxis: false, tickDensity: default,
        tickDensityCustom: 5, type: linear}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: false
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    hide_legend: true
    legend_position: center
    series_types:
      scorecard_metrics.metric_kpi_digital_activations: area
    point_style: none
    series_colors:
      scorecard_metrics.metric_kpi_digital_activations: "#27a686"
      q1_scorecard_metrics.metric_kpi_digital_activations: "#ed6168"
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    reference_lines: [{reference_type: line, line_value: mean, range_start: max, range_end: min,
        margin_top: deviation, margin_value: mean, margin_bottom: deviation, label_position: right,
        color: "#27a686"}]
    ordering: none
    show_null_labels: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    type: looker_column
    hidden_fields: [q1_branch.branch_address]
    sorts: [scorecard_metrics.metric_kpi_digital_activations desc]
    listen:
    - Date: scorecard_metrics.date
    - Branch: branch.branch_address
      Date: scorecard_metrics.date
    row: 23
    col: 4
    width: 5
    height: 3
  - name: Health Index Comparison
    title: Health Index Comparison
    merged_queries:
    - model: block-keboola-bank_scorecard
      explore: scorecard_metrics
      type: single_value
      fields: [branch.branch_address, scorecard_metrics.metric_kpi_customer_health]
      limit: 500
      column_limit: 50
      query_timezone: America/Los_Angeles
      color_application:
        collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd
        palette_id: b0768e0d-03b8-4c12-9e30-9ada6affc357
      custom_color_enabled: true
      custom_color: ''
      show_single_value_title: true
      single_value_title: Digital Activations
      show_comparison: false
      comparison_type: change
      comparison_reverse_colors: false
      show_comparison_label: true
      enable_conditional_formatting: true
      conditional_formatting: [{type: less than, value: 30, background_color: '',
          font_color: "#ff472e", color_application: {collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd,
            palette_id: 628a997f-dd44-4060-a913-250041880199}, bold: false, italic: false,
          strikethrough: false, fields: !!null ''}, {type: between, value: [30, 60],
          background_color: '', font_color: "#ff9028", color_application: {collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd,
            palette_id: 628a997f-dd44-4060-a913-250041880199}, bold: false, italic: false,
          strikethrough: false, fields: !!null ''}, {type: greater than, value: 60,
          background_color: '', font_color: "#2ccf12", color_application: {collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd,
            palette_id: 4dadd4d2-40af-451b-bcdd-1dfaedf76163}, bold: false, italic: false,
          strikethrough: false, fields: !!null ''}]
      conditional_formatting_include_totals: false
      conditional_formatting_include_nulls: false
      x_axis_gridlines: false
      y_axis_gridlines: true
      show_view_names: false
      show_y_axis_labels: true
      show_y_axis_ticks: true
      y_axis_tick_density: default
      y_axis_tick_density_custom: 5
      show_x_axis_label: true
      show_x_axis_ticks: true
      y_axis_scale_mode: linear
      x_axis_reversed: false
      y_axis_reversed: false
      plot_size_by_field: false
      trellis: ''
      stacking: ''
      limit_displayed_rows: false
      legend_position: center
      series_types: {}
      point_style: none
      show_value_labels: true
      label_density: 25
      x_axis_scale: auto
      y_axis_combined: true
      ordering: none
      show_null_labels: false
      show_dropoff: false
      show_totals_labels: false
      show_silhouette: false
      totals_color: "#808080"
    - model: block-keboola-bank_scorecard
      explore: scorecard_metrics
      type: table
      fields: [branch.branch_address, scorecard_metrics.metric_kpi_customer_health]
      sorts: [scorecard_metrics.metric_kpi_customer_health desc]
      limit: 500
      query_timezone: America/Los_Angeles
      join_fields:
      - field_name: branch.branch_address
        source_field_name: branch.branch_address
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: scorecard_metrics.metric_kpi_digital_activations,
            id: scorecard_metrics.metric_kpi_digital_activations, name: Scorecard
              Metrics}, {axisId: q1_scorecard_metrics.metric_kpi_digital_activations,
            id: q1_scorecard_metrics.metric_kpi_digital_activations, name: Scorecard
              Metrics}], showLabels: false, showValues: false, unpinAxis: false, tickDensity: default,
        tickDensityCustom: 5, type: linear}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: false
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    hide_legend: true
    legend_position: center
    series_types:
      scorecard_metrics.metric_kpi_digital_activations: area
      scorecard_metrics.metric_kpi_customer_health: area
    point_style: none
    series_colors:
      scorecard_metrics.metric_kpi_digital_activations: "#27a686"
      q1_scorecard_metrics.metric_kpi_digital_activations: "#ed6168"
      scorecard_metrics.metric_kpi_customer_health: "#27a686"
      q1_scorecard_metrics.metric_kpi_customer_health: "#ed6168"
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    reference_lines: [{reference_type: line, line_value: mean, range_start: max, range_end: min,
        margin_top: deviation, margin_value: mean, margin_bottom: deviation, label_position: right,
        color: "#27a686"}]
    ordering: none
    show_null_labels: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    type: looker_column
    hidden_fields: [q1_branch.branch_address]
    listen:
    - Date: scorecard_metrics.date
    - Branch: branch.branch_address
      Date: scorecard_metrics.date
    row: 26
    col: 4
    width: 5
    height: 3
  - name: Employee Sat Comparison
    title: Employee Sat. Comparison
    merged_queries:
    - model: block-keboola-bank_scorecard
      explore: scorecard_metrics
      type: single_value
      fields: [branch.branch_address, scorecard_metrics.metric_kpi_employee_sat_survey]
      limit: 500
      column_limit: 50
      query_timezone: America/Los_Angeles
      color_application:
        collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd
        palette_id: b0768e0d-03b8-4c12-9e30-9ada6affc357
      custom_color_enabled: true
      custom_color: ''
      show_single_value_title: true
      single_value_title: Digital Activations
      show_comparison: false
      comparison_type: change
      comparison_reverse_colors: false
      show_comparison_label: true
      enable_conditional_formatting: true
      conditional_formatting: [{type: less than, value: 30, background_color: '',
          font_color: "#ff472e", color_application: {collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd,
            palette_id: 628a997f-dd44-4060-a913-250041880199}, bold: false, italic: false,
          strikethrough: false, fields: !!null ''}, {type: between, value: [30, 60],
          background_color: '', font_color: "#ff9028", color_application: {collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd,
            palette_id: 628a997f-dd44-4060-a913-250041880199}, bold: false, italic: false,
          strikethrough: false, fields: !!null ''}, {type: greater than, value: 60,
          background_color: '', font_color: "#2ccf12", color_application: {collection_id: d754397b-2c05-4470-bbbb-05eb4c2b15cd,
            palette_id: 4dadd4d2-40af-451b-bcdd-1dfaedf76163}, bold: false, italic: false,
          strikethrough: false, fields: !!null ''}]
      conditional_formatting_include_totals: false
      conditional_formatting_include_nulls: false
      x_axis_gridlines: false
      y_axis_gridlines: true
      show_view_names: false
      show_y_axis_labels: true
      show_y_axis_ticks: true
      y_axis_tick_density: default
      y_axis_tick_density_custom: 5
      show_x_axis_label: true
      show_x_axis_ticks: true
      y_axis_scale_mode: linear
      x_axis_reversed: false
      y_axis_reversed: false
      plot_size_by_field: false
      trellis: ''
      stacking: ''
      limit_displayed_rows: false
      legend_position: center
      series_types: {}
      point_style: none
      show_value_labels: true
      label_density: 25
      x_axis_scale: auto
      y_axis_combined: true
      ordering: none
      show_null_labels: false
      show_dropoff: false
      show_totals_labels: false
      show_silhouette: false
      totals_color: "#808080"
    - model: block-keboola-bank_scorecard
      explore: scorecard_metrics
      type: table
      fields: [branch.branch_address, scorecard_metrics.metric_kpi_employee_sat_survey]
      limit: 500
      query_timezone: America/Los_Angeles
      join_fields:
      - field_name: branch.branch_address
        source_field_name: branch.branch_address
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: scorecard_metrics.metric_kpi_digital_activations,
            id: scorecard_metrics.metric_kpi_digital_activations, name: Scorecard
              Metrics}, {axisId: q1_scorecard_metrics.metric_kpi_digital_activations,
            id: q1_scorecard_metrics.metric_kpi_digital_activations, name: Scorecard
              Metrics}], showLabels: false, showValues: false, unpinAxis: false, tickDensity: default,
        tickDensityCustom: 5, type: linear}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: false
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    hide_legend: true
    legend_position: center
    series_types:
      scorecard_metrics.metric_kpi_digital_activations: area
      scorecard_metrics.metric_kpi_customer_health: area
      scorecard_metrics.metric_kpi_employee_sat_survey: area
    point_style: none
    series_colors:
      scorecard_metrics.metric_kpi_digital_activations: "#27a686"
      q1_scorecard_metrics.metric_kpi_digital_activations: "#ed6168"
      scorecard_metrics.metric_kpi_customer_health: "#27a686"
      q1_scorecard_metrics.metric_kpi_customer_health: "#ed6168"
      scorecard_metrics.metric_kpi_employee_sat_survey: "#27a686"
      q1_scorecard_metrics.metric_kpi_employee_sat_survey: "#ed6168"
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    reference_lines: [{reference_type: line, line_value: mean, range_start: max, range_end: min,
        margin_top: deviation, margin_value: mean, margin_bottom: deviation, label_position: right,
        color: "#27a686"}]
    ordering: none
    show_null_labels: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    type: looker_column
    hidden_fields: [q1_branch.branch_address]
    sorts: [scorecard_metrics.metric_kpi_employee_sat_survey desc]
    listen:
    - Date: scorecard_metrics.date
    - Branch: branch.branch_address
      Date: scorecard_metrics.date
    row: 29
    col: 4
    width: 5
    height: 3
  filters:
  - name: Branch
    title: Branch
    type: field_filter
    default_value: 1 Commerce Way
    allow_multiple_values: false
    required: true
    model: block-keboola-bank_scorecard
    explore: branch
    listens_to_filters: []
    field: branch.branch_address
  - name: Date
    title: Date
    type: date_filter
    default_value: 2019/09/01
    allow_multiple_values: true
    required: false


================================================
FILE: dashboards/.gitkeep
================================================
[Empty file]


================================================
FILE: models/block-keboola-bank_scorecard.model.lkml
================================================
connection: "keboola_block_bank_scorecard"

# include all the views
include: "/views/**/*.view"

# include all lookml dashboards
include: "/*.dashboard.lookml"

datagroup: block_keboola_bank_scorecard_default_datagroup {
  # sql_trigger: SELECT MAX(id) FROM etl_log;;
  max_cache_age: "1 hour"
}

persist_with: block_keboola_bank_scorecard_default_datagroup

explore: branch {}

explore: customer_metrics {
  join: branch {
    type: left_outer
    sql_on: ${customer_metrics.branch_id} = ${branch.branch_id} ;;
    relationship: many_to_one
  }

  join: customers {
    type: left_outer
    sql_on: ${customer_metrics.customer_id} = ${customers.customer_id} ;;
    relationship: many_to_one
  }
}

explore: customers {
  join: branch {
    type: left_outer
    sql_on: ${customers.branch_id} = ${branch.branch_id} ;;
    relationship: many_to_one
  }
}

explore: interactions {
  join: customers {
    type: left_outer
    sql_on: ${interactions.customer_id} = ${customers.customer_id} ;;
    relationship: many_to_one
  }

  join: branch {
    type: left_outer
    sql_on: ${interactions.branch_id} = ${branch.branch_id} ;;
    relationship: many_to_one
  }

  join: product {
    type: left_outer
    sql_on: ${interactions.product_id} = ${product.product_id} ;;
    relationship: many_to_one
  }
}

explore: main_branch {
  join: customers {
    type: left_outer
    sql_on: ${main_branch.customer_id} = ${customers.customer_id} ;;
    relationship: many_to_one
  }

  join: branch {
    type: left_outer
    sql_on: ${main_branch.branch_id} = ${branch.branch_id} ;;
    relationship: many_to_one
  }
}

explore: product {}

explore: product_events {
  join: product {
    type: left_outer
    sql_on: ${product_events.product_id} = ${product.product_id} ;;
    relationship: many_to_one
  }

  join: customers {
    type: left_outer
    sql_on: ${product_events.customer_id} = ${customers.customer_id} ;;
    relationship: many_to_one
  }

  join: branch {
    type: left_outer
    sql_on: ${customers.branch_id} = ${branch.branch_id} ;;
    relationship: many_to_one
  }
}

explore: product_usage {
  join: product {
    type: left_outer
    sql_on: ${product_usage.product_id} = ${product.product_id} ;;
    relationship: many_to_one
  }

  join: customers {
    type: left_outer
    sql_on: ${product_usage.customer_id} = ${customers.customer_id} ;;
    relationship: many_to_one
  }

  join: branch {
    type: left_outer
    sql_on: ${customers.branch_id} = ${branch.branch_id} ;;
    relationship: many_to_one
  }
}

explore: reviews {
  join: interactions {
    type: left_outer
    sql_on: ${reviews.interaction_id} = ${interactions.interaction_id} ;;
    relationship: many_to_one
  }

  join: customers {
    type: left_outer
    sql_on: ${interactions.customer_id} = ${customers.customer_id} ;;
    relationship: many_to_one
  }

  join: branch {
    type: left_outer
    sql_on: ${interactions.branch_id} = ${branch.branch_id} ;;
    relationship: many_to_one
  }

  join: product {
    type: left_outer
    sql_on: ${interactions.product_id} = ${product.product_id} ;;
    relationship: many_to_one
  }
}

explore: reviews_topic {
  join: topic {
    type: left_outer
    sql_on: ${reviews_topic.topic_id} = ${topic.topic_id} ;;
    relationship: many_to_one
  }
  join: reviews {
    type: left_outer
    sql_on: ${reviews_topic.review_response_id} = ${reviews.review_id} ;;
    relationship: many_to_one
  }

  join: interactions {
    type: left_outer
    sql_on: ${reviews.interaction_id} = ${interactions.interaction_id} ;;
    relationship: many_to_one
  }

  join: branch {
    type: left_outer
    sql_on: ${interactions.branch_id} = ${branch.branch_id} ;;
    relationship: many_to_one
  }
}

explore: scorecard_metrics {
  join: branch {
    type: left_outer
    sql_on: ${scorecard_metrics.branch_id} = ${branch.branch_id} ;;
    relationship: many_to_one
  }
}

explore: topic {}



================================================
FILE: views/branch.view.lkml
================================================
view: branch {
  sql_table_name: WORKSPACE_564504055.BRANCH ;;
  drill_fields: [branch_id]

  dimension: branch_id {
    primary_key: yes
    type: string
    sql: ${TABLE}."BRANCH_ID" ;;
  }

  dimension: bank_id {
    type: string
    sql: ${TABLE}."BANK_ID" ;;
  }

  dimension: branch_address {
    type: string
    sql: ${TABLE}."BRANCH_ADDRESS" ;;
  }

  dimension: branch_city {
    type: string
    sql: ${TABLE}."BRANCH_CITY" ;;
  }

  dimension: branch_country {
    type: string
    sql: ${TABLE}."BRANCH_COUNTRY" ;;
  }

  dimension: branch_country_id {
    type: string
    sql: ${TABLE}."BRANCH_COUNTRY_ID" ;;
  }

  dimension: branch_phone {
    type: string
    sql: ${TABLE}."BRANCH_PHONE" ;;
  }

  dimension: branch_state {
    type: string
    sql: ${TABLE}."BRANCH_STATE" ;;
  }

  dimension: branch_zipcode {
    type: string
    sql: ${TABLE}."BRANCH_ZIPCODE" ;;
  }

  dimension: google_place_id {
    type: string
    sql: ${TABLE}."GOOGLE_PLACE_ID" ;;
  }

  dimension: latitude {
    type: string
    sql: ${TABLE}."LATITUDE" ;;
  }

  dimension: longitude {
    type: string
    sql: ${TABLE}."LONGITUDE" ;;
  }

  dimension: r_trackers_id {
    type: string
    sql: ${TABLE}."R_TRACKERS_ID" ;;
  }

  measure: count {
    type: count
    drill_fields: [detail*]
  }

  dimension: location_gps {
    type: location
    label: "Location GPS"
    sql_latitude:${TABLE}."LATITUDE" ;;
    sql_longitude:${TABLE}."LONGITUDE" ;;
  }

  # ----- Sets of fields for drilling ------
  set: detail {
    fields: [
      branch_id,
      customers.count,
      customer_metrics.count,
      interactions.count,
      main_branch.count,
      scorecard_metrics.count
    ]
  }
}



================================================
FILE: views/customer_metrics.view.lkml
================================================
view: customer_metrics {
  sql_table_name: WORKSPACE_564504055.CUSTOMER_METRICS ;;

  dimension: actual {
    type: string
    sql: ${TABLE}."ACTUAL" ;;
  }

  dimension: age_group {
    type: string
    sql: ${TABLE}."AGE_GROUP" ;;
  }

  dimension: branch_id {
    type: string
    # hidden: yes
    sql: ${TABLE}."BRANCH_ID" ;;
  }

  dimension: credit_score {
    type: number
    sql: ${TABLE}."CREDIT_SCORE" ;;
  }

  dimension: customer_id {
    type: string
    # hidden: yes
    sql: ${TABLE}."CUSTOMER_ID" ;;
  }

  dimension_group: end {
    type: time
    timeframes: [
      raw,
      time,
      date,
      week,
      month,
      quarter,
      year
    ]
    sql: ${TABLE}."END_DATE" ;;
  }

  dimension: estimated_salary {
    type: number
    sql: ${TABLE}."ESTIMATED_SALARY" ;;
  }

  dimension: exited {
    type: string
    sql: ${TABLE}."EXITED" ;;
  }

  dimension: is_deleted {
    type: string
    sql: ${TABLE}."IS_DELETED" ;;
  }

  dimension: salary_group {
    type: string
    sql: ${TABLE}."SALARY_GROUP" ;;
  }

  dimension: segment_id {
    type: string
    sql: ${TABLE}."SEGMENT_ID" ;;
  }

  dimension: snap_pk {
    type: string
    sql: ${TABLE}."SNAP_PK" ;;
  }

  dimension_group: start {
    type: time
    timeframes: [
      raw,
      date,
      week,
      month,
      quarter,
      year
    ]
    convert_tz: no
    datatype: date
    sql: ${TABLE}."START_DATE" ;;
  }

  measure: count {
    type: count
    drill_fields: [branch.branch_id, customers.customer_id, customers.first_name, customers.last_name]
  }
}



================================================
FILE: views/customers.view.lkml
================================================
view: customers {
  sql_table_name: WORKSPACE_564504055.CUSTOMERS ;;
  drill_fields: [customer_id]

  dimension: customer_id {
    primary_key: yes
    type: string
    sql: ${TABLE}."CUSTOMER_ID" ;;
  }

  dimension: age {
    type: number
    sql: ${TABLE}."AGE" ;;
  }

  dimension: age_group {
    type: string
    sql: ${TABLE}."AGE_GROUP" ;;
  }

  dimension: balance {
    type: number
    sql: ${TABLE}."BALANCE" ;;
  }

  dimension: branch_id {
    type: string
    # hidden: yes
    sql: ${TABLE}."BRANCH_ID" ;;
  }

  dimension: credit_score {
    type: number
    sql: ${TABLE}."CREDIT_SCORE" ;;
  }

  dimension_group: date_created {
    type: time
    timeframes: [
      raw,
      date,
      week,
      month,
      quarter,
      year
    ]
    convert_tz: no
    datatype: date
    sql: ${TABLE}."DATE_CREATED" ;;
  }

  dimension_group: date_terminated {
    type: time
    timeframes: [
      raw,
      date,
      week,
      month,
      quarter,
      year
    ]
    convert_tz: no
    datatype: date
    sql: ${TABLE}."DATE_TERMINATED" ;;
  }

  dimension: estimated_salary {
    type: number
    sql: ${TABLE}."ESTIMATED_SALARY" ;;
  }

  dimension: exited {
    type: string
    sql: ${TABLE}."EXITED" ;;
  }

  dimension: first_name {
    type: string
    sql: ${TABLE}."FIRST_NAME" ;;
  }

  dimension: gender {
    type: string
    sql: ${TABLE}."GENDER" ;;
  }

  dimension: geography {
    type: string
    sql: ${TABLE}."GEOGRAPHY" ;;
  }

  dimension: has_cr_card {
    type: string
    sql: ${TABLE}."HAS_CR_CARD" ;;
  }

  dimension: is_active_member {
    type: string
    sql: ${TABLE}."IS_ACTIVE_MEMBER" ;;
  }

  dimension: last_name {
    type: string
    sql: ${TABLE}."LAST_NAME" ;;
  }

  dimension: num_of_products {
    type: number
    sql: ${TABLE}."NUM_OF_PRODUCTS" ;;
  }

  dimension: salary_group {
    type: string
    sql: ${TABLE}."SALARY_GROUP" ;;
  }

  dimension: segment_id {
    type: string
    sql: ${TABLE}."SEGMENT_ID" ;;
  }

  dimension: tenure {
    type: number
    sql: ${TABLE}."TENURE" ;;
  }

  measure: count {
    type: count
    drill_fields: [detail*]
  }

  # ----- Sets of fields for drilling ------
  set: detail {
    fields: [
      customer_id,
      first_name,
      last_name,
      branch.branch_id,
      customer_metrics.count,
      interactions.count,
      main_branch.count,
      product_events.count,
      product_usage.count
    ]
  }
}



================================================
FILE: views/interactions.view.lkml
================================================
view: interactions {
  sql_table_name: WORKSPACE_564504055.INTERACTIONS ;;
  drill_fields: [interaction_id]

  dimension: interaction_id {
    primary_key: yes
    type: string
    sql: ${TABLE}."INTERACTION_ID" ;;
  }

  dimension: branch_id {
    type: string
    # hidden: yes
    sql: ${TABLE}."BRANCH_ID" ;;
  }

  dimension: customer_id {
    type: string
    # hidden: yes
    sql: ${TABLE}."CUSTOMER_ID" ;;
  }

  dimension_group: date {
    type: time
    timeframes: [
      raw,
      date,
      week,
      month,
      quarter,
      year
    ]
    convert_tz: no
    datatype: date
    sql: ${TABLE}."DATE" ;;
  }

  dimension: key {
    type: string
    sql: ${TABLE}."KEY" ;;
  }

  dimension: product_id {
    type: string
    # hidden: yes
    sql: ${TABLE}."PRODUCT_ID" ;;
  }

  dimension: type {
    type: string
    sql: ${TABLE}."TYPE" ;;
  }

  dimension: value {
    type: number
    sql: ${TABLE}."VALUE" ;;
  }

  measure: count {
    type: count
    drill_fields: [detail*]
  }

  # ----- Sets of fields for drilling ------
  set: detail {
    fields: [
      interaction_id,
      customers.customer_id,
      customers.first_name,
      customers.last_name,
      branch.branch_id,
      product.name,
      product.product_id,
      reviews.count
    ]
  }
}



================================================
FILE: views/main_branch.view.lkml
================================================
view: main_branch {
  sql_table_name: WORKSPACE_564504055.MAIN_BRANCH ;;

  dimension: branch_id {
    type: string
    # hidden: yes
    sql: ${TABLE}."BRANCH_ID" ;;
  }

  dimension: customer_id {
    type: string
    # hidden: yes
    sql: ${TABLE}."CUSTOMER_ID" ;;
  }

  measure: count {
    type: count
    drill_fields: [customers.customer_id, customers.first_name, customers.last_name, branch.branch_id]
  }
}



================================================
FILE: views/product.view.lkml
================================================
view: product {
  sql_table_name: WORKSPACE_564504055.PRODUCT ;;
  drill_fields: [product_id]

  dimension: product_id {
    primary_key: yes
    type: string
    sql: ${TABLE}."PRODUCT_ID" ;;
  }

  dimension: category {
    type: string
    sql: ${TABLE}."CATEGORY" ;;
  }

  dimension: code {
    type: string
    sql: ${TABLE}."CODE" ;;
  }

  dimension: description {
    type: string
    sql: ${TABLE}."DESCRIPTION" ;;
  }

  dimension: details {
    type: string
    sql: ${TABLE}."DETAILS" ;;
  }

  dimension: family {
    type: string
    sql: ${TABLE}."FAMILY" ;;
  }

  dimension: more_info_url {
    type: string
    sql: ${TABLE}."MORE_INFO_URL" ;;
  }

  dimension: name {
    type: string
    sql: ${TABLE}."NAME" ;;
  }

  dimension: parent_product_code {
    type: string
    sql: ${TABLE}."PARENT_PRODUCT_CODE" ;;
  }

  dimension: super_family {
    type: string
    sql: ${TABLE}."SUPER_FAMILY" ;;
  }

  measure: count {
    type: count
    drill_fields: [product_id, name, interactions.count, product_events.count, product_usage.count]
  }
}



================================================
FILE: views/product_events.view.lkml
================================================
view: product_events {
  sql_table_name: WORKSPACE_564504055.PRODUCT_EVENTS ;;
  drill_fields: [product_events_id]

  dimension: product_events_id {
    primary_key: yes
    type: string
    sql: ${TABLE}."PRODUCT_EVENTS_ID" ;;
  }

  dimension: customer_id {
    type: string
    # hidden: yes
    sql: ${TABLE}."CUSTOMER_ID" ;;
  }

  dimension_group: date {
    type: time
    timeframes: [
      raw,
      date,
      week,
      month,
      quarter,
      year
    ]
    convert_tz: no
    datatype: date
    sql: ${TABLE}."DATE" ;;
  }

  dimension: is_active {
    type: number
    sql: ${TABLE}."IS_ACTIVE" ;;
  }

  dimension: product_id {
    type: string
    # hidden: yes
    sql: ${TABLE}."PRODUCT_ID" ;;
  }

  dimension: product_order {
    type: number
    sql: ${TABLE}."PRODUCT_ORDER" ;;
  }

  dimension: type {
    type: string
    sql: ${TABLE}."TYPE" ;;
  }

  measure: count {
    type: count
    drill_fields: [detail*]
  }

  # ----- Sets of fields for drilling ------
  set: detail {
    fields: [
      product_events_id,
      product.name,
      product.product_id,
      customers.customer_id,
      customers.first_name,
      customers.last_name
    ]
  }
}



================================================
FILE: views/product_usage.view.lkml
================================================
view: product_usage {
  sql_table_name: WORKSPACE_564504055.PRODUCT_USAGE ;;
  drill_fields: [product_usage_id]

  dimension: product_usage_id {
    primary_key: yes
    type: string
    sql: ${TABLE}."PRODUCT_USAGE_ID" ;;
  }

  dimension: customer_id {
    type: string
    # hidden: yes
    sql: ${TABLE}."CUSTOMER_ID" ;;
  }

  dimension_group: date_activated {
    type: time
    timeframes: [
      raw,
      date,
      week,
      month,
      quarter,
      year
    ]
    convert_tz: no
    datatype: date
    sql: ${TABLE}."DATE_ACTIVATED" ;;
  }

  dimension_group: date_deactivated {
    type: time
    timeframes: [
      raw,
      date,
      week,
      month,
      quarter,
      year
    ]
    convert_tz: no
    datatype: date
    sql: ${TABLE}."DATE_DEACTIVATED" ;;
  }

  dimension: product_id {
    type: string
    # hidden: yes
    sql: ${TABLE}."PRODUCT_ID" ;;
  }

  measure: count {
    type: count
    drill_fields: [detail*]
  }

  # ----- Sets of fields for drilling ------
  set: detail {
    fields: [
      product_usage_id,
      product.name,
      product.product_id,
      customers.customer_id,
      customers.first_name,
      customers.last_name
    ]
  }
}



================================================
FILE: views/reviews.view.lkml
================================================
view: reviews {
  sql_table_name: WORKSPACE_564504055.REVIEWS ;;
  drill_fields: [review_id]

  dimension: review_id {
    primary_key: yes
    type: string
    sql: ${TABLE}."REVIEW_ID" ;;
  }

  dimension: interaction_id {
    type: string
    # hidden: yes
    sql: ${TABLE}."INTERACTION_ID" ;;
  }

  dimension: review_rating {
    type: number
    sql: ${TABLE}."REVIEW_RATING" ;;
  }

  dimension: review_response_id {
    type: string
    sql: ${TABLE}."REVIEW_RESPONSE_ID" ;;
  }

  dimension: sentiment_label {
    type: string
    sql: ${TABLE}."REVIEW_SENTIMENT_LABEL" ;;
  }

  dimension: sentiment_value_dimension {
    type: number
    sql: ${TABLE}."REVIEW_SENTIMENT_VALUE" ;;
  }

  dimension: review_source {
    type: string
    sql: ${TABLE}."REVIEW_SOURCE" ;;
  }

  dimension: review_text {
    type: string
    sql: ${TABLE}."REVIEW_TEXT" ;;
  }

  dimension: review_text_length {
    type: number
    sql: ${TABLE}."REVIEW_TEXT_LENGTH" ;;
  }

  dimension: review_title {
    type: string
    sql: ${TABLE}."REVIEW_TITLE" ;;
  }

  dimension: type {
    type: string
    sql: ${TABLE}."REVIEW_TYPE" ;;
  }

  dimension: source_url {
    type: string
    sql: ${TABLE}."SOURCE_URL" ;;
  }

  dimension_group: published {
    type: time
    timeframes: [
      raw,
      time,
      date,
      week,
      month,
      quarter,
      year
    ]
    sql: ${TABLE}."PUBLISHED_AT" ;;
  }
  measure: rating_value {
    type: average
    sql: ${TABLE}."RATING" ;;
    value_format: "# ##0.0#"
    drill_fields: [location.location, published_date, source, text, rating_stars, sentiment_label, rating_value]
  }

  measure: recent_rating {
    type: average
    sql: ${TABLE}."RATING" ;;
    filters: {
      field: published_date
      value: "last 14 days"
    }
    view_label: ""
    value_format: "# ##0.0#"
    drill_fields: [location.location, published_date, source, text, rating_stars, sentiment_label, recent_rating]
  }

  measure: old_rating {
    description: "14 days ago"
    type: average
    sql: ${TABLE}."RATING" ;;
    filters: {
      field: published_date
      value: "before 14 days ago"
    }
    view_label: ""
    value_format: "# ##0.0#"
    drill_fields: [location.location, published_date, source, text, rating_stars, sentiment_label, old_rating]
  }

  measure: rating_stars {
    type: average
    sql: ${TABLE}."RATING" ;;
    view_label: ""
    html:
      {%if {{value}} > 0.5%}
        {%if {{value}} > 1.5%}
          {%if {{value}} > 2.5%}
            {%if {{value}} > 3.5%}
              {%if {{value}} > 4.5%}
              ✪ ✪ ✪ ✪ ✪
              {%else%}
              ✪ ✪ ✪ ✪
              {%endif%}
            {%else%}
            ✪ ✪ ✪
            {%endif%}
          {%else%}
          ✪ ✪
          {%endif%}
        {%else%}
        ✪
        {%endif%}
      {%else%}
      💩
      {%endif%};;
  }

  measure: sentiment_value {
    type: average
    sql: ${sentiment_value_dimension};;
    value_format: "# ##0.0#"
    drill_fields: [location.location, published_date, source, text, rating_stars, sentiment_label, sentiment_value]
  }

  measure: review_sentiment_value {
    type: average
    sql: ${sentiment_value_dimension} ;;
    value_format: "# ##0.0#"
    filters: {
      field: type
      value: "Review"
    }
    drill_fields: [location.location, published_date, source, text, rating_stars, sentiment_label, review_sentiment_value]
  }

  measure: response_sentiment_value {
    type: average
    sql: ${TABLE}."SENTIMENT_VALUE" ;;
    value_format: "# ##0.0#"
    filters: {
      field: type
      value: "Response"
    }
    drill_fields: [location.location, published_date, source, text, rating_stars, sentiment_label, response_sentiment_value]
  }

  dimension: source {
    type: string
    sql: ${TABLE}."SOURCE" ;;
    html: <a href={{source_url}} target="_blank"><font color="blue">{{ value }}</font></a> ;;
  }


  dimension: text {
    type: string
    sql: ${TABLE}."TEXT" ;;
  }

  dimension: text_short {
    type: string
    sql: IFF(LENGTH(${TABLE}."TEXT")>256,LEFT(${TABLE}."TEXT",253)||'...',${TABLE}."TEXT") ;;
    drill_fields: [text]
  }

  measure: text_length {
    type: sum
    sql: ${review_text_length} ;;
  }

  measure: count_total {
    type: count
    drill_fields: [reviews_list*, count_total]
  }

  measure: count_reviews {
    type: count_distinct
    sql: ${review_id} ;;
    drill_fields: [reviews_list*, count_reviews]
  }

  measure: count_responses {
    type: count_distinct
    sql: ${review_response_id} ;;
    filters: {
      field: type
      value: "Response"
    }
    drill_fields: [reviews_list*, count_reviews]
  }

  measure: recent_count_reviews {
    type: count
    drill_fields: [reviews_list*, recent_count_reviews]
    label: "Number of Recent Reviews"
    view_label: ""
    filters: {
      field: published_date
      value: "last 14 days"
    }
  }

  set: reviews_list {
    fields: [branch.address, published_date, source, text, rating_stars, sentiment_label]
  }
}



================================================
FILE: views/reviews_topic.view.lkml
================================================
view: reviews_topic {
  sql_table_name: WORKSPACE_564504055.REVIEWS_TOPIC ;;

  dimension: review_response_id {
    type: string
    sql: ${TABLE}."REVIEW_RESPONSE_ID" ;;
  }

  dimension: review_response_topic_id {
    type: string
    sql: ${TABLE}."REVIEW_RESPONSE_TOPIC_ID" ;;
  }

  dimension: topic_id {
    type: string
    # hidden: yes
    sql: ${TABLE}."TOPIC_ID" ;;
  }

  dimension: topic_sentiment_label {
    type: string
    sql: ${TABLE}."TOPIC_SENTIMENT_LABEL" ;;
  }

  dimension: topic_sentiment_value {
    type: number
    sql: ${TABLE}."TOPIC_SENTIMENT_VALUE" ;;
  }

  measure: count {
    type: count
    drill_fields: [topic.topic_id]
  }
}



================================================
FILE: views/scorecard_metrics.view.lkml
================================================
view: scorecard_metrics {
  sql_table_name: WORKSPACE_564504055.scorecard_metrics ;;

  dimension: address {
    type: string
    sql: ${TABLE}."ADDRESS" ;;
  }

  dimension: age_group {
    type: string
    sql: ${TABLE}."AGE_GROUP" ;;
  }

  dimension: branch_id {
    type: string
    # hidden: yes
    sql: ${TABLE}."BRANCH_ID" ;;
  }

  dimension_group: scorecard_date {
    type: time
    timeframes: [
      raw,
      date,
      week,
      month,
      quarter,
      year
    ]
    convert_tz: no
    datatype: date
    sql: ${TABLE}."DATE" ;;
  }

  dimension: date {
    type: date
    sql: ${TABLE}."DATE" ;;
  }

  dimension: metric {
    type: string
    sql: ${TABLE}."METRIC" ;;
  }

  dimension: metric_type {
    type: string
    sql: ${TABLE}."METRIC_TYPE" ;;
  }

  dimension: metric_value_original {
    type: number
    sql: ${TABLE}."METRIC_VALUE" ;;
  }

  dimension: metric_value_normalized {
    type: number
    sql: ${TABLE}."METRIC_VALUE_NORMALIZED" ;;
  }

  dimension: operation {
    type: string
    sql: ${TABLE}."OPERATION" ;;
  }

  dimension: rn {
    type: number
    sql: ${TABLE}."RN" ;;
  }

  dimension: segment {
    type: string
    sql: ${TABLE}."SEGMENT" ;;
  }

  dimension: wealth_group {
    type: string
    sql: ${TABLE}."WEALTH_GROUP" ;;
  }

  measure: count {
    type: count
    drill_fields: [branch.branch_id]
  }

  measure: metric_value{
    type: number
    sql: IFF(${operation}='SUM',SUM(${TABLE}."METRIC_VALUE"),AVG(${TABLE}."METRIC_VALUE")) ;;
  }

  measure: metric_avg_customer_value{
    type: average
    sql: ${metric_value_original} ;;
    filters: {
      field:  metric
      value: "avg_customer_value"
    }
  }

  measure: metric_no_of_product_vehicle {
    type: sum
    sql: ${metric_value_original} ;;
    filters: {
      field: metric
      value: "no_of_product_vehicle"
    }
  }

  measure: metric_no_of_product_credit {
    type: sum
    sql: ${metric_value_original} ;;
    filters: {
      field: metric
      value: "no_of_product_credit"
    }
  }

  measure: metric_kpi_digital_activations {
    type: average
    sql: ${metric_value_original} ;;
    value_format: "0.00"
    filters: {
      field: metric
      value: "kpi_digital_activations"
    }
  }

  measure: metric_no_of_cross_sells {
    type: sum
    sql: ${metric_value_original} ;;
    filters: {
      field:  metric
      value: "no_of_cross_sells"
    }
  }

  measure: metric_no_of_customers {
    type: sum
    sql: ${metric_value_original} ;;
    value_format: "0"
    filters: {
      field: metric
      value: "no_of_customers"
    }
  }

  measure: metric_kpi_customer_health {
    type: average
    sql: ${metric_value_original} ;;
    value_format: "0.00"
    filters: {
      field:metric
      value: "kpi_customer_health"}
  }

  measure: metric_no_of_product_morgage {
    type: sum
    sql: ${metric_value_original} ;;
    filters: {
      field: metric
      value: "no_of_product_morgage"
    }
  }

  measure: metric_no_of_upsells {
    type: sum
    sql: ${metric_value_original} ;;
    filters: {
      field: metric
      value: "no_of_upsells"
    }
  }

  measure: metric_kpi_employee_sat_survey {
    type: average
    sql: ${metric_value_original} ;;
    value_format: "0.00"
    filters: {
      field: metric
      value: "kpi_employee_sat_survey"
    }
  }

  measure: metric_no_of_consumer_accounts {
    type: sum
    sql: ${metric_value_original} ;;
    filters: {
      field: metric
      value: "no_of_consumer_accounts"
    }
  }

  measure: no_of_business_accounts {
    type: sum
    sql: ${metric_value_original} ;;
    filters: {
      field: metric
      value: "no_of_business_accounts"
    }
  }


}



================================================
FILE: views/topic.view.lkml
================================================
view: topic {
  sql_table_name: WORKSPACE_564504055.TOPIC ;;
  drill_fields: [topic_id]

  dimension: topic_id {
    primary_key: yes
    type: string
    sql: ${TABLE}."TOPIC_ID" ;;
  }

  dimension: topic {
    type: string
    sql: ${TABLE}."TOPIC" ;;
  }

  dimension: topic_category_type {
    type: string
    sql: ${TABLE}."TOPIC_CATEGORY_TYPE" ;;
  }

  dimension: topic_group {
    type: string
    sql: ${TABLE}."TOPIC_GROUP" ;;
  }

  dimension: topic_object {
    type: string
    sql: ${TABLE}."TOPIC_OBJECT" ;;
  }

  dimension: topic_subject {
    type: string
    sql: ${TABLE}."TOPIC_SUBJECT" ;;
  }

  dimension: topic_type {
    type: string
    sql: ${TABLE}."TOPIC_TYPE" ;;
  }

  measure: count {
    type: count
    drill_fields: [topic_id, reviews_topic.count]
  }
}


