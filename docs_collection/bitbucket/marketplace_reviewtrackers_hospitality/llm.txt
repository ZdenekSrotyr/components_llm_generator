Directory structure:
└── kds_consulting_team-marketplace_reviewtrackers_hospitality/
    ├── README.md
    ├── block_keboola_reviewtrackers_hospitality.model.lkml
    ├── manifest.lkml
    ├── marketplace.json
    ├── reviewtrackers_hospitality_nlp_analysis.dashboard.lookml
    ├── reviewtrackers_hospitality_ratings_overview.dashboard.lookml
    ├── explores/
    │   ├── review_core.explore.lkml
    │   └── .gitkeep
    └── views/
        ├── attribute_relation_core.view.lkml
        ├── entity_core.view.lkml
        ├── hierarchy_relation_core.view.lkml
        ├── location_core.view.lkml
        ├── review_core.view.lkml
        ├── sentence_core.view.lkml
        └── tag_core.view.lkml

================================================
File: README.md
================================================
# Restaurant Reviews

## Keboola Blocks Intro (Scaffold Prerequisite)
Looker Blocks powered by Keboola are designed to work in tandem with corresponding Keboola Scaffolds in the Keboola Connection platform. Similar to Blocks in nature, Keboola Scaffolds are templatized use-cases that can be instantly deployed into the Keboola platform, providing the whole data management and processing chain required to populate the Looker dashboards.

## Block Overview
This Block connects to data from Keboola “Restaurant Reviews - Looker” Scaffold into Looker. Its purpose is to provide a quick out-of-the-box end to end integration and functionality to be used either stand-alone or to be combined with other data, into scorecards, etc. In order to set up the Keboola data feed, please contact us: [here](https://get.keboola.com/lookerblocks?block=rt_hospitality). If you don’t have a ReviewTrackers account, you can set up a free trial [here](https://www.reviewtrackers.com/request-demo/?utm_source=keboola&utm_medium=affiliate&utm_campaign=trial_link).

## Data and Block Structure
The block contains two LookML dashboards:
Ratings Overview for understanding the relative ratings, sentiment value, responsiveness and to highlight negative reviews for handling
NLP Analysis for deeper dive into the topics and their relative contribution to positive and negative feedback

The underlying model is simple and there is just one explore - “reviews”.

As a standard, the data gets provided as a connection to Keboola-provided Snowflake, but it can be easily changed to your own data warehouse of choice during the setup.


================================================
File: block_keboola_reviewtrackers_hospitality.model.lkml
================================================
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣀⣀⣠⣤⣤⣤⣤⣀⣀⣀⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣤⣴⣶⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣶⣤⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣠⣶⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣦⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣶⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣦⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣤⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠿⠿⠛⠛⠛⠛⠛⠛⠻⠿⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣼⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⢠⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠟⠻⣧⠀⠀⠀⠀⢀⡀⠀⠀⢀⡀⠀⠀⠀⢀⣼⠟⠻⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠀⠈⢧⡀⠀⠰⣿⣿⠆⠰⣿⣿⠆⠀⢀⡾⠁⠀⠀⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣦⠀⠀⠀⠙⢦⡀⠈⠁⠀⠀⠈⠁⢀⡴⠋⠀⠀⠀⣴⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡏⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣄⠀⠀⠀⠉⠓⠶⠤⠤⠶⠚⠉⠀⠀⠀⣠⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡷⠆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠰⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠇⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠈⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠋⠀⠀⠀⣠⡾⠀⠀⠀⣰⣦⠀⠀⠀⢷⣄⠀⠀⠀⠙⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡏⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠀⢠⣾⣿⠁⠀⠀⣸⣿⣿⡆⠀⠀⠈⣿⣷⡄⠀⠀⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣶⣿⣿⡏⠀⠀⢀⣿⣿⣿⣿⡀⠀⠀⢹⣿⣿⣷⣶⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠀⢸⣿⣿⣿⣿⡇⠀⠀⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣤⣤⣾⣿⣿⣿⣿⣷⣤⣤⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠟⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠟⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠻⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠋⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠛⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠿⠛⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠛⠻⠿⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠿⠿⠟⠋⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠉⠉⠉⠉⠉⠉⠉⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀


# This Looker Block is designed to be powered by a scaffold in Keboola connection
# that will acquire and transform data from ReviewTrackers into the model expected here.
#  Please go to https://get.keboola.com/lookerblocks if you haven't already.

# The connection name can be changed in the manifest file if desired, along with
# other constants used by this block (Keboola will automatically create a connection
# with this name

#connection: "@{CONNECTION}"

include: "/views/**/*.view"
include: "/explores/**/*.explore.lkml"
include: "*.dashboard.lookml"
include: "//@{CONFIG_PROJECT_NAME}/views/**/*.view.lkml"
include: "//@{CONFIG_PROJECT_NAME}/*.model.lkml"

explore: review {
  extends: [review_config]
}


================================================
File: manifest.lkml
================================================
project_name: "block-keboola-reviewtrackers-hospitality"

################ Constants ################

constant: CONFIG_PROJECT_NAME {
  value: "block-keboola-reviewtrackers_hospitality-config"
  export: override_required
}

constant: CONNECTION {
  value: "keboola_block_reviewtrackers_hospitality"
}

constant: SCHEMA_NAME {
  value: "WORKSPACE_506436037"
}

################ Dependencies ################

local_dependency: {
  project: "@{CONFIG_PROJECT_NAME}"
}


================================================
File: marketplace.json
================================================
{
  "label": "Reviewtrackers Restaurant Reviews",
  "category_label": "Models",
  "branding": {
    "image_uri": "https://www.keboola.com/data/poweredByKeboola.png",
    "tagline": "Understanding the voice of your customers has never been more important. Keboola’s Restaurant Reviews Block in partnership with ReviewTrackers gives you a detailed overview of your ratings and reviews, their topics, and a quick view of issues and opportunities. The included Natural Language Processing engine is specifically trained for this Block, and can be expanded to recognize and flag mentions, for example of specific menu items."
  },

  "constants": {
    "CONNECTION": {
      "label": "Connection Name",
      "value_constraint": "connection"
    },
    "SCHEMA_NAME": {
      "label": "Schema Name"
    },
    "CONFIG_PROJECT_NAME": {
      "label": "Config Project Name"
    }
  },
  "models": [
    {
      "name": "block-keboola-reviewtrackers_hospitality",
      "connection_constant": "CONNECTION"
    }
  ],
  "auxiliary_projects": [
    {
      "git_uri": "git://bitbucket.org/kds_consulting_team/marketplace_reviewtrackers_hospitality_config",
      "git_ref": "155a10e365f9b8b7b6fb65b27ce728759c68ead8",
      "label": "Reviewtrackers Restaurant Reviews Config",
      "constant_name": "CONFIG_PROJECT_NAME"
    }
  ]
}


================================================
File: reviewtrackers_hospitality_nlp_analysis.dashboard.lookml
================================================
- dashboard: reviewtrackers_hospitality_nlp_analysis
  title: ReviewTrackers Hospitality NLP Analysis
  layout: newspaper
  elements:
  - title: Top 10 Entities Sentiment
    name: Top 10 Entities Sentiment
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: looker_bar
    fields: [entity.entity, review.count, entity.sentiment_label]
    pivots: [entity.sentiment_label]
    filters:
      entity.entity: "-NULL"
    sorts: [review.count desc 3, entity.sentiment_label 0]
    limit: 10
    column_limit: 50
    row_total: right
    color_application:
      collection_id: legacy
      palette_id: legacy_diverging1
      options:
        steps: 5
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: bottom, series: [{axisId: negative - review.count,
            id: negative - review.count, name: negative}, {axisId: neutral - review.count,
            id: neutral - review.count, name: neutral}, {axisId: positive - review.count,
            id: positive - review.count, name: positive}], showLabels: false, showValues: true,
        unpinAxis: false, tickDensity: default, tickDensityCustom: 5, type: linear}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: normal
    limit_displayed_rows: false
    legend_position: center
    series_types: {}
    point_style: none
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 2
    col: 0
    width: 10
    height: 6
  - title: Locations Reviews Sentiment
    name: Locations Reviews Sentiment
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: looker_bar
    fields: [review.count, entity.sentiment_label, location.location]
    pivots: [entity.sentiment_label]
    filters:
      entity.sentiment_label: "-NULL"
    sorts: [review.count desc 3, entity.sentiment_label 0]
    limit: 10
    column_limit: 50
    row_total: right
    color_application:
      collection_id: legacy
      palette_id: legacy_diverging1
      options:
        steps: 5
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: bottom, series: [{axisId: negative - review.count,
            id: negative - review.count, name: negative}, {axisId: neutral - review.count,
            id: neutral - review.count, name: neutral}, {axisId: positive - review.count,
            id: positive - review.count, name: positive}], showLabels: false, showValues: true,
        unpinAxis: false, tickDensity: default, tickDensityCustom: 5, type: linear}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: normal
    limit_displayed_rows: false
    legend_position: center
    series_types: {}
    point_style: none
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 8
    col: 0
    width: 10
    height: 6
  - title: Rating 5
    name: Rating 5
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: table
    fields: [attribute_relation.subject, review.count]
    filters:
      review.rating_dimension: '5'
      attribute_relation.subject: "-NULL"
    sorts: [review.count desc]
    limit: 10
    show_view_names: false
    show_row_numbers: true
    truncate_column_names: false
    hide_totals: false
    hide_row_totals: false
    table_theme: gray
    limit_displayed_rows: false
    enable_conditional_formatting: false
    conditional_formatting_include_totals: false
    conditional_formatting_include_nulls: false
    series_types: {}
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 22
    col: 4
    width: 4
    height: 6
  - name: Most Mentioned Subjects by Rating
    type: text
    title_text: Most Mentioned Subjects by Rating
    row: 20
    col: 4
    width: 20
    height: 2
  - title: Average Sentiment
    name: Average Sentiment
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: looker_line
    fields: [review.sentiment_value, review.review_published_week]
    filters:
      review.sentiment_value: NOT NULL
    sorts: [review.review_published_week desc]
    limit: 500
    color_application:
      collection_id: legacy
      palette_id: santa_cruz
      options:
        steps: 5
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: review.sentiment_value,
            id: review.sentiment_value, name: Review Sentiment Value}], showLabels: false,
        showValues: true, unpinAxis: false, tickDensity: default, tickDensityCustom: 5,
        type: linear}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    legend_position: center
    series_types: {}
    point_style: none
    series_colors:
      review.sentiment_value: "#353b49"
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    reference_lines: [{reference_type: line, line_value: mean, range_start: max, range_end: min,
        margin_top: deviation, margin_value: mean, margin_bottom: deviation, label_position: right,
        color: "#000000"}]
    show_null_points: true
    interpolation: linear
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 22
    col: 0
    width: 4
    height: 6
  - title: Rating 4
    name: Rating 4
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: table
    fields: [attribute_relation.subject, review.count]
    filters:
      review.rating_dimension: '4'
      attribute_relation.subject: "-NULL"
    sorts: [review.count desc]
    limit: 10
    show_view_names: false
    show_row_numbers: true
    truncate_column_names: false
    hide_totals: false
    hide_row_totals: false
    table_theme: gray
    limit_displayed_rows: false
    enable_conditional_formatting: false
    conditional_formatting_include_totals: false
    conditional_formatting_include_nulls: false
    series_types: {}
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 22
    col: 8
    width: 4
    height: 6
  - title: Rating 3
    name: Rating 3
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: table
    fields: [attribute_relation.subject, review.count]
    filters:
      review.rating_dimension: '3'
      attribute_relation.subject: "-NULL"
    sorts: [review.count desc]
    limit: 10
    show_view_names: false
    show_row_numbers: true
    truncate_column_names: false
    hide_totals: false
    hide_row_totals: false
    table_theme: gray
    limit_displayed_rows: false
    enable_conditional_formatting: false
    conditional_formatting_include_totals: false
    conditional_formatting_include_nulls: false
    series_types: {}
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 22
    col: 12
    width: 4
    height: 6
  - title: Rating 2
    name: Rating 2
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: table
    fields: [attribute_relation.subject, review.count]
    filters:
      review.rating_dimension: '2'
      attribute_relation.subject: "-NULL"
    sorts: [review.count desc]
    limit: 10
    show_view_names: false
    show_row_numbers: true
    truncate_column_names: false
    hide_totals: false
    hide_row_totals: false
    table_theme: gray
    limit_displayed_rows: false
    enable_conditional_formatting: false
    conditional_formatting_include_totals: false
    conditional_formatting_include_nulls: false
    series_types: {}
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 22
    col: 16
    width: 4
    height: 6
  - title: Rating 1
    name: Rating 1
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: table
    fields: [attribute_relation.subject, review.count]
    filters:
      review.rating_dimension: '1'
      attribute_relation.subject: "-NULL"
    sorts: [review.count desc]
    limit: 10
    show_view_names: false
    show_row_numbers: true
    truncate_column_names: false
    hide_totals: false
    hide_row_totals: false
    table_theme: gray
    limit_displayed_rows: false
    enable_conditional_formatting: false
    conditional_formatting_include_totals: false
    conditional_formatting_include_nulls: false
    series_types: {}
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 22
    col: 20
    width: 4
    height: 6
  - name: Sentiment KPI
    type: text
    title_text: Sentiment KPI
    row: 20
    col: 0
    width: 4
    height: 2
  - title: Top Hierarchy Relations
    name: Top Hierarchy Relations
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: looker_bar
    fields: [hierarchy_relation.object, hierarchy_relation.entity, hierarchy_relation.count]
    sorts: [hierarchy_relation.count desc]
    limit: 10
    color_application:
      collection_id: legacy
      palette_id: santa_cruz
      options:
        steps: 5
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: true
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: normal
    limit_displayed_rows: false
    legend_position: center
    series_types: {}
    point_style: none
    series_colors:
      attribute_relation.count: "#ed6168"
      hierarchy_relation.count: "#e9b404"
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    hidden_fields: []
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 14
    col: 10
    width: 14
    height: 6
  - name: 'scaffold'
    type: text
    subtitle_text: <font size="5px"><font color="#408ef7"><b>Hospitality Reviews</b></font>
    row: 0
    col: 0
    width: 7
    height: 2
  - name: 'dashboard'
    type: text
    subtitle_text: <font size="5px"><font color="#408ef7"><b>NLP Analysis</b></font>
    row: 0
    col: 7
    width: 11
    height: 2
  - name: 'powered by'
    type: text
    body_text: <a href="https://keboola.com" target="_blank"> <img src="https://www.keboola.com/data/poweredByKeboola.png"
      width="100%"/>
    row: 0
    col: 18
    width: 6
    height: 2
  - title: Top Attribute Relations w/ Negative Sentiment
    name: Top Attribute Relations w/ Negative Sentiment
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: looker_bar
    fields: [attribute_relation.subject, attribute_relation.attribute, attribute_relation.count]
    filters:
      attribute_relation.sentiment_label: negative
    sorts: [attribute_relation.count desc]
    limit: 10
    color_application:
      collection_id: legacy
      palette_id: santa_cruz
      options:
        steps: 5
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: true
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: normal
    limit_displayed_rows: false
    legend_position: center
    series_types: {}
    point_style: none
    series_colors:
      attribute_relation.count: "#ed6168"
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    hidden_fields: []
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 2
    col: 10
    width: 14
    height: 6
  - title: Top Attribute Relations w/ Positive Sentiment
    name: Top Attribute Relations w/ Positive Sentiment
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: looker_bar
    fields: [attribute_relation.subject, attribute_relation.attribute, attribute_relation.count]
    filters:
      attribute_relation.sentiment_label: positive
    sorts: [attribute_relation.count desc]
    limit: 10
    color_application:
      collection_id: legacy
      palette_id: santa_cruz
      options:
        steps: 5
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: true
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: normal
    limit_displayed_rows: false
    legend_position: center
    series_types: {}
    point_style: none
    series_colors:
      attribute_relation.count: "#49cec1"
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    hidden_fields: []
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 8
    col: 10
    width: 14
    height: 6
  - title: Most Mentioned Entities
    name: Most Mentioned Entities
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: looker_wordcloud
    fields: [entity.entity, entity.count]
    limit: 20
    series_types: {}
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 14
    col: 0
    width: 10
    height: 6
  filters:
  - name: Date
    title: Date
    type: date_filter
    default_value: 3 months
    allow_multiple_values: true
    required: false
  - name: Location
    title: Location
    type: field_filter
    default_value: ''
    allow_multiple_values: true
    required: false
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    listens_to_filters: []
    field: location.location
  - name: Source
    title: Source
    type: field_filter
    default_value: ''
    allow_multiple_values: true
    required: false
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    listens_to_filters: []
    field: review.source


================================================
File: reviewtrackers_hospitality_ratings_overview.dashboard.lookml
================================================
- dashboard: reviewtrackers_hospitality_rating_overview
  title: ReviewTrackers Hospitality Rating Overview
  layout: newspaper
  elements:
  - title: Reviews
    name: Reviews
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: single_value
    fields: [review.count]
    limit: 500
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 6
    col: 0
    width: 4
    height: 2
  - title: Average Rating KPI
    name: Average Rating KPI
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: single_value
    fields: [review.rating_stars]
    limit: 500
    custom_color_enabled: true
    show_single_value_title: false
    show_comparison: false
    comparison_type: value
    comparison_reverse_colors: false
    show_comparison_label: true
    enable_conditional_formatting: false
    conditional_formatting_include_totals: false
    conditional_formatting_include_nulls: false
    series_types: {}
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 0
    col: 0
    width: 4
    height: 2
  - title: Average Rating Overall
    name: Average Rating Overall
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: single_value
    fields: [review.rating_value, review.old_rating]
    limit: 500
    dynamic_fields: [{table_calculation: change, label: Change, expression: "(${review.rating_value}-${review.old_rating})/${review.old_rating}",
        value_format: !!null '', value_format_name: percent_1, _kind_hint: measure,
        _type_hint: number}]
    custom_color_enabled: true
    show_single_value_title: true
    show_comparison: true
    comparison_type: change
    comparison_reverse_colors: false
    show_comparison_label: true
    enable_conditional_formatting: false
    conditional_formatting_include_totals: false
    conditional_formatting_include_nulls: false
    hidden_fields: [review.old_rating]
    series_types: {}
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 2
    col: 0
    width: 4
    height: 4
  - title: Reviews by Rating
    name: Reviews by Rating
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: looker_column
    fields: [review.count, review.rating_dimension]
    pivots: [review.rating_dimension]
    sorts: [review.rating_dimension]
    limit: 500
    color_application:
      collection_id: legacy
      palette_id: legacy_diverging1
      options:
        steps: 5
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: review.count, id: 1
              - review.count, name: '1'}, {axisId: review.count, id: 2 - review.count,
            name: '2'}, {axisId: review.count, id: 3 - review.count, name: '3'}, {
            axisId: review.count, id: 4 - review.count, name: '4'}, {axisId: review.count,
            id: 5 - review.count, name: '5'}], showLabels: false, showValues: true,
        unpinAxis: false, tickDensity: default, tickDensityCustom: 5, type: linear}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    legend_position: center
    series_types: {}
    point_style: none
    series_colors: {}
    show_value_labels: true
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 0
    col: 4
    width: 8
    height: 6
  - title: Reviews & Average Sentiment Last 12 Weeks
    name: Reviews & Average Sentiment Last 12 Weeks
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: looker_line
    fields: [review.review_published_week, review.sentiment_value, review.count]
    fill_fields: [review.review_published_week]
    filters:
      review.review_published_week: 12 weeks
    sorts: [review.review_published_week desc]
    limit: 500
    color_application:
      collection_id: legacy
      palette_id: santa_cruz
      options:
        steps: 5
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: review.sentiment_value,
            id: review.sentiment_value, name: Review Sentiment Value}], showLabels: true,
        showValues: true, unpinAxis: false, tickDensity: default, type: linear}, {
        label: !!null '', orientation: right, series: [{axisId: review.count, id: review.count,
            name: Reviews}], showLabels: true, showValues: true, unpinAxis: false,
        tickDensity: default, type: linear}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    hide_legend: true
    legend_position: center
    series_types:
      review.count: area
    point_style: none
    series_colors:
      review.count: "#1ea8df"
      review.sentiment_value: "#353b49"
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    show_null_points: true
    interpolation: linear
    listen:
      Location: location.location
      Source: review.source
    row: 0
    col: 12
    width: 12
    height: 6
  - title: Reviews by Rating Last 12 Weeks
    name: Reviews by Rating Last 12 Weeks
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: looker_column
    fields: [review.count, review.rating_dimension, review.review_published_week]
    pivots: [review.rating_dimension]
    fill_fields: [review.review_published_week]
    filters:
      review.review_published_week: 12 weeks
    sorts: [review.rating_dimension, review.review_published_week desc]
    limit: 500
    color_application:
      collection_id: legacy
      palette_id: legacy_diverging1
      options:
        steps: 5
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: left, series: [{axisId: review.count, id: 1
              - review.count, name: '1'}, {axisId: review.count, id: 2 - review.count,
            name: '2'}, {axisId: review.count, id: 3 - review.count, name: '3'}, {
            axisId: review.count, id: 4 - review.count, name: '4'}, {axisId: review.count,
            id: 5 - review.count, name: '5'}], showLabels: false, showValues: true,
        unpinAxis: false, tickDensity: default, tickDensityCustom: 5, type: linear}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: normal
    limit_displayed_rows: false
    legend_position: center
    series_types: {}
    point_style: none
    series_colors: {}
    show_value_labels: false
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    listen:
      Location: location.location
      Source: review.source
    row: 6
    col: 12
    width: 12
    height: 6
  - title: Locations Ratings
    name: Locations Ratings
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: looker_map
    fields: [location.location_gps, review.rating_value, location.location]
    sorts: [review.rating_value desc]
    limit: 500
    map_plot_mode: points
    heatmap_gridlines: false
    heatmap_gridlines_empty: false
    heatmap_opacity: 0.5
    show_region_field: true
    draw_map_labels_above_data: true
    map_tile_provider: light
    map_position: fit_data
    map_scale_indicator: 'off'
    map_pannable: true
    map_zoomable: true
    map_marker_type: icon
    map_marker_icon_name: restaurant
    map_marker_radius_mode: proportional_value
    map_marker_units: meters
    map_marker_proportional_scale_type: linear
    map_marker_color_mode: value
    show_view_names: false
    show_legend: true
    quantize_map_value_colors: false
    reverse_map_value_colors: true
    map_value_scale_clamp_min: 1
    map_value_scale_clamp_max: 5
    series_types: {}
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 6
    col: 4
    width: 8
    height: 6
  - title: Number of Locations
    name: Number of Locations
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: single_value
    fields: [location.count]
    limit: 500
    listen:
      Location: location.location
      Source: review.source
    row: 10
    col: 0
    width: 4
    height: 2
  - title: Reviews w/ Response
    name: Reviews w/ Response
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: single_value
    fields: [review.count, review.responded_reviews]
    limit: 500
    dynamic_fields: [{table_calculation: reviews_w_response, label: Reviews w/ Response,
        expression: "${review.responded_reviews}/${review.count}", value_format: !!null '',
        value_format_name: percent_1, _kind_hint: measure, _type_hint: number}]
    hidden_fields: [review.count, review.responded_reviews]
    series_types: {}
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 8
    col: 0
    width: 4
    height: 2
  - title: Last 14 Days vs Overall Rating
    name: Last 14 Days vs Overall Rating
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: looker_bar
    fields: [location.location, review.recent_rating, review.rating_value]
    sorts: [review.recent_rating desc]
    limit: 500
    color_application:
      collection_id: legacy
      palette_id: santa_cruz
      options:
        steps: 5
    x_axis_gridlines: false
    y_axis_gridlines: true
    show_view_names: false
    y_axes: [{label: '', orientation: bottom, series: [{axisId: review.recent_rating,
            id: review.recent_rating, name: Recent Rating}, {axisId: review.rating_value,
            id: review.rating_value, name: Rating Value}], showLabels: false, showValues: false,
        unpinAxis: false, tickDensity: default, tickDensityCustom: 5, type: linear}]
    show_y_axis_labels: true
    show_y_axis_ticks: true
    y_axis_tick_density: default
    y_axis_tick_density_custom: 5
    show_x_axis_label: false
    show_x_axis_ticks: true
    y_axis_scale_mode: linear
    x_axis_reversed: false
    y_axis_reversed: false
    plot_size_by_field: false
    trellis: ''
    stacking: ''
    limit_displayed_rows: false
    legend_position: center
    series_types: {}
    point_style: none
    series_colors:
      review.recent_rating: "#1ea8df"
      review.rating_value: "#353b49"
    show_value_labels: true
    label_density: 25
    x_axis_scale: auto
    y_axis_combined: true
    ordering: none
    show_null_labels: false
    show_totals_labels: false
    show_silhouette: false
    totals_color: "#808080"
    listen:
      Date: review.review_published_date
      Location: location.location
      Source: review.source
    row: 12
    col: 0
    width: 12
    height: 6
  - title: Bad Reviews in Last 14 Days
    name: Bad Reviews in Last 14 Days
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    type: table
    fields: [location.location, review.source, review.review_published_date, review.review_text_short,
      review.rating_stars, review.sentiment_value]
    filters:
      review.review_published_date: 14 days
      review.rating_value: "<4"
    sorts: [review.review_published_date desc]
    limit: 500
    show_view_names: false
    show_row_numbers: true
    truncate_column_names: false
    hide_totals: false
    hide_row_totals: false
    table_theme: gray
    limit_displayed_rows: false
    enable_conditional_formatting: false
    conditional_formatting_include_totals: false
    conditional_formatting_include_nulls: false
    series_types: {}
    listen:
      Location: location.location
      Source: review.source
    row: 12
    col: 12
    width: 12
    height: 6
  filters:
  - name: Date
    title: Date
    type: date_filter
    default_value: 6 months
    allow_multiple_values: true
    required: false
  - name: Location
    title: Location
    type: field_filter
    default_value: ''
    allow_multiple_values: true
    required: false
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    listens_to_filters: []
    field: location.location
  - name: Source
    title: Source
    type: field_filter
    default_value: ''
    allow_multiple_values: true
    required: false
    model: block_keboola_reviewtrackers_hospitality
    explore: review
    listens_to_filters: []
    field: review.source


================================================
File: explores/review_core.explore.lkml
================================================
explore: review_core {
  hidden: yes
  extension: required

  join: entity {
    type: left_outer
    sql_on: ${review.review_id} = ${entity.review_id} ;;
    relationship: one_to_many
  }

  join: location {
    type: left_outer
    sql_on: ${review.location_id} = ${location.location_id} ;;
    relationship: many_to_one
  }

  join: attribute_relation {
    type: left_outer
    sql_on: ${review.review_id} = ${attribute_relation.review_id} ;;
    relationship: one_to_many
  }

  join: hierarchy_relation {
    type: left_outer
    sql_on: ${review.review_id} = ${hierarchy_relation.review_id} ;;
    relationship: one_to_many
  }

  join: sentence {
    type: left_outer
    sql_on: ${review.review_id} = ${sentence.review_id} ;;
    relationship: one_to_many
  }

  join: tag {
    type: left_outer
    sql_on: ${review.review_id} = ${tag.review_id} ;;
    relationship: one_to_many
  }

}


================================================
File: views/attribute_relation_core.view.lkml
================================================
include: "//@{CONFIG_PROJECT_NAME}/views/attribute_relation.view"

view: attribute_relation {
  extends: [attribute_relation_config]
}

view: attribute_relation_core {
  sql_table_name: @{SCHEMA_NAME}.ATTRIBUTE_RELATION ;;

  dimension: attribute_relation_id {
    hidden: yes
    primary_key: yes
    type: string
    sql: ${TABLE}."ATTRIBUTE_RELATION_ID" ;;
  }

  dimension: attribute {
    type: string
    sql: ${TABLE}."ATTRIBUTE" ;;
  }

  dimension: review_id {
    type: string
    hidden: yes
    sql: ${TABLE}."REVIEW_ID" ;;
  }

  dimension: subject {
    type: string
    sql: ${TABLE}."SUBJECT" ;;
  }

  dimension: sentiment_label {
    type: string
    sql: ${TABLE}."SENTIMENT_LABEL" ;;
  }

  dimension: sentiment_value_dimension {
    hidden: yes
    type: number
    sql: ${TABLE}."SENTIMENT_VALUE" ;;
  }

  measure: attribute_sentiment_value {
    label: "Attribute Sentiment Value"
    type: average
    sql: ${sentiment_value_dimension} ;;
    value_format: "# ##0.0#"
    drill_fields: [detail*, attribute_sentiment_value]
  }

  measure: count {
    label: "Relations"
    type: count
    drill_fields: [detail*, subject, attribute, count]
  }

  # ----- Sets of fields for drilling ------
  set: detail {
    fields: [
      location.location,
      review.review_published_date,
      review.review_text_short,
      review.source,
      review.rating_stars,
      sentiment_label
    ]
  }
}


================================================
File: views/entity_core.view.lkml
================================================
include: "//@{CONFIG_PROJECT_NAME}/views/entity.view"

view: entity {
  extends: [entity_config]
}

view: entity_core {
  sql_table_name: @{SCHEMA_NAME}.ENTITY ;;

  dimension: entity_id {
    hidden: yes
    primary_key: yes
    type: string
    sql: ${TABLE}."ENTITY_ID" ;;
  }

  dimension: entity {
    type: string
    sql: ${TABLE}."ENTITY" ;;
  }

  dimension: entity_type {
    type: string
    sql: ${TABLE}."ENTITY_TYPE" ;;
  }

  dimension: review_id {
    type: string
    # hidden: yes
    sql: ${TABLE}."REVIEW_ID" ;;
  }

  dimension: sentiment_label {
    type: string
    sql: ${TABLE}."SENTIMENT_LABEL" ;;
  }

  dimension: sentiment_value_dimension {
    hidden: yes
    type: number
    sql: ${TABLE}."SENTIMENT_VALUE" ;;
  }

  measure: entity_sentiment_value {
    label: "Entity Sentiment Value"
    type: average
    sql: ${sentiment_value_dimension} ;;
    value_format: "# ##0.0#"
    drill_fields: [detail*, entity_sentiment_value]
  }

  measure: count {
    label: "Entities"
    type: count
    drill_fields: [detail*, entity_type, entity, count]
  }

  # ----- Sets of fields for drilling ------
  set: detail {
    fields: [
      location.location,
      review.review_published_date,
      review.review_text_short,
      review.source,
      review.rating_stars,
      sentiment_label
    ]
  }
}


================================================
File: views/hierarchy_relation_core.view.lkml
================================================
include: "//@{CONFIG_PROJECT_NAME}/views/hierarchy_relation.view"

view: hierarchy_relation {
  extends: [hierarchy_relation_config]
}

view: hierarchy_relation_core {
  sql_table_name: @{SCHEMA_NAME}.HIERARCHY_RELATION ;;

  dimension: hierarchy_relation_id {
    primary_key: yes
    type: string
    sql: ${TABLE}."HIERARCHY_RELATION_ID" ;;
  }

  dimension: entity {
    type: string
    sql: ${TABLE}."ENTITY" ;;
  }

  dimension: object {
    type: string
    sql: ${TABLE}."OBJECT" ;;
  }

  dimension: review_id {
    type: string
    # hidden: yes
    sql: ${TABLE}."REVIEW_ID" ;;
  }

  dimension: sentiment_label {
    type: string
    sql: ${TABLE}."SENTIMENT_LABEL" ;;
  }

  dimension: sentiment_value_dimension {
    hidden: yes
    type: number
    sql: ${TABLE}."SENTIMENT_VALUE" ;;
  }

  measure: hierarchy_sentiment_value {
    label: "Hierarchy Sentiment Value"
    type: average
    sql: ${sentiment_value_dimension} ;;
    value_format: "# ##0.0#"
    drill_fields: [detail*, hierarchy_sentiment_value]
  }

  measure: count {
    label: "Relations"
    type: count
    drill_fields: [detail*, object, entity, count]
  }

  # ----- Sets of fields for drilling ------
  set: detail {
    fields: [
      location.location,
      review.review_published_date,
      review.review_text_short,
      review.source,
      review.rating_stars,
      sentiment_label
    ]
  }
}


================================================
File: views/location_core.view.lkml
================================================
include: "//@{CONFIG_PROJECT_NAME}/views/location.view"

view: location {
  extends: [location_config]
}

view: location_core {
  sql_table_name: @{SCHEMA_NAME}.LOCATION ;;

  dimension: location_id {
    hidden: yes
    primary_key: yes
    type: string
    sql: ${TABLE}."LOCATION_ID" ;;
  }

  dimension: city {
    type: string
    sql: ${TABLE}."CITY" ;;
  }

  dimension: country {
    type: string
    map_layer_name: countries
    sql: ${TABLE}."COUNTRY" ;;
  }

  dimension: location {
    type: string
    sql: ${TABLE}."LOCATION" ;;
  }

  dimension: latitude {
    hidden: yes
    type: string
    sql: ${TABLE}."LATITUDE" ;;
  }

  dimension: longitude {
    hidden: yes
    type: string
    sql: ${TABLE}."LONGITUDE" ;;
  }

  dimension: location_gps {
    type: location
    label: "Location GPS"
    sql_latitude: ${latitude} ;;
    sql_longitude: ${longitude} ;;
  }

  dimension: state {
    type: string
    sql: ${TABLE}."STATE" ;;
  }

  dimension: street {
    type: string
    sql: ${TABLE}."STREET" ;;
  }

  dimension: zipcode {
    type: zipcode
    sql: ${TABLE}."ZIPCODE" ;;
  }

  measure: count {
    label: "Locations"
    type: count
    drill_fields: [country, city, count]
  }
}


================================================
File: views/review_core.view.lkml
================================================
include: "//@{CONFIG_PROJECT_NAME}/views/review.view"

view: review {
  extends: [review_config]
}

view: review_core {
  sql_table_name: @{SCHEMA_NAME}.REVIEW ;;

  dimension: review_id {
    label: "Review ID"
    primary_key: yes
    type: string
    sql: ${TABLE}."REVIEW_ID" ;;
  }

  dimension: has_response {
    type: string
    sql: ${TABLE}."HAS_RESPONSE" ;;
  }

  dimension: location_id {
    type: string
    hidden: yes
    sql: ${TABLE}."LOCATION_ID" ;;
  }

  dimension_group: response_published {
    type: time
    timeframes: [
      raw,
      date,
      week,
      month,
      quarter,
      year
    ]
    convert_tz: no
    sql: ${TABLE}."RESPONSE_PUBLISHED_AT" ;;
  }

  dimension_group: review_published {
    type: time
    timeframes: [
      raw,
      date,
      week,
      month,
      quarter,
      year
    ]
    convert_tz: no
    sql: ${TABLE}."REVIEW_PUBLISHED_AT" ;;
  }

  dimension: review_text {
    type: string
    sql: ${TABLE}."REVIEW_TEXT" ;;
  }

  dimension: review_text_short {
    type: string
    sql: IFF(LENGTH(${review_text})>256,LEFT(${review_text},253)||'...',${review_text}) ;;
    drill_fields: [detail*, review_text]
  }

  dimension: review_title {
    type: string
    sql: ${TABLE}."REVIEW_TITLE" ;;
  }

  dimension: response_text {
    type: string
    sql: ${TABLE}."RESPONSE_TEXT" ;;
  }

  dimension: response_text_short {
    type: string
    sql: IFF(LENGTH(${response_text})>256,LEFT(${response_text},253)||'...',${response_text}) ;;
    drill_fields: [detail*, review_text]
  }

  dimension: sentiment_label {
    label: "Review Sentiment Label"
    type: string
    sql: ${TABLE}."SENTIMENT_LABEL" ;;
  }

  dimension: source {
    type: string
    sql: ${TABLE}."SOURCE" ;;
    html: <a href={{source_url}} target="_blank"><font color="blue">{{ value }}</font></a> ;;
  }

  dimension: source_url {
    hidden: yes
    type: string
    sql: ${TABLE}."SOURCE_URL" ;;
  }

  dimension: sentiment_value_dimension {
    hidden: yes
    type: number
    sql: ${TABLE}."SENTIMENT_VALUE" ;;
  }

  dimension: review_text_length_dimension {
    hidden: yes
    type: number
    sql: ${TABLE}."REVIEW_TEXT_LENGTH" ;;
  }

  dimension: rating_dimension {
    label: "Rating"
    type: number
    sql: ${TABLE}."RATING" ;;
  }

  dimension: days_to_response_dimension {
    hidden: yes
    type: number
    sql: ${TABLE}."DAYS_TO_RESPONSE" ;;
  }

  measure: rating_value {
    type: average
    sql: ${rating_dimension} ;;
    value_format: "# ##0.0#"
    drill_fields: [detail*, rating_value]
  }

  measure: recent_rating {
    type: average
    sql: ${rating_dimension} ;;
    filters: {
      field: review_published_date
      value: "last 14 days"
    }
    view_label: ""
    value_format: "# ##0.0#"
    drill_fields: [detail*, recent_rating]
  }

  measure: old_rating {
    description: "14 days ago"
    type: average
    sql: ${rating_dimension} ;;
    filters: {
      field: review_published_date
      value: "before 14 days ago"
    }
    view_label: ""
    value_format: "# ##0.0#"
    drill_fields: [detail*, old_rating]
  }

  measure: rating_stars {
    type: average
    sql: ${rating_dimension} ;;
    view_label: ""
    html:
      {%if {{value}} > 0.5%}
        {%if {{value}} > 1.5%}
          {%if {{value}} > 2.5%}
            {%if {{value}} > 3.5%}
              {%if {{value}} > 4.5%}
              ✪ ✪ ✪ ✪ ✪
              {%else%}
              ✪ ✪ ✪ ✪
              {%endif%}
            {%else%}
            ✪ ✪ ✪
            {%endif%}
          {%else%}
          ✪ ✪
          {%endif%}
        {%else%}
        ✪
        {%endif%}
      {%else%}
      💩
      {%endif%};;
  }

  measure: sentiment_value {
    label: "Review Sentiment Value"
    type: average
    sql: ${sentiment_value_dimension} ;;
    value_format: "# ##0.0#"
    drill_fields: [detail*, sentiment_value]
  }

  measure: review_text_length {
    type: average
    sql: ${review_text_length_dimension} ;;
  }

  measure: days_to_response {
    type: average
    sql: ${days_to_response_dimension} ;;
  }

  measure: count {
    label: "Reviews"
    type: count
    drill_fields: [detail*, count]
  }

  measure: responded_reviews {
    type: count
    filters: {
      field: has_response
      value: "true"
    }
    drill_fields: [detail*, responded_reviews]
  }

  # ----- Sets of fields for drilling ------
  set: detail {
    fields: [
      location.location,
      review_published_date,
      source,
      review_text_short,
      response_text_short,
      rating_stars,
      sentiment_label
    ]
  }
}


================================================
File: views/sentence_core.view.lkml
================================================
include: "//@{CONFIG_PROJECT_NAME}/views/sentence.view"

view: sentence {
  extends: [sentence_config]
}

view: sentence_core {
  sql_table_name: @{SCHEMA_NAME}.SENTENCE ;;

  dimension: sentence_id {
    hidden: yes
    primary_key: yes
    type: string
    sql: ${TABLE}."SENTENCE_ID" ;;
  }

  dimension: order {
    type: number
    sql: ${TABLE}."ORDER" ;;
  }

  dimension: review_id {
    type: string
    hidden: yes
    sql: ${TABLE}."REVIEW_ID" ;;
  }

  dimension: segment {
    type: string
    sql: ${TABLE}."SEGMENT" ;;
  }

  dimension: sentence {
    type: string
    sql: ${TABLE}."SENTENCE" ;;
  }

  dimension: sentiment_label {
    type: string
    sql: ${TABLE}."SENTIMENT_LABEL" ;;
  }

  dimension: sentiment_value_dimension {
    hidden: yes
    type: number
    sql: ${TABLE}."SENTIMENT_VALUE" ;;
  }

  measure: sentence_sentiment_value {
    label: "Sentence Sentiment Value"
    type: average
    sql: ${sentiment_value_dimension} ;;
    value_format: "# ##0.0#"
    drill_fields: [detail*, sentence_sentiment_value]
  }

  measure: count {
    label: "Sentences"
    type: count
    drill_fields: [detail*, count]
  }

  # ----- Sets of fields for drilling ------
  set: detail {
    fields: [
      location.location,
      review.review_published_date,
      review.review_text_short,
      review.source,
      review.rating_stars,
      sentiment_label
    ]
  }
}


================================================
File: views/tag_core.view.lkml
================================================
include: "//@{CONFIG_PROJECT_NAME}/views/**/tag.view"

view: tag {
  extends: [tag_config]
}

view: tag_core {
  sql_table_name: @{SCHEMA_NAME}.TAG ;;

  dimension: tag_id {
    primary_key: yes
    hidden: yes
    type: string
    sql: ${TABLE}."TAG_ID" ;;
  }

  dimension: review_id {
    type: string
    hidden: yes
    sql: ${TABLE}."REVIEW_ID" ;;
  }

  dimension: tag {
    type: string
    sql: ${TABLE}."TAG" ;;
  }

  measure: count {
    label: "Tags"
    type: count
    drill_fields: [detail*, count]
  }

  # ----- Sets of fields for drilling ------
  set: detail {
    fields: [
      location.location,
      review.review_published_date,
      review.source,
      review.rating_stars
    ]
  }
}


